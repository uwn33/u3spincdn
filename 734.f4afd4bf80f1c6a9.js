"use strict";(self.webpackChunkuwin33=self.webpackChunkuwin33||[]).push([[734],{1652:(V,z,l)=>{l.d(z,{$:()=>k});var f=l(1635),w=l(9377),x=l(2881),o=l(1360),e=l(9417);const b=["*"];let C=(()=>{class d{config;afterChange=(0,o.CGW)();beforeChange=(0,o.CGW)();breakpoint=(0,o.CGW)();destroy=(0,o.CGW)();init=(0,o.CGW)();$instance;currentIndex=0;slides=[];initialized=!1;_removedSlides=[];_addedSlides=[];el=(0,o.WQX)(o.aKT);zone=(0,o.WQX)(o.SKi);isServer=(0,w.Vy)((0,o.WQX)(o.Agw));ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!this.isServer&&(this._addedSlides.length>0||this._removedSlides.length>0)){const a=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===a?this.unslick():(this._addedSlides.forEach(r=>{this.slides.push(r),this.$instance.slick("slickAdd",r.el.nativeElement)}),this._addedSlides=[],this._removedSlides.forEach(r=>{const u=this.slides.indexOf(r);this.slides=this.slides.filter(_=>_!==r),this.$instance.slick("slickRemove",u)}),this._removedSlides=[]):a>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(a,r)=>{this.zone.run(()=>{this.init.emit({event:a,slick:r})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config?.initialSlide||0}),this.$instance.on("afterChange",(a,r,u)=>{this.zone.run(()=>{this.afterChange.emit({event:a,slick:r,currentSlide:u,first:0===u,last:r.$slides.length===u+r.options.slidesToScroll}),this.currentIndex=u})}),this.$instance.on("beforeChange",(a,r,u,_)=>{this.zone.run(()=>{this.beforeChange.emit({event:a,slick:r,currentSlide:u,nextSlide:_}),this.currentIndex=_})}),this.$instance.on("breakpoint",(a,r,u)=>{this.zone.run(()=>{this.breakpoint.emit({event:a,slick:r,breakpoint:u})})}),this.$instance.on("destroy",(a,r)=>{this.zone.run(()=>{this.destroy.emit({event:a,slick:r}),this.initialized=!1})})}addSlide(a){this._addedSlides.push(a)}removeSlide(a){this._removedSlides.push(a)}slickGoTo(a){this.$instance.slick("slickGoTo",a)}slickNext(){this.$instance.slick("slickNext")}slickPrev(){this.$instance.slick("slickPrev")}slickPause(){this.$instance.slick("slickPause")}slickPlay(){this.$instance.slick("slickPlay")}unslick(){this.$instance&&(this.$instance.slick("unslick"),this.$instance=void 0),this.initialized=!1}ngOnChanges(a){if(this.initialized){const r=a.config;if(r.previousValue!==r.currentValue&&void 0!==r.currentValue){const u=r.currentValue.refresh,_=Object.assign({},r.currentValue);delete _.refresh,this.$instance.slick("slickSetOption",_,u)}}}static \u0275fac=function(r){return new(r||d)};static \u0275cmp=o.VBU({type:d,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],standalone:!1,features:[o.Jv_([{provide:e.kq,useExisting:(0,o.Rfq)(()=>d),multi:!0}]),o.OA$],ngContentSelectors:b,decls:1,vars:0,template:function(r,u){1&r&&(o.NAR(),o.SdG(0))},encapsulation:2})}return d})(),h=(()=>{class d{carousel=(0,o.WQX)(C,{host:!0});renderer=(0,o.WQX)(o.sFG);el=(0,o.WQX)(o.aKT);isServer=(0,w.Vy)((0,o.WQX)(o.Agw));ngOnInit(){this.carousel.addSlide(this),this.isServer&&this.carousel.slides.length>0&&this.renderer.setStyle(this.el,"display","none")}ngOnDestroy(){this.carousel.removeSlide(this)}static \u0275fac=function(r){return new(r||d)};static \u0275dir=o.FsC({type:d,selectors:[["","ngxSlickItem",""]],standalone:!1})}return d})(),S=(()=>{class d{static \u0275fac=function(r){return new(r||d)};static \u0275mod=o.$C({type:d});static \u0275inj=o.G2t({imports:[x.MD]})}return d})();var F=l(4860),R=l(4572),T=l(5964),O=l(8141),H=l(9437),j=l(983),v=l(5256),I=l(1780),y=l(7673);let P=(()=>{class d{transform(a){switch(a){case"GoldBar":return(0,y.of)("10g Gold Bar 999.9");case"IPhone":return(0,y.of)("iPhone 16 Pro Max");default:return(0,y.of)(a)}}static#e=this.\u0275fac=function(r){return new(r||d)};static#t=this.\u0275pipe=o.EJ8({name:"prizeType",type:d,pure:!0})}return d})();var A=l(9962),D=l(3190);const E=d=>({$implicit:d});function G(d,g){1&d&&o.eu8(0)}function B(d,g){if(1&d&&(o.j41(0,"div",8),o.DNE(1,G,1,0,"ng-container",9),o.k0s()),2&d){const a=g.$implicit;o.XpG();const r=o.sdS(11);o.R7$(),o.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",o.eq3(2,E,a))}}function N(d,g){if(1&d&&(o.j41(0,"div",12),o.nrm(1,"div",13),o.j41(2,"span",14),o.EFF(3),o.k0s(),o.j41(4,"div",15)(5,"span",16),o.EFF(6),o.nI1(7,"async"),o.nI1(8,"number"),o.nI1(9,"prizeType"),o.nI1(10,"async"),o.k0s(),o.j41(11,"span",17),o.EFF(12),o.nI1(13,"date"),o.k0s()()()),2&d){const a=g.$implicit,r=o.XpG(2);o.R7$(3),o.JRh(a.accountCode),o.R7$(3),o.SpI(" ",r.isNaN(a.prize)?a.prize:+a.prize>0?o.bMT(7,3,r.currency$)+" "+o.i5U(8,5,a.prize,"1.2-2"):o.bMT(10,10,o.bMT(9,8,a.prizeType))," "),o.R7$(6),o.JRh(o.i5U(13,12,a.claimedTime,"dd/MM/yyyy"))}}function W(d,g){if(1&d&&(o.j41(0,"div",10),o.DNE(1,N,14,15,"div",11),o.k0s()),2&d){const a=g.$implicit;o.R7$(),o.Y8G("ngForOf",a)}}let k=class X{constructor(){this.appStateService=(0,o.WQX)(F.iC),this.playerService=(0,o.WQX)(A.x),this.utilService=(0,o.WQX)(D.a),this.currency$=this.appStateService.currency$,this.slideConfig={slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0},this.winnersList=[],this.chunkWinnerList=[],this.chunkSize=5,this.query={pageIndex:1,pageSize:20},this.isNaN=isNaN}ngOnInit(){(0,R.z)([this.appStateService.country$.pipe((0,T.p)(g=>!!g)),this.utilService.currentPlayerDepositInfo$]).pipe((0,v.s)(this)).subscribe(([g])=>{this.query.country=g.toUpperCase(),this.refresh()})}trackByFn(g,a){return g}refresh(){this.query.pageIndex=1,this.loadData()}loadData(){this.playerService.getCashPrizeWinnerList(this.query).pipe((0,O.M)(g=>{this.winnersList=g.items,this.chunkWinnerList=[];for(let a=0;a<this.winnersList.length;a+=this.chunkSize)this.chunkWinnerList.push(this.winnersList.slice(a,a+this.chunkSize))}),(0,H.W)(g=>(g.error?.detail&&alert(g.error.detail),j.w))).subscribe()}static#e=this.\u0275fac=function(a){return new(a||X)};static#t=this.\u0275cmp=o.VBU({type:X,selectors:[["app-winner-list"]],decls:12,vars:6,consts:[["slickModal","slick-carousel"],["dataList",""],[1,"glow"],["src","assets/images/cup.webp","alt","cup","appImgLoading","",1,"cup-icon"],[1,"title"],[1,"prime-crown"],[1,"carousel",3,"config"],["ngxSlickItem","","class","slide",4,"ngFor","ngForOf","ngForTrackBy"],["ngxSlickItem","",1,"slide"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"winner-list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"user-icon"],[1,"user"],[1,"right"],[1,"prize"],[1,"date"]],template:function(a,r){1&a&&(o.nrm(0,"div",2)(1,"img",3),o.j41(2,"div",4),o.nrm(3,"div",5),o.j41(4,"span"),o.EFF(5),o.nI1(6,"translate"),o.k0s()(),o.j41(7,"ngx-slick-carousel",6,0),o.DNE(9,B,2,4,"div",7),o.k0s(),o.DNE(10,W,2,1,"ng-template",null,1,o.C5r)),2&a&&(o.R7$(5),o.JRh(o.bMT(6,4,"winnerList")),o.R7$(2),o.Y8G("config",r.slideConfig),o.R7$(2),o.Y8G("ngForOf",r.chunkWinnerList)("ngForTrackBy",r.trackByFn))},dependencies:[x.MD,x.Sq,x.T3,x.Jj,x.QX,x.vh,P,I.h,I.D9,S,C,h],styles:[".cup-icon[_ngcontent-%COMP%]{position:absolute;width:123px;top:-19px;right:9px;z-index:2}.glow[_ngcontent-%COMP%]{width:200px;height:200px;background:var(--glow-bg, url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.20/Purple-Blur.d33bb6713259ec8f.png));background-size:cover;background-repeat:no-repeat;position:absolute;top:-55px;right:-35px;border-radius:50%;filter:blur(45px)}.title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:9px;margin-bottom:62px}.title[_ngcontent-%COMP%]   .prime-crown[_ngcontent-%COMP%]{width:38px;height:38px;background-size:contain;background-repeat:no-repeat;background-position:center;background-image:var(--prime-crown, url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.20/prime_crown.1dec950a987cc571.svg))}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;font-weight:700;line-height:39px;background:linear-gradient(90deg,#fca20d,#ffcd0c);-webkit-background-clip:text;-webkit-text-fill-color:transparent}@media only screen and (max-width: 1361px){.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}}@media only screen and (max-width: 576px){.cup-icon[_ngcontent-%COMP%]{width:96px;top:7px;right:7px}.glow[_ngcontent-%COMP%]{width:130px;height:130px;top:-21px;right:-15px}.title[_ngcontent-%COMP%]{margin-bottom:50px}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px;line-height:28px}}.winner-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:8px 0}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{width:32px;height:32px;background-image:var(--user-icon, url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.20/user.07281e6a253d619e.svg))}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{flex:1;font-family:Noto Sans;font-size:16px;font-weight:700;line-height:24px;color:#fff}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]{font-family:Noto Sans;font-size:16px;font-weight:700;line-height:24px;text-align:right;background:linear-gradient(89.95deg,#fca20d 50%,#ffcd0c 99.96%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-family:Noto Sans;font-size:12px;font-weight:400;line-height:16px;text-align:right;background:#fff;-webkit-background-clip:text;-webkit-text-fill-color:transparent}@media only screen and (max-width: 576px){.winner-list[_ngcontent-%COMP%], .winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{gap:14px}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:10px;line-height:14px}}"]})};k=(0,f.Cg)([(0,v.d)()],k)},9879:(V,z,l)=>{l.r(z),l.d(z,{HorsesRacingComponent:()=>_e});var f=l(4860),w=l(6354),x=l(6697),o=l(2881),e=l(1360),b=l(9079),C=l(1125),h=l(1780);let S=(()=>{class n{constructor(){this.cdnService=(0,e.WQX)(f.HM),this.cdnPrefix=this.cdnService.getCdnPrefix(),this.raceImage=e.hFB.required(),this.showAnimation=(0,e.hFB)(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-horse-preview-image"]],inputs:{raceImage:[1,"raceImage"],showAnimation:[1,"showAnimation"]},decls:1,vars:4,consts:[[1,"horse-preview-image"]],template:function(i,s){1&i&&e.nrm(0,"div",0),2&i&&(e.xc7("background-image","url('"+s.cdnPrefix+s.raceImage()+"')"),e.AVh("animation-running",s.showAnimation()))},styles:[".horse-preview-image[_ngcontent-%COMP%]{width:42px;height:29px;background-repeat:no-repeat;background-size:cover;background-color:#006400;border-radius:6px;background-position-x:var(--horse-pos-x, 0px);transition:background-position-x .1s steps(9);animation:_ngcontent-%COMP%_horseRun .6s steps(9) infinite;animation-play-state:paused}.horse-preview-image.animation-running[_ngcontent-%COMP%]{animation-play-state:running}@media screen and (max-width: 767px){.horse-preview-image[_ngcontent-%COMP%]{--horse-pos-x: -2px}}@keyframes _ngcontent-%COMP%_horseRun{0%{background-position-x:var(--horse-pos-x, 0px)}to{background-position-x:calc(-378px + var(--horse-pos-x, 0px))}}"],changeDetection:0})}return n})();var F=l(5947),R=l(3543),T=l(4018),O=l(3190);function H(n,c){if(1&n&&(e.j41(0,"div",8)(1,"span",9),e.EFF(2),e.k0s()()),2&n){const t=e.XpG();e.xc7("background-color",t.horse().color)("color",t.horse().textColor),e.R7$(2),e.JRh(t.horse().id+1)}}function j(n,c){if(1&n&&(e.j41(0,"div",10),e.nrm(1,"div",11),e.k0s(),e.nrm(2,"div",12)),2&n){const t=e.XpG();e.AVh("active",t.selected())}}let v=(()=>{class n{constructor(){this.cdnService=(0,e.WQX)(f.HM),this.cdnPrefix=this.cdnService.getCdnPrefix(),this.horse=e.hFB.required(),this.selected=(0,e.hFB)(!1),this.showAnimation=(0,e.hFB)(!1),this.showSelectionIndicator=(0,e.hFB)(!0),this.showHorseNumberBox=(0,e.hFB)(!0)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-horse-item"]],inputs:{horse:[1,"horse"],selected:[1,"selected"],showAnimation:[1,"showAnimation"],showSelectionIndicator:[1,"showSelectionIndicator"],showHorseNumberBox:[1,"showHorseNumberBox"]},decls:11,vars:9,consts:[[1,"horse-item"],[1,"horse-number-box",3,"background-color","color"],[1,"horse-item-content"],[1,"horse-item-holo"],[1,"horse-info-section"],[1,"horse-name"],[1,"horse-image-container"],[3,"raceImage","showAnimation"],[1,"horse-number-box"],[1,"horse-number"],[1,"selection-indicator"],[1,"selection-checkmark"],[1,"vertical-separator"]],template:function(i,s){1&i&&(e.j41(0,"div",0),e.DNE(1,H,3,5,"div",1),e.j41(2,"div",2),e.nrm(3,"div",3),e.DNE(4,j,3,2),e.j41(5,"div",4)(6,"div",5),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",6),e.nrm(10,"app-horse-preview-image",7),e.k0s()()()),2&i&&(e.AVh("selected",s.selected()),e.R7$(),e.vxM(s.showHorseNumberBox()?1:-1),e.R7$(3),e.vxM(s.showSelectionIndicator()?4:-1),e.R7$(3),e.JRh(e.bMT(8,7,"horseRacing.horseName."+s.horse().id)),e.R7$(3),e.Y8G("raceImage",s.horse().raceImage)("showAnimation",s.showAnimation()||s.selected()))},dependencies:[o.MD,h.h,h.D9,S],styles:['.horse-item[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;transition:all .3s ease;position:relative;width:100%}.horse-item.selected[_ngcontent-%COMP%]   .horse-item-holo[_ngcontent-%COMP%]:before, .horse-item.selected[_ngcontent-%COMP%]   .horse-item-holo[_ngcontent-%COMP%]:after{opacity:1}.horse-item[_ngcontent-%COMP%]:hover   .horse-item-holo[_ngcontent-%COMP%]:before, .horse-item[_ngcontent-%COMP%]:hover   .horse-item-holo[_ngcontent-%COMP%]:after{opacity:.7}.horse-item[_ngcontent-%COMP%]:hover   app-horse-preview-image[_ngcontent-%COMP%]     div{animation-play-state:running}.horse-item-content[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative;border:2px solid rgba(255,255,255,0);padding:3px 3px 3px 16px;width:100%;margin-left:-6px;transition:all .3s ease;min-height:36px}.horse-item-content[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;padding:1px;background:linear-gradient(90deg,#fff,#fff0);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none;border-radius:6px}.horse-item-content[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;opacity:.8;background:linear-gradient(270deg,#fdbb2c00,#fdbb2c94);border-radius:6px}.horse-item-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{z-index:1}.horse-item-holo[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;transform-origin:center;overflow:hidden;z-index:2;pointer-events:none}.horse-item-holo[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#ffffff1a,#ffffff0d,#fff3,#ffffff0d,#ffffff1a);background-size:200% 200%;animation:_ngcontent-%COMP%_hologramScan 3s linear infinite;pointer-events:none;z-index:2;border-radius:4px;opacity:0;transition:opacity .3s ease}.horse-item-holo[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,#dca1236b,#ad873366,#fdbb2c1a 40%,#0000 70%);transform:rotate(30deg);animation:_ngcontent-%COMP%_hologramGlow 4s linear infinite;pointer-events:none;z-index:1;opacity:0;transition:opacity .3s ease}.horse-number-box[_ngcontent-%COMP%]{width:46px;height:42px;border-radius:6px;display:flex;align-items:center;justify-content:center;z-index:2;font-weight:700;font-size:20px;box-sizing:border-box;box-shadow:0 2px 4px #0003}@media (max-width: 768px){.horse-number-box[_ngcontent-%COMP%]{width:40px;height:36px;font-size:18px}}.horse-info-section[_ngcontent-%COMP%]{margin-left:20px;flex:1;display:flex;align-items:center}@media screen and (max-width: 420px){.horse-info-section[_ngcontent-%COMP%]{margin-left:10px}}.horse-name[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:700;font-family:Noto Sans,sans-serif;margin-bottom:0;text-shadow:0 1px 2px rgba(0,0,0,.5)}.horse-image-container[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%);width:50px;height:28px;border-radius:5px;overflow:hidden}.vertical-separator[_ngcontent-%COMP%]{border-left:1px solid white;height:20px;margin-left:25px}@media screen and (max-width: 420px){.vertical-separator[_ngcontent-%COMP%]{display:none}}.selection-indicator[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:6px;display:flex;align-items:center;justify-content:center;background:#121212b2;border:1.5px solid #FFFFFF}.selection-indicator.active[_ngcontent-%COMP%]{background:#fdbb2c;border-color:#fdbb2c}.selection-checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;position:relative}.selection-checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;left:7px;top:2px;width:7px;height:12px;border:solid #000;border-width:0 3px 3px 0;transform:rotate(45deg);display:none}.selection-indicator.active[_ngcontent-%COMP%]   .selection-checkmark[_ngcontent-%COMP%]:after{display:block}@keyframes _ngcontent-%COMP%_hologramScan{0%{background-position:0% 0%}to{background-position:200% 200%}}@keyframes _ngcontent-%COMP%_hologramGlow{0%{transform:rotate(30deg) translate(0)}25%{transform:rotate(30deg) translate(10px,10px)}50%{transform:rotate(30deg) translate(0)}75%{transform:rotate(30deg) translate(-10px,-10px)}to{transform:rotate(30deg) translate(0)}}']})}return n})();const I=[[["","modal-header",""]],[["","modal-body",""]],[["","modal-extra-content",""]]],y=["[modal-header]","[modal-body]","[modal-extra-content]"];let P=(()=>{class n{constructor(){this.grayscale=(0,e.hFB)(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-racing-modal"]],inputs:{grayscale:[1,"grayscale"]},ngContentSelectors:y,decls:9,vars:2,consts:[[1,"racing-modal-container"],[1,"panel","modal-content"],[1,"modal-header"],[1,"modal-body"],[1,"glow-effect"],[1,"ellipse-background"]],template:function(i,s){1&i&&(e.NAR(I),e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.SdG(3),e.k0s(),e.j41(4,"div",3),e.nrm(5,"div",4)(6,"div",5),e.SdG(7,1),e.k0s()(),e.SdG(8,2),e.k0s()),2&i&&(e.R7$(),e.AVh("grayscale-1",s.grayscale()))},dependencies:[o.MD,h.h],styles:[".racing-modal-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%;height:100%;position:relative}.modal-content[_ngcontent-%COMP%]{width:387px;border-radius:15px}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:90%;max-width:387px;height:auto;min-height:303px}}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:14px;border:0;padding:0}.modal-content[_ngcontent-%COMP%]   .glow-effect[_ngcontent-%COMP%]{position:absolute;width:140px;height:140px;border-radius:50%;background:#fca20d2b;filter:blur(42px);top:-33px;left:263px;z-index:0}.modal-content[_ngcontent-%COMP%]   .ellipse-background[_ngcontent-%COMP%]{position:absolute;width:196px;height:196px;border-radius:50%;background:#ffcd0c47;filter:blur(55px);top:78px;left:98px;z-index:0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{position:relative;z-index:2;padding:20px;height:100%;display:flex;flex-direction:column;justify-content:space-between}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{position:relative;z-index:1;padding:20px;display:flex;justify-content:center;gap:10px}.modal-content[_ngcontent-%COMP%]     .action-buttons{display:flex;justify-content:center;gap:10px;margin:30px auto 0}"]})}return n})();const A=n=>({no:n});function D(n,c){if(1&n&&(e.j41(0,"div",5)(1,"div",6)(2,"div",7),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",8)(6,"span",9),e.EFF(7),e.k0s()(),e.nrm(8,"app-horse-item",10),e.k0s()),2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",e.i5U(4,11,"horseRacing.youChosenHorseNo",e.eq3(14,A,t.selectedHorse.id+1))," "),e.R7$(2),e.xc7("background-color",t.selectedHorse.color),e.R7$(),e.xc7("color",t.selectedHorse.textColor),e.R7$(),e.JRh(t.selectedHorse.id+1),e.R7$(),e.Y8G("horse",t.selectedHorse)("selected",!0)("showAnimation",!0)("showSelectionIndicator",!1)("showHorseNumberBox",!1)}}let E=(()=>{class n{constructor(){this.selectedHorse=null,this.startRace=new e.bkB,this.modal=(0,e.WQX)(C.Lw)}onChangeHorse(){this.modal.close()}onStartRace(){this.startRace.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-horse-confirmation-modal"]],inputs:{selectedHorse:"selectedHorse"},outputs:{startRace:"startRace"},decls:10,vars:7,consts:[["modal-body",""],["class","horse-selection-display",4,"ngIf"],[1,"action-buttons"],[1,"btn","secondary",3,"click"],["ngbAutofocus","",1,"btn",3,"click"],[1,"horse-selection-display"],[1,"horse-info-container"],[1,"selection-message"],[1,"horse-number-display"],[1,"horse-number"],[3,"horse","selected","showAnimation","showSelectionIndicator","showHorseNumberBox"]],template:function(i,s){1&i&&(e.j41(0,"app-racing-modal")(1,"div",0),e.DNE(2,D,9,16,"div",1),e.j41(3,"div",2)(4,"button",3),e.bIt("click",function(){return s.onChangeHorse()}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"button",4),e.bIt("click",function(){return s.onStartRace()}),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()),2&i&&(e.R7$(2),e.Y8G("ngIf",s.selectedHorse),e.R7$(3),e.SpI(" ",e.bMT(6,3,"horseRacing.changeHorse")," "),e.R7$(3),e.SpI(" ",e.bMT(9,5,"horseRacing.letStart")," "))},dependencies:[o.MD,o.bT,h.h,h.D9,P,v],styles:[".horse-selection-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10px}.horse-selection-display[_ngcontent-%COMP%]   .horse-info-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.horse-selection-display[_ngcontent-%COMP%]   .horse-info-container[_ngcontent-%COMP%]   .selection-message[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:700;font-size:24px;color:#fff;line-height:1.21}.horse-selection-display[_ngcontent-%COMP%]   .horse-number-display[_ngcontent-%COMP%]{width:64.6px;height:64.6px;border-radius:8.4px;display:flex;justify-content:center;align-items:center;margin-bottom:20px}.horse-selection-display[_ngcontent-%COMP%]   .horse-number-display[_ngcontent-%COMP%]   .horse-number[_ngcontent-%COMP%]{font-family:Proxima Nova,sans-serif;font-weight:700;font-size:34.9px;line-height:1}app-horse-item[_ngcontent-%COMP%]{min-width:min(300px,95%)}"]})}return n})();var G=l(1416);let B=(()=>{class n{constructor(){this.w=(0,e.vPA)(0),this.h=(0,e.vPA)(0),this.particles=(0,e.vPA)([]),this.probability=.04,this.xPoint=0,this.yPoint=0,this.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},this.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){window.clearTimeout(t)}}ngAfterViewInit(){this.canvas=document.getElementById("fireworks"),this.ctx=this.canvas.getContext("2d"),this.resizeCanvas(),new ResizeObserver(()=>{this.resizeCanvas()}).observe(this.canvas.parentElement||document.documentElement),window.addEventListener("resize",this.resizeCanvas.bind(this)),this.updateWorld()}ngOnDestroy(){this.animationFrameId&&this.cancelAnimationFrame(this.animationFrameId),window.removeEventListener("resize",this.resizeCanvas.bind(this))}resizeCanvas(){if(this.canvas){const t=this.canvas.parentElement||document.documentElement,s=t.clientHeight||t.scrollHeight;this.w.set(t.clientWidth||t.scrollWidth),this.h.set(s),this.canvas.width=this.w(),this.canvas.height=this.h()}}updateWorld(){this.update(),this.paint(),this.animationFrameId=this.requestAnimationFrame(()=>this.updateWorld())}update(){this.particles().length<500&&Math.random()<this.probability&&this.createFirework();const t=this.particles().filter(i=>i.move(this.w(),this.h()));this.particles.set(t)}paint(){this.ctx.clearRect(0,0,this.w(),this.h()),this.ctx.globalCompositeOperation="lighter";for(const t of this.particles())t.draw(this.ctx)}createFirework(){this.xPoint=Math.random()*(this.w()-200)+100,this.yPoint=Math.random()*(this.h()-200)+100;const t=50*Math.random()+100,i=`rgb(${~~(200*Math.random()+55)},${~~(200*Math.random()+55)},${~~(200*Math.random()+55)})`,s=[];for(let p=0;p<t;p++){const m=new N(this.xPoint,this.yPoint);m.color=i;const M=Math.sqrt(25-m.vx*m.vx);Math.abs(m.vy)>M&&(m.vy=m.vy>0?M:-M),s.push(m)}this.particles.update(p=>[...p,...s])}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-fireworks"]],decls:1,vars:0,consts:[["id","fireworks"]],template:function(i,s){1&i&&e.nrm(0,"canvas",0)},styles:["[_nghost-%COMP%]{position:absolute;top:-25%;left:-50%;transform:translate(25%);width:150%;height:100%}#fireworks[_ngcontent-%COMP%]{width:100%;height:100%;background:transparent}"],changeDetection:0})}return n})();class N{constructor(c,t){this.color="",this.gravity=.05,this.w=this.h=4*Math.random()+1,this.x=c-this.w/2,this.y=t-this.h/2,this.vx=10*(Math.random()-.5),this.vy=10*(Math.random()-.5),this.alpha=.5*Math.random()+.5}move(c,t){return this.x+=this.vx,this.vy+=this.gravity,this.y+=this.vy,this.alpha-=.01,!(this.x<=-this.w||this.x>=c||this.y>=t||this.alpha<=0)}draw(c){c.save(),c.beginPath(),c.translate(this.x+this.w/2,this.y+this.h/2),c.arc(0,0,this.w,0,2*Math.PI),c.fillStyle=this.color,c.globalAlpha=this.alpha,c.closePath(),c.fill(),c.restore()}}const W=(n,c)=>({horseId:n,position:c});function k(n,c){1&n&&e.nrm(0,"app-fireworks")}let d=(()=>{class n{constructor(){this.utilService=(0,e.WQX)(O.a),this.appStateService=(0,e.WQX)(f.iC),this.translateService=(0,e.WQX)(h.c$),this.gameSoundService=(0,e.WQX)(R.R),this.activeModal=(0,e.WQX)(C.Lw),this.prizeAmount=0,this.currencySignal=(0,b.ot)(this.appStateService.currency$),this.prizePoolSignal=(0,b.ot)(this.utilService.getPrizePool().pipe((0,w.T)(t=>t||[])),{initialValue:[]}),this.fireworksEnabled=!1}ngOnInit(){this.calculatePrizeAmount(),this.prizeAmount>0&&(this.fireworksEnabled=!0),this.gameSoundService.playSound(this.prizeAmount>0?this.gameSoundService.winnerSound:this.gameSoundService.noPrizeSound)}calculatePrizeAmount(){const t=this.prizePoolSignal();t.length>this.position&&(this.prizeAmount=t[this.position]?.wheelAmount||0)}get horseName(){return this.translateService.instant(`horseName.${this.horseId}`)}get positionText(){return`#${this.position+1}`}get noPrize(){return 0===this.prizeAmount}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-horse-prize-modal"]],inputs:{horseId:"horseId",position:"position"},decls:17,vars:22,consts:[[3,"grayscale"],["modal-body","",1,"content-wrapper"],[1,"price-bg",3,"appBackgroundImgLoading"],["id","horse-prize-title",1,"congratulations"],["id","horse-prize-description",1,"result-text"],[1,"prize-amount-container"],[1,"prize-amount"],["aria-label","Close prize modal",1,"btn",3,"click"],[4,"ngIf"]],template:function(i,s){1&i&&(e.j41(0,"app-racing-modal",0)(1,"div",1),e.nrm(2,"div",2),e.j41(3,"h2",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p",4),e.EFF(7),e.nI1(8,"ordinal"),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",5)(11,"div",6),e.EFF(12),e.k0s()(),e.j41(13,"button",7),e.bIt("click",function(){return s.activeModal.close()}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()(),e.DNE(16,k,1,0,"app-fireworks",8)),2&i&&(e.Y8G("grayscale",s.noPrize),e.R7$(2),e.Y8G("appBackgroundImgLoading","assets/horse-racing/images/"+(s.noPrize?"winning0":"congratulations!")+".png"),e.R7$(2),e.SpI(" ",e.bMT(5,10,s.noPrize?"horseRacing.horsePrize.dontGiveUp":"horseRacing.horsePrize.congratulations")," "),e.R7$(3),e.SpI(" ",e.i5U(9,14,"horseRacing.horsePrize.finishedAtPosition",e.l_i(19,W,s.horseId+1,e.bMT(8,12,s.position+1)))," "),e.R7$(3),e.AVh("grayscale",s.noPrize),e.R7$(2),e.Lme(" ",s.currencySignal()," ",s.prizeAmount," "),e.R7$(2),e.SpI(" ",e.bMT(15,17,s.noPrize?"horseRacing.horsePrize.tryAgain":"horseRacing.horsePrize.okay")," "),e.R7$(2),e.Y8G("ngIf",s.fireworksEnabled))},dependencies:[o.MD,o.bT,h.h,h.D9,P,f.df,G.i,B],styles:['.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;position:relative;z-index:1}.price-bg[_ngcontent-%COMP%]{width:274.147px;height:220.168px;background-size:contain;margin-top:-50%}.congratulations[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:700;font-size:32.6px;line-height:1.21;color:#fff;margin:0}.result-text[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:600;font-size:15px;line-height:1.21;color:#fff;margin:0;text-align:center}.prize-amount-container[_ngcontent-%COMP%]{position:relative;background:linear-gradient(270deg,#ab1a1c33,#dd3235);border-radius:6.66px 0 0 6.66px;padding:10px 24px;margin:8px 0;overflow:hidden}.prize-amount-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(90deg,#fff 1%,#fff0 93%);border-radius:inherit;-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;padding:1.6px}.prize-amount[_ngcontent-%COMP%]{font-family:Proxima Nova,sans-serif;font-weight:700;font-size:31.18px;line-height:1.218;color:#fff;text-shadow:0px 3.12px 3.74px rgba(5,21,87,.31)}@media (max-width: 768px){.congratulations[_ngcontent-%COMP%]{font-size:28px}.result-text[_ngcontent-%COMP%]{font-size:14px}.prize-amount[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 480px){.congratulations[_ngcontent-%COMP%]{font-size:24px}.result-text[_ngcontent-%COMP%]{font-size:13px}.prize-amount[_ngcontent-%COMP%]{font-size:22px}}']})}return n})();var g=l(1413),a=l(6977),r=l(9962);let u=(()=>{class n{initialize(){window.stageWidth=0,window.stageHeight=0,window.isLoaded=!1,window.browserSupport=!1,window.isMobile=null,window.isTablet=null,window.isDesktop=null,this.setupAudioContext(),this.checkFileProtocol(),this.setupResizeHandler(),this.resizeLoaderFunc(),this.checkBrowser()}setupAudioContext(){const t=()=>{try{"suspended"===createjs.WebAudioPlugin.context.state&&(createjs.WebAudioPlugin.context.resume(),window.removeEventListener("click",t))}catch(i){console.error("There was an error while trying to resume the SoundJS Web Audio context..."),console.error(i)}};window.addEventListener("click",t)}checkFileProtocol(){window.location.protocol.substr(0,4)}setupResizeHandler(){$(window).resize(()=>{this.resizeLoaderFunc()})}resizeLoaderFunc(){window.stageWidth=$(window).width()||0,window.stageHeight=$(window).height()||0,$("#mainLoader").css("left",this.checkContentWidth($("#mainLoader"))),$("#mainLoader").css("top",this.checkContentHeight($("#mainLoader"))),$("#notSupportHolder").css("left",this.checkContentWidth($("#mainLoader"))),$("#notSupportHolder").css("top",this.checkContentHeight($("#mainLoader")))}checkContentWidth(t){return(window.stageWidth-(t.width()||0))/2}checkContentHeight(t){return(window.stageHeight-(t.height()||0))/2}checkBrowser(){if("function"==typeof MobileDetect){const i=new MobileDetect(window.navigator.userAgent);window.isMobile=i.mobile(),window.isTablet=i.tablet(),null==window.isMobile&&null==window.isTablet&&(window.isDesktop=!0)}document.createElement("canvas").getContext&&(window.browserSupport=!0),window.browserSupport?window.isLoaded||(window.isLoaded=!0,"function"==typeof initPreload&&initPreload()):$("#notSupportHolder").show()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _=l(4412);let L=(()=>{class n{constructor(){this.raceStateSubject=new _.t({isRunning:!1,horses:[],selectedHorseIndex:null,targetRanking:null,gameInitialized:!1}),this.raceState$=this.raceStateSubject.asObservable()}initializeRace(t,i){const s=[];for(let m=0;m<10;m++)s.push({id:m,name:`Horse ${m+1}`,position:0,speed:1+2*Math.random(),isFinished:!1,finishPosition:0});this.raceStateSubject.next({...this.raceStateSubject.value,horses:s,selectedHorseIndex:t,targetRanking:i})}startRace(){const t=this.raceStateSubject.value;null!==t.selectedHorseIndex&&null!==t.targetRanking?this.raceStateSubject.next({...t,isRunning:!0}):console.warn("Cannot start race: selectedHorseIndex or targetRanking not set")}raceFinished(t){const i=this.raceStateSubject.value,s=[...i.horses];t.forEach((p,m)=>{const M=s.find(we=>we.id===p);M&&(M.isFinished=!0,M.finishPosition=m+1)}),this.raceStateSubject.next({...i,isRunning:!1,horses:s})}setGameInitialized(t){this.raceStateSubject.next({...this.raceStateSubject.value,gameInitialized:t})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();const Q=["gameCanvas"];let Y=(()=>{class n{constructor(){this.horseRacingGameService=(0,e.WQX)(L),this.playerService=(0,e.WQX)(r.x),this.translateService=(0,e.WQX)(h.c$),this.horseRacingInitService=(0,e.WQX)(u),this.destroy$=new g.B,this.currentRaceState=void 0,this.raceFinished=new e.bkB}ngAfterViewInit(){window.setGameInitializedCallback=t=>{this.horseRacingGameService.setGameInitialized(t)},this.canvasRef.nativeElement.id="gameCanvas",this.horseRacingInitService.initialize(),this.horseRacingGameService.raceState$.pipe((0,a.Q)(this.destroy$)).subscribe(t=>{this.currentRaceState=t,t.isRunning&&t.gameInitialized&&(this.startGameRace(),setTimeout(()=>{this.playerService.claimPrize().subscribe()}))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}startGameRace(){if(window.startRaceDirectly&&window.setRaceCompletionCallback){window.setContainerConfig&&window.setContainerConfig(".horse-racing-container");const t=Array.from({length:10},(i,s)=>this.translateService.instant(`horseRacing.horseName.${s}`));window.setHorseNames&&window.setHorseNames(t),window.setRaceCompletionCallback(i=>{this.horseRacingGameService.raceFinished(i),this.raceFinished.emit(i)}),window.goPage("game"),window.startRaceDirectly(this.currentRaceState.selectedHorseIndex,this.currentRaceState.targetRanking)}else console.error("Cannot start race: startRaceDirectly or setRaceCompletionCallback not found.")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-horse-racing-canvas"]],viewQuery:function(i,s){if(1&i&&e.GBs(Q,7),2&i){let p;e.mGM(p=e.lsd())&&(s.canvasRef=p.first)}},outputs:{raceFinished:"raceFinished"},decls:2,vars:0,consts:[["gameCanvas",""],["width","1080","height","674",1,"horse-racing-canvas"]],template:function(i,s){1&i&&e.nrm(0,"canvas",1,0)},dependencies:[o.MD],styles:[".horse-racing-canvas[_ngcontent-%COMP%]{width:1080px;height:674px;border:none;border-radius:10px;background:transparent;box-shadow:none;max-width:100%;max-height:100%;object-fit:contain}@media only screen and (max-width: 768px){.horse-racing-canvas[_ngcontent-%COMP%]{border-radius:0}}"]})}return n})();const U=(n,c)=>c.id;function J(n,c){if(1&n&&e.nrm(0,"app-horse-item",7),2&n){const t=c.$implicit,i=e.XpG();e.AVh("winner",t.id===i.selectedHorseId),e.Y8G("horse",t)("selected",t.id===i.selectedHorseId)("showSelectionIndicator",!1)("showHorseNumberBox",!0)}}let K=(()=>{class n{constructor(t){this.activeModal=t,this.translateService=(0,e.WQX)(h.c$),this.horses=[],this.selectedHorseId=null,this.prizeAmount=null}getSelectedHorseName(){return null===this.selectedHorseId?"":this.translateService.instant("horseName."+this.selectedHorseId)}getHorseName(t){return this.translateService.instant("horseName."+t)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(C.Lw))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-race-result-modal"]],inputs:{horses:"horses",selectedHorseId:"selectedHorseId",prizeAmount:"prizeAmount"},decls:14,vars:10,consts:[["modal-body",""],[1,"race-results"],[1,"gradient-fade-border"],[1,"results-list"],[3,"horse","selected","showSelectionIndicator","showHorseNumberBox","winner"],[1,"action-buttons"],["type","button",1,"btn",3,"click"],[3,"horse","selected","showSelectionIndicator","showHorseNumberBox"]],template:function(i,s){1&i&&(e.j41(0,"app-racing-modal")(1,"div",0)(2,"div",1)(3,"h2",2),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",3),e.Z7z(7,J,1,6,"app-horse-item",4,U),e.nI1(9,"slice"),e.k0s()(),e.j41(10,"div",5)(11,"button",6),e.bIt("click",function(){return s.activeModal.close()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()),2&i&&(e.R7$(4),e.JRh(e.bMT(5,2,"horseRacing.raceResult")),e.R7$(3),e.Dyx(e.brH(9,4,s.horses,0,10)),e.R7$(5),e.SpI(" ",e.bMT(13,8,"horseRacing.btnContinue"),""))},dependencies:[o.MD,o.P9,h.h,h.D9,P,v],styles:['.race-results[_ngcontent-%COMP%]{margin-top:10px}.race-results[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:30.603px;font-style:normal;font-weight:700;line-height:normal;margin-bottom:20px;text-align:center;position:relative;background:linear-gradient(90deg,#fdbb2c00,#fdbb2c94 49.04%,#fdbb2c00)}.results-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:0 10px;pointer-events:none;--horse-pos-x: -4px}.results-list[_ngcontent-%COMP%]   app-horse-item.winner[_ngcontent-%COMP%]{position:relative}.results-list[_ngcontent-%COMP%]   app-horse-item.winner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:105%;height:125%;border:2px solid #FF4500;border-radius:8px;transform:translate(-50%,-50%);pointer-events:none;z-index:1;box-sizing:border-box;animation:_ngcontent-%COMP%_borderGlow 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_borderGlow{0%,to{box-shadow:0 0 5px tomato;border-color:#ff4500}50%{box-shadow:0 0 15px tomato,0 0 25px #dc143c;border-color:#dc143c}}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin:30px auto}']})}return n})();const Z=()=>({position:1}),q=n=>({position:n}),ee=(n,c)=>c.order;function te(n,c){if(1&n&&(e.j41(0,"div",21)(1,"div",22)(2,"div",23),e.nrm(3,"img",24),e.k0s(),e.nrm(4,"span",25),e.k0s(),e.nrm(5,"div",26)(6,"div",27),e.j41(7,"div",28),e.nrm(8,"div",29),e.j41(9,"div",30)(10,"div"),e.nrm(11,"div",31),e.j41(12,"span"),e.EFF(13),e.k0s()()()(),e.nrm(14,"img",32),e.k0s()),2&n){let t;const i=e.XpG();e.R7$(3),e.Mz_("src","",i.cdnPrefix,"assets/horse-racing/images/prize-payout-icon.svg",e.B4B),e.R7$(8),e.Y8G("translateParams",e.lJ4(6,Z)),e.R7$(2),e.JRh(null==(t=i.grandPrize())?null:t.name),e.R7$(),e.Mz_("src","",i.cdnPrefix,"assets/horse-racing/images/cup.png",e.B4B)}}function ne(n,c){if(1&n&&(e.j41(0,"div",35)(1,"div",36),e.nrm(2,"img",37)(3,"span",38),e.k0s(),e.j41(4,"span",39),e.EFF(5),e.k0s()()),2&n){const t=c.$implicit,i=e.XpG(2);e.R7$(2),e.Mz_("src","",i.cdnPrefix,"assets/horse-racing/images/Horse Icon.png",e.B4B),e.Y8G("alt","Horse "+t.order),e.R7$(),e.Y8G("translateParams",e.eq3(7,q,t.order)),e.R7$(),e.AVh("zero-amount",0===t.wheelAmount),e.R7$(),e.SpI(" ",t.wheelAmount>0?t.name:i.currency()+" 0"," ")}}function ie(n,c){if(1&n&&(e.j41(0,"div",33)(1,"div",34),e.Z7z(2,ne,6,9,"div",35,ee),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Dyx(t.prizeInfoList())}}function oe(n,c){1&n&&e.eu8(0)}function se(n,c){if(1&n&&e.DNE(0,oe,1,0,"ng-container",40),2&n){e.XpG();const t=e.sdS(2);e.Y8G("ngTemplateOutlet",t)}}function ae(n,c){1&n&&e.eu8(0)}function re(n,c){if(1&n&&e.DNE(0,ae,1,0,"ng-container",40),2&n){e.XpG();const t=e.sdS(4);e.Y8G("ngTemplateOutlet",t)}}function ce(n,c){}function le(n,c){1&n&&e.eu8(0)}function de(n,c){1&n&&e.eu8(0)}function pe(n,c){if(1&n&&(e.j41(0,"div",20),e.DNE(1,le,1,0,"ng-container",40)(2,de,1,0,"ng-container",40),e.k0s()),2&n){e.XpG();const t=e.sdS(2),i=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",t),e.R7$(),e.Y8G("ngTemplateOutlet",i)}}let ge=(()=>{class n{constructor(){this.modal=(0,e.WQX)(C.Lw),this.utilService=(0,e.WQX)(O.a),this.appStateService=(0,e.WQX)(f.iC),this.breakpointService=(0,e.WQX)(f.dc),this.cdnPrefix=(0,e.WQX)(f.HM).getCdnPrefix(),this.currency=(0,b.ot)(this.appStateService.currency$),this.isDesktop=(0,b.ot)(this.breakpointService.isDesktop$),this.prizeInfoList=(0,b.ot)(this.utilService.getPrizePool().pipe((0,w.T)(t=>t.filter(i=>i.order>=2).sort((i,s)=>i.order-s.order).slice(0,9))),{initialValue:[]}),this.grandPrize=(0,b.ot)(this.utilService.getPrizePool().pipe((0,w.T)(t=>t.length>0?t[0]:null)),{initialValue:null})}close(){this.modal.close()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-how-to-play-modal"]],decls:34,vars:5,consts:[["header",""],["prizeInfo",""],["modal-header","",1,"modal-header-content"],[1,"close-button",3,"click"],["alt","close",3,"src"],["modal-body","",1,"modal-body-content"],[1,"instructions-title-container"],["translate","horseRacing.howtoPlay.title",1,"instructions-title"],[1,"flex"],[1,"instructions-section"],[1,"instructions-container"],[1,"glow-effect"],[1,"ellipse-background"],[1,"instruction-item"],[1,"bullet-number"],["translate","horseRacing.howtoPlay.instruction1",1,"instruction-text"],["translate","horseRacing.howtoPlay.instruction2",1,"instruction-text"],["translate","horseRacing.howtoPlay.instruction3",1,"instruction-text"],[1,"start-button-container"],["translate","horseRacing.howtoPlay.startButton",1,"start-button",3,"click"],["modal-extra-content","",1,"panel",2,"margin-top","-25px","width","100%"],[1,"header-section"],[1,"prize-payout-container"],[1,"prize-payout-icon"],["alt","Prize Payout Icon",3,"src"],["translate","horseRacing.howtoPlay.prizePayout",1,"prize-payout-text"],[1,"header-glow-effect"],[1,"header-ellipse-background"],[1,"grand-prize-container"],["translate","horseRacing.howtoPlay.grandPrize",1,"grand-prize-label"],[1,"grand-prize-amount"],["translate","horseRacing.howtoPlay.positionNo",1,"grand-prize-position",3,"translateParams"],["alt","cup",1,"cup-icon",3,"src"],[1,"prize-info-section"],[1,"prize-grid"],[1,"prize-item"],[1,"horse-icon-container"],[1,"horse-icon",3,"src","alt"],["translate","horseRacing.howtoPlay.positionNo",1,"horse-number",3,"translateParams"],[1,"prize-amount"],[4,"ngTemplateOutlet"]],template:function(i,s){if(1&i){const p=e.RV6();e.j41(0,"app-racing-modal"),e.DNE(1,te,15,7,"ng-template",null,0,e.C5r)(3,ie,4,0,"ng-template",null,1,e.C5r),e.j41(5,"div",2),e.DNE(6,se,1,1,"ng-container"),e.j41(7,"div",3),e.bIt("click",function(){return e.eBV(p),e.Njj(s.close())}),e.nrm(8,"img",4),e.k0s()(),e.j41(9,"div",5)(10,"div",6),e.nrm(11,"div",7),e.k0s(),e.j41(12,"div",8),e.DNE(13,re,1,1,"ng-container"),e.j41(14,"div",9)(15,"div",10),e.nrm(16,"div",11)(17,"div",12),e.j41(18,"div",13)(19,"span",14),e.EFF(20,"1."),e.k0s(),e.nrm(21,"span",15),e.k0s(),e.j41(22,"div",13)(23,"span",14),e.EFF(24,"2."),e.k0s(),e.nrm(25,"span",16),e.k0s(),e.j41(26,"div",13)(27,"span",14),e.EFF(28,"3."),e.k0s(),e.nrm(29,"span",17),e.k0s()(),e.j41(30,"div",18)(31,"button",19),e.bIt("click",function(){return e.eBV(p),e.Njj(s.close())}),e.k0s()()()()(),e.DNE(32,ce,0,0)(33,pe,3,2,"div",20),e.k0s()}2&i&&(e.R7$(6),e.vxM(s.isDesktop()?6:-1),e.R7$(2),e.Mz_("src","",s.cdnPrefix,"assets/images/close-white.png",e.B4B),e.R7$(5),e.vxM(s.isDesktop()?13:-1),e.R7$(19),e.vxM(s.isDesktop()?32:33))},dependencies:[o.MD,o.T3,h.h,h.Mm,P],styles:['.modal-header-content[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;justify-content:left;align-items:center}.modal-header-content[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;cursor:pointer;z-index:10;width:24px;height:24px}.header-section[_ngcontent-%COMP%]{position:relative;height:100%;display:flex;flex-direction:column;justify-content:center;padding:30px 30px 0}.header-section[_ngcontent-%COMP%]   .prize-payout-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:20px;z-index:2}.header-section[_ngcontent-%COMP%]   .prize-payout-container[_ngcontent-%COMP%]   .prize-payout-icon[_ngcontent-%COMP%]{width:29px;height:29px}.header-section[_ngcontent-%COMP%]   .prize-payout-container[_ngcontent-%COMP%]   .prize-payout-text[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fca20d,#ffcd0c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-family:Proxima Nova,sans-serif;font-size:25px;font-weight:700;line-height:1}.header-section[_ngcontent-%COMP%]   .header-glow-effect[_ngcontent-%COMP%]{position:absolute;width:140px;height:140px;border-radius:50%;background:#fca20d2b;filter:blur(42px);top:-33px;left:263px;z-index:0}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]   .header-glow-effect[_ngcontent-%COMP%]{left:calc(50% + 70px)}}.header-section[_ngcontent-%COMP%]   .header-ellipse-background[_ngcontent-%COMP%]{position:absolute;width:196px;height:196px;border-radius:50%;background:#ffcd0c47;filter:blur(136px);top:78px;left:98px;z-index:0}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]   .header-ellipse-background[_ngcontent-%COMP%]{left:calc(50% - 98px)}}.header-section[_ngcontent-%COMP%]   .grand-prize-container[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center}.header-section[_ngcontent-%COMP%]   .grand-prize-container[_ngcontent-%COMP%]   .grand-prize-label[_ngcontent-%COMP%]{color:#fff;font-family:Inter,sans-serif;font-size:35px;font-weight:700;line-height:1.2;margin-bottom:10px}.header-section[_ngcontent-%COMP%]   .grand-prize-container[_ngcontent-%COMP%]   .grand-prize-amount[_ngcontent-%COMP%]{font-size:90px;display:flex;justify-content:center}.header-section[_ngcontent-%COMP%]   .grand-prize-container[_ngcontent-%COMP%]   .grand-prize-amount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fca20d,#ffcd0c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-family:Proxima Nova,sans-serif;font-weight:700;line-height:1.2}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]   .grand-prize-container[_ngcontent-%COMP%]   .grand-prize-amount[_ngcontent-%COMP%]{font-size:52px}}.header-section[_ngcontent-%COMP%]   .grand-prize-container[_ngcontent-%COMP%]   .grand-prize-position[_ngcontent-%COMP%]{color:#fff;font-family:Noto Sans,sans-serif;font-size:18px;font-weight:700;text-align:left;margin-left:3px;margin-bottom:-16px}.header-section[_ngcontent-%COMP%]   .cup-icon[_ngcontent-%COMP%]{position:absolute;top:-55px;right:-34px;z-index:2}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]   .cup-icon[_ngcontent-%COMP%]{right:-20px;max-width:110px}}.modal-body-content[_ngcontent-%COMP%]{position:relative;z-index:1;padding:20px;height:100%;display:flex;flex-direction:column}@media screen and (min-width: 768px){.modal-body-content[_ngcontent-%COMP%]{padding:0 20px 10px}}.modal-body-content[_ngcontent-%COMP%]   .instructions-title-container[_ngcontent-%COMP%]{text-align:center}@media screen and (min-width: 768px){.modal-body-content[_ngcontent-%COMP%]   .instructions-title-container[_ngcontent-%COMP%]{position:absolute;right:-20px;top:-60px;min-width:500px;text-align:right}}.modal-body-content[_ngcontent-%COMP%]   .instructions-title-container[_ngcontent-%COMP%]   .instructions-title[_ngcontent-%COMP%]{width:100%;font-family:Proxima Nova,sans-serif;font-size:25px;font-weight:700;line-height:1;display:inline-block;padding:10px 32px;position:relative;color:#fff}@media screen and (min-width: 768px){.modal-body-content[_ngcontent-%COMP%]   .instructions-title-container[_ngcontent-%COMP%]   .instructions-title[_ngcontent-%COMP%]{background:linear-gradient(270deg,#c1811e,#ffe16c00)}}@media (max-width: 768px){.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]{margin-bottom:40px}}.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instructions-container[_ngcontent-%COMP%]{position:relative;width:490px;height:220px;border-radius:14.96px;border:.94px solid transparent;background:linear-gradient(180deg,#ff8c10,#ffe16c00);background-clip:padding-box;-webkit-backdrop-filter:blur(31.1px);backdrop-filter:blur(31.1px);padding:42px 48.5px}@media (max-width: 768px){.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instructions-container[_ngcontent-%COMP%]{width:100%;height:auto;padding:0;background:none;border:0;-webkit-backdrop-filter:none;backdrop-filter:none;margin-top:20px}}.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instructions-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#0000004f;border-radius:14.03px;z-index:-1;margin:.94px}@media (max-width: 768px){.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instructions-container[_ngcontent-%COMP%]:before{content:none}}.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instructions-container[_ngcontent-%COMP%]   .glow-effect[_ngcontent-%COMP%]{position:absolute;width:140.1px;height:140.1px;border-radius:50%;background:#fca20d2b;filter:blur(42.08px);top:-33.22px;left:262.87px;z-index:-2}@media (max-width: 768px){.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instructions-container[_ngcontent-%COMP%]   .glow-effect[_ngcontent-%COMP%]{left:calc(50% - 70px);top:-20px}}.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instructions-container[_ngcontent-%COMP%]   .ellipse-background[_ngcontent-%COMP%]{position:absolute;width:196.39px;height:196.39px;border-radius:50%;background:#e7c026;filter:blur(102.83px);top:77.62px;left:149.41px;z-index:-2}@media (max-width: 768px){.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instructions-container[_ngcontent-%COMP%]   .ellipse-background[_ngcontent-%COMP%]{left:calc(50% - 98px);top:40px}}.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instruction-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:0;margin-bottom:11px}.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instruction-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instruction-item[_ngcontent-%COMP%]   .bullet-number[_ngcontent-%COMP%]{color:#fdbb2c;font-family:Noto Sans,sans-serif;font-size:14.96px;font-weight:700;line-height:1.5;min-width:20px}.modal-body-content[_ngcontent-%COMP%]   .instructions-section[_ngcontent-%COMP%]   .instruction-item[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{color:#fff;font-family:Noto Sans,sans-serif;font-size:14.96px;font-weight:700;line-height:1.5;flex:1}.modal-body-content[_ngcontent-%COMP%]   .start-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:25px;position:relative;z-index:1}.modal-body-content[_ngcontent-%COMP%]   .start-button-container[_ngcontent-%COMP%]   .start-button[_ngcontent-%COMP%]{background:#fdbb2c;border:none;border-radius:4.55px;padding:10px 14px;font-family:Noto Sans,sans-serif;font-size:16px;font-weight:700;color:#000;cursor:pointer;box-shadow:0 1.71px 9.9px #00000040,inset 0 2px 4.28px #ffffff80;min-width:120px;height:41px;display:flex;align-items:center;justify-content:center}.modal-body-content[_ngcontent-%COMP%]   .start-button-container[_ngcontent-%COMP%]   .start-button[_ngcontent-%COMP%]:hover{background:#ffcd0c}.prize-info-section[_ngcontent-%COMP%]{width:100%}@media (max-width: 767px){.prize-info-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px}}.prize-info-section[_ngcontent-%COMP%]   .prize-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:15px}@media (max-width: 767px){.prize-info-section[_ngcontent-%COMP%]   .prize-grid[_ngcontent-%COMP%]{width:80%;max-width:300px;grid-template-columns:1fr}}.prize-info-section[_ngcontent-%COMP%]   .prize-grid[_ngcontent-%COMP%]   .prize-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:20px}@media (max-width: 767px){.prize-info-section[_ngcontent-%COMP%]   .prize-grid[_ngcontent-%COMP%]   .prize-item[_ngcontent-%COMP%]{justify-content:space-between}}.prize-info-section[_ngcontent-%COMP%]   .prize-grid[_ngcontent-%COMP%]   .prize-item[_ngcontent-%COMP%]   .horse-icon-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.prize-info-section[_ngcontent-%COMP%]   .prize-grid[_ngcontent-%COMP%]   .prize-item[_ngcontent-%COMP%]   .horse-icon-container[_ngcontent-%COMP%]   .horse-icon[_ngcontent-%COMP%]{width:29px;height:32px;margin-top:-2px}.prize-info-section[_ngcontent-%COMP%]   .prize-grid[_ngcontent-%COMP%]   .prize-item[_ngcontent-%COMP%]   .horse-icon-container[_ngcontent-%COMP%]   .horse-number[_ngcontent-%COMP%]{color:#fff;font-family:Noto Sans,sans-serif;font-size:15px;font-weight:700;line-height:1.5}.prize-info-section[_ngcontent-%COMP%]   .prize-grid[_ngcontent-%COMP%]   .prize-item[_ngcontent-%COMP%]   .prize-amount[_ngcontent-%COMP%]{background:linear-gradient(88deg,#fca20d 50%,#ffcd0c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-family:Noto Sans,sans-serif;font-size:17px;font-weight:700;line-height:1.3}.prize-info-section[_ngcontent-%COMP%]   .prize-grid[_ngcontent-%COMP%]   .prize-item[_ngcontent-%COMP%]   .prize-amount.zero-amount[_ngcontent-%COMP%]{font-size:19px;background:linear-gradient(88deg,#fca20d 50%,#ffcd0c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}']})}return n})(),he=(()=>{class n{constructor(){this.modal=(0,e.WQX)(C.Lw)}onCancel(){this.modal.close()}onDeposit(){this.modal.close(),window.parent.postMessage("GoToDepositPage","*")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-insufficient-tickets-modal"]],decls:14,vars:9,consts:[["modal-body",""],[1,"insufficient-tickets-content"],[1,"message-container"],[1,"message-text"],[1,"action-buttons"],[1,"btn","secondary",3,"click"],["ngbAutofocus","",1,"btn","primary",3,"click"]],template:function(i,s){1&i&&(e.j41(0,"app-racing-modal")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",4)(8,"button",5),e.bIt("click",function(){return s.onCancel()}),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"button",6),e.bIt("click",function(){return s.onDeposit()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()()),2&i&&(e.R7$(5),e.SpI(" ",e.bMT(6,3,"insufficientTickets")," "),e.R7$(4),e.SpI(" ",e.bMT(10,5,"modal.cancel")," "),e.R7$(3),e.SpI(" ",e.bMT(13,7,"deposit")," "))},dependencies:[o.MD,h.h,h.D9,P],styles:[".insufficient-tickets-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:20px}.insufficient-tickets-content[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{text-align:center;margin:30px auto}.insufficient-tickets-content[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:700;font-size:24px;color:#fff;line-height:1.21;text-align:center}"]})}return n})();const me=()=>({d:"assets/horse-racing/images/bg-desktop.jpg",m:"assets/horse-racing/images/bg-mobile.jpg"}),ue=()=>({d:"assets/horse-racing/images/Urace33 game logo.png",m:"assets/horse-racing/images/Urace33 logo mobile.png"}),fe=(n,c)=>c.id;function xe(n,c){if(1&n){const t=e.RV6();e.j41(0,"app-horse-item",16),e.bIt("click",function(){const s=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.selectHorse(s.id))}),e.k0s()}if(2&n){const t=c.$implicit,i=e.XpG();e.Y8G("horse",t)("selected",i.selectedHorseId===t.id)}}function be(n,c){if(1&n&&(e.j41(0,"div",21)(1,"div",22)(2,"div",23),e.nrm(3,"app-horse-preview-image",24),e.k0s(),e.j41(4,"div",25)(5,"div",26)(6,"div",27),e.nrm(7,"div",28),e.k0s(),e.j41(8,"span",29),e.EFF(9),e.k0s()()()()()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("raceImage",t.getSelectedHorseRaceImage())("showAnimation",!0),e.R7$(4),e.xc7("width",t.loadingProgress,"%"),e.R7$(2),e.SpI("",t.loadingProgress,"%")}}function Ce(n,c){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"app-horse-racing-canvas",19),e.bIt("raceFinished",function(s){e.eBV(t);const p=e.XpG();return e.Njj(p.onRaceFinished(s))}),e.k0s(),e.DNE(3,be,10,5,"div",20),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("hidden",t.isCanvasHidden),e.R7$(3),e.Y8G("ngIf",!t.isCanvasReady)}}let _e=(()=>{class n{constructor(){this.prizePoolService=(0,e.WQX)(T._),this.utilService=(0,e.WQX)(O.a),this.modalService=(0,e.WQX)(C.Bq),this.horseRacingGameService=(0,e.WQX)(L),this.gameSoundService=(0,e.WQX)(R.R),this.cdnService=(0,e.WQX)(f.HM),this.cdr=(0,e.WQX)(e.gRc),this.tokensLeft$=this.utilService.currentPlayerDepositInfo$.pipe((0,w.T)(t=>t.spinsLeft??0)),this.tokensLeftSignal=(0,b.ot)(this.tokensLeft$,{initialValue:0}),this.cdnPrefix=this.cdnService.getCdnPrefix(),this.horses=[{id:0,raceImage:"assets/horse-racing/horse_01.png",color:"#F10405",textColor:"white"},{id:1,raceImage:"assets/horse-racing/horse_02.png",color:"#FFFFFF",textColor:"#2D2D2D"},{id:2,raceImage:"assets/horse-racing/horse_03.png",color:"#0200F9",textColor:"white"},{id:3,raceImage:"assets/horse-racing/horse_04.png",color:"#FFFE04",textColor:"#323232"},{id:4,raceImage:"assets/horse-racing/horse_05.png",color:"#095522",textColor:"white"},{id:5,raceImage:"assets/horse-racing/horse_06.png",color:"#000000",textColor:"#FFFE04"},{id:6,raceImage:"assets/horse-racing/horse_07.png",color:"#FF4A0A",textColor:"black"},{id:7,raceImage:"assets/horse-racing/horse_08.png",color:"#F95083",textColor:"black"},{id:8,raceImage:"assets/horse-racing/horse_09.png",color:"#02A1C6",textColor:"black"},{id:9,raceImage:"assets/horse-racing/horse_10.png",color:"#713D9F",textColor:"white"}],this.selectedHorseId=null,this.isRaceRunning=!1,this.canvasEnabled=!1,this.isCanvasHidden=!1,this.targetRanking=null,this.isLoading=!1,this.prizeAmount=null,this.isCanvasReady=!1,this.loadingProgress=0}ngOnInit(){this.horseRacingGameService.raceState$.subscribe(t=>{t.isRunning&&t.gameInitialized&&(this.isCanvasReady=!0,this.cdr.detectChanges())}),setTimeout(()=>{this.utilService.getPrizePool().subscribe()},2e3)}howtoPlay(){this.modalService.open(ge,{centered:!1,modalDialogClass:"how-to-play-modal"})}selectHorse(t){!this.isRaceRunning&&!this.isLoading&&(this.selectedHorseId=t)}openConfirmationModal(){if(null!==this.selectedHorseId){const t=this.horses.find(p=>p.id===this.selectedHorseId),i=this.modalService.open(E,{centered:!1});i.componentInstance.selectedHorse=t;const s=i.componentInstance.startRace.subscribe(()=>{i.close(),this.startRace(),s.unsubscribe()})}}getSelectedHorseRaceImage(){return this.horses.find(t=>t.id===this.selectedHorseId).raceImage}startRace(){if(this.tokensLeftSignal()<=0)this.modalService.open(he,{centered:!1});else if(null!==this.selectedHorseId&&!this.isRaceRunning&&!this.isLoading){this.isLoading=!0,this.isCanvasReady=!1,this.loadingProgress=0;const t=setInterval(()=>{this.loadingProgress+=Math.floor(10*Math.random())+5,this.loadingProgress>=100&&(this.loadingProgress=100,clearInterval(t))},200);this.prizePoolService.getPlayerRandomPrize().subscribe({next:i=>{this.isLoading=!1,this.targetRanking=i.prize.order,this.prizeAmount=i.prize.wheelAmount,this.horseRacingGameService.initializeRace(this.selectedHorseId,this.targetRanking),this.horseRacingGameService.startRace(),this.isRaceRunning=!0,this.canvasEnabled=!0,this.isCanvasHidden=!1,this.gameSoundService.soundEnabled=!1,this.gameSoundService.stopAllSound()},error:i=>{this.isLoading=!1,this.isCanvasReady=!0,clearInterval(t),console.error("Error getting random prize:",i),alert("Failed to start race. Please try again.")}})}}onRaceFinished(t){this.isRaceRunning=!1,this.utilService.refreshPlayerDepositInfo();const i=t.map(p=>this.horses.find(m=>m.id===p)),s=this.modalService.open(K,{centered:!1,modalDialogClass:"race-result-modal",backdrop:"static"});s.componentInstance.horses=i,s.componentInstance.selectedHorseId=this.selectedHorseId,s.componentInstance.prizeAmount=this.prizeAmount,s.closed.pipe((0,x.s)(1)).subscribe(()=>{if(null!==this.selectedHorseId&&null!==this.targetRanking){this.gameSoundService.soundEnabled=!0;const p=this.modalService.open(d,{centered:!1,modalDialogClass:"horse-prize-modal",backdrop:"static"});p.componentInstance.horseId=this.selectedHorseId,p.componentInstance.position=this.targetRanking-1,p.closed.pipe((0,x.s)(1)).subscribe(()=>{window.stopSoundLoop("soundAmbience"),this.isCanvasHidden=!0,this.gameSoundService.playBackgroundSound()})}})}onShowTermsAndConditions(){this.utilService.currentPlayerDepositInfo$.pipe((0,x.s)(1)).subscribe(t=>{this.utilService.showTermsAndConditions(t.eventStartTime,t.eventEndTime)})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-horses-racing"]],features:[e.Jv_([L])],decls:29,vars:23,consts:[[1,"horse-racing-container",3,"appBackgroundImgLoading"],[1,"logo",3,"appBackgroundImgLoading"],[1,"panel","horse-selection-panel"],[1,"panel-header"],[1,"btn",3,"click"],[1,"progress"],[1,"progress-icon"],[1,"notranslate"],[1,"horses-list"],[3,"horse","selected"],[1,"action-buttons"],[1,"btn",2,"min-width","150px",3,"click","disabled"],["appBackgroundImgLoading","assets/horse-racing/images/Uwin33-CNY-2026-Mascot.png",1,"mascot-container"],["class","race-canvas-container",3,"hidden",4,"ngIf"],[1,"flex","justify-center","width-full"],["type","button",1,"terms-btn",3,"click"],[3,"click","horse","selected"],[1,"race-canvas-container",3,"hidden"],[1,"race-canvas-wrapper"],[3,"raceFinished"],["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"loading-content"],[1,"loading-animation"],[3,"raceImage","showAnimation"],[1,"loading-text"],[1,"loading-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"]],template:function(i,s){1&i&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"button",4),e.bIt("click",function(){return s.howtoPlay()}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",5),e.nrm(8,"div",6),e.j41(9,"span",7),e.EFF(10),e.nI1(11,"translate"),e.nI1(12,"async"),e.nI1(13,"number"),e.k0s()()(),e.j41(14,"div",8),e.Z7z(15,xe,1,2,"app-horse-item",9,fe),e.k0s(),e.j41(17,"div",10)(18,"button",11),e.bIt("click",function(){return s.openConfirmationModal()}),e.EFF(19),e.nI1(20,"translate"),e.k0s()()(),e.nrm(21,"div",12),e.DNE(22,Ce,4,2,"div",13),e.k0s(),e.nrm(23,"app-ticket-mission-board"),e.j41(24,"div",14)(25,"button",15),e.bIt("click",function(){return s.onShowTermsAndConditions()}),e.j41(26,"span"),e.EFF(27),e.nI1(28,"translate"),e.k0s()()()),2&i&&(e.Y8G("appBackgroundImgLoading",e.lJ4(21,me)),e.R7$(),e.Y8G("appBackgroundImgLoading",e.lJ4(22,ue)),e.R7$(4),e.SpI(" ",e.bMT(6,9,"horseRacing.btnHowToPlay")," "),e.R7$(5),e.Lme("",e.bMT(11,11,"horseRacing.token")," ",e.bMT(13,15,e.bMT(12,13,s.tokensLeft$)),""),e.R7$(5),e.Dyx(s.horses),e.R7$(3),e.Y8G("disabled",null===s.selectedHorseId),e.R7$(),e.SpI(" ",e.bMT(20,17,"horseRacing.btnContinue")," "),e.R7$(3),e.Y8G("ngIf",s.canvasEnabled),e.R7$(5),e.JRh(e.bMT(28,19,"termsAndConditions")))},dependencies:[o.MD,o.bT,o.Jj,o.QX,Y,f.df,F.O,h.h,h.D9,v,S],styles:["[_nghost-%COMP%]{position:relative}.horse-racing-container[_ngcontent-%COMP%]{border-radius:20px;height:674px;overflow:hidden;position:relative;background-size:cover;display:flex;align-items:center}@media only screen and (max-width: 768px){.horse-racing-container[_ngcontent-%COMP%]{border-radius:0;background-position:bottom;height:auto;flex-direction:column}}.logo[_ngcontent-%COMP%]{background-size:cover;position:absolute;width:360px;height:91px;top:28px;left:40px;background-size:contain;background-repeat:no-repeat;background-position:center}@media only screen and (max-width: 1000px){.logo[_ngcontent-%COMP%]{width:25vw;height:6.2vw}}@media only screen and (max-width: 768px){.logo[_ngcontent-%COMP%]{height:22vw;margin-top:5vw;width:100%;position:relative;top:auto;left:auto}}.mascot-container[_ngcontent-%COMP%]{background-size:cover;position:absolute;left:-133px;bottom:-80px;width:733.3964769979px;height:637.7360775695px;transform:rotate(-6.08deg)}@media only screen and (max-width: 768px){.mascot-container[_ngcontent-%COMP%]{width:48vw;height:48vw;z-index:1;position:relative;left:0;bottom:auto;margin-top:-10vw;margin-left:-10vw;margin-right:auto;margin-bottom:-15vw}}.horse-selection-panel[_ngcontent-%COMP%]{width:507px;height:634px;border-radius:16px;margin-right:20px;margin-left:auto;padding:22px 35px;z-index:1}@media screen and (max-width: 767px){.horse-selection-panel[_ngcontent-%COMP%]{width:96%;height:auto;margin:0 auto;max-width:500px}}@media screen and (max-width: 480px){.horse-selection-panel[_ngcontent-%COMP%]{padding:20px}}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.panel-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_move 1.5s infinite ease-in-out}@keyframes _ngcontent-%COMP%_move{0%{opacity:1;box-shadow:0 0 #fec8c866;transform:scale(1)}50%{opacity:.85;box-shadow:0 0 12px 8px #febcbc99;transform:scale(1.08)}to{opacity:1;box-shadow:0 0 #e4dada66;transform:scale(1)}}.horses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-bottom:15px;overflow-y:auto;padding-right:5px}.horses-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.horses-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:3px}.horses-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.action-buttons[_ngcontent-%COMP%]{text-align:center}.race-canvas-container[_ngcontent-%COMP%]{border-radius:20px;width:100%;height:100%;margin:0 auto;box-shadow:0 10px 30px #0000004d;z-index:100;position:absolute;top:0;left:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#85640499}@media only screen and (max-width: 768px){.race-canvas-container[_ngcontent-%COMP%]{border-radius:0}}.race-canvas-wrapper[_ngcontent-%COMP%]{width:1080px;height:674px;max-width:100%;max-height:100%;display:flex;justify-content:center;align-items:center;position:relative}@media (max-width: 768px){.race-canvas-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;align-items:flex-start;padding-top:50px}}.race-canvas-wrapper[_ngcontent-%COMP%]   app-horse-racing-canvas[_ngcontent-%COMP%]{border-radius:15px;box-shadow:0 8px 25px #0003;width:100%;height:100%;display:block}@media (max-width: 768px){.race-canvas-wrapper[_ngcontent-%COMP%]   app-horse-racing-canvas[_ngcontent-%COMP%]{width:100%;height:auto}}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000d9;display:flex;justify-content:center;align-items:center;border-radius:15px;z-index:10;animation:_ngcontent-%COMP%_fadeIn .1s ease-out}@media only screen and (max-width: 768px){.loading-overlay[_ngcontent-%COMP%]{border-radius:0}}.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{text-align:center;color:#fff;max-width:300px;padding:20px}.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-animation[_ngcontent-%COMP%]{margin-bottom:40px}.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-animation[_ngcontent-%COMP%]   app-horse-preview-image[_ngcontent-%COMP%]{transform:scale(2);display:block;margin:0 auto;display:flex;justify-content:center}.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{width:200px}.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   .loading-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#fff3;border-radius:4px;overflow:hidden;margin-bottom:8px}.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   .loading-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ff6b6b,#ffa726);border-radius:4px;transition:width .3s ease-out;box-shadow:0 0 10px #ff6b6b80}.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]   .loading-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#ffa726;text-shadow:0 1px 2px rgba(0,0,0,.5)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{max-width:250px}.loading-overlay[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-animation[_ngcontent-%COMP%]   app-horse-preview-image[_ngcontent-%COMP%]{transform:scale(1.5)}}app-ticket-mission-board[_ngcontent-%COMP%] {--mission-icon: url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.20/mingcute_board-line.751bd02acb1142bd.svg);--ticket-bg: #FDBB2C61;--ticket-mascot: url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.20/xiao-san.8e0920c704648bd5.png);--ticket-panel-bg: url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.20/bg-ticket.1d98767e9ba954a0.png);--ticket-mission-bg: #FDBB2C4F;--mission-glow-bg: radial-gradient(ellipse at center, rgb(255 108 108 / 16%) 0%, rgb(255 108 108 / 35%) 0%, rgba(255, 108, 108, .4) 2%, rgb(255 108 108 / 25%) 42%, transparent 100%);--winner-list-bg: linear-gradient(180deg, #BD3D3D 0%, rgba(0, 11, 38, 0) 98.5%);--prime-crown: url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.20/prime_crown.3e22704cb86b3e89.svg);--glow-bg: radial-gradient(ellipse at center, rgb(201 108 255 / 20%) 0%, rgb(201 108 255 / 48%) 30%, rgb(201 108 255 / 41%) 60%, transparent 100%);--user-icon: url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.20/user-icon.bfd3c447f5e0b852.svg)}"]})}return n})()}}]);