(self.webpackChunkuwin33=self.webpackChunkuwin33||[]).push([[979],{2314:Ae=>{var H=.1,be="function"==typeof Float32Array;function K(C,_){return 1-3*_+3*C}function ae(C,_){return 3*_-6*C}function ce(C){return 3*C}function O(C,_,k){return((K(_,k)*C+ae(_,k))*C+ce(_))*C}function le(C,_,k){return 3*K(_,k)*C*C+2*ae(_,k)*C+ce(_)}function G(C){return C}Ae.exports=function(_,k,T,D){if(!(0<=_&&_<=1&&0<=T&&T<=1))throw new Error("bezier x values must be in [0, 1] range");if(_===k&&T===D)return G;for(var u=be?new Float32Array(11):new Array(11),v=0;v<11;++v)u[v]=O(v*H,_,T);return function(j){return 0===j?0:1===j?1:O(function U(L){for(var j=0,I=1;10!==I&&u[I]<=L;++I)j+=H;--I;var ee=j+(L-u[I])/(u[I+1]-u[I])*H,pe=le(ee,_,T);return pe>=.001?function Ce(C,_,k,T){for(var D=0;D<4;++D){var u=le(_,k,T);if(0===u)return _;_-=(O(_,k,T)-C)/u}return _}(L,ee,_,T):0===pe?ee:function de(C,_,k,T,D){var u,v,U=0;do{(u=O(v=_+(k-_)/2,T,D)-C)>0?k=v:_=v}while(Math.abs(u)>1e-7&&++U<10);return v}(L,j,j+H,_,T)}(j),k,D)}}},7979:(Ae,se,g)=>{"use strict";g.r(se),g.d(se,{SpinAndWinModule:()=>_i});var J=g(9377),m=g(2881),e=g(1360),H=g(9417);const be=["*"];let K=(()=>{class o{config;afterChange=(0,e.CGW)();beforeChange=(0,e.CGW)();breakpoint=(0,e.CGW)();destroy=(0,e.CGW)();init=(0,e.CGW)();$instance;currentIndex=0;slides=[];initialized=!1;_removedSlides=[];_addedSlides=[];el=(0,e.WQX)(e.aKT);zone=(0,e.WQX)(e.SKi);isServer=(0,J.Vy)((0,e.WQX)(e.Agw));ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!this.isServer&&(this._addedSlides.length>0||this._removedSlides.length>0)){const n=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===n?this.unslick():(this._addedSlides.forEach(i=>{this.slides.push(i),this.$instance.slick("slickAdd",i.el.nativeElement)}),this._addedSlides=[],this._removedSlides.forEach(i=>{const r=this.slides.indexOf(i);this.slides=this.slides.filter(s=>s!==i),this.$instance.slick("slickRemove",r)}),this._removedSlides=[]):n>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(n,i)=>{this.zone.run(()=>{this.init.emit({event:n,slick:i})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config?.initialSlide||0}),this.$instance.on("afterChange",(n,i,r)=>{this.zone.run(()=>{this.afterChange.emit({event:n,slick:i,currentSlide:r,first:0===r,last:i.$slides.length===r+i.options.slidesToScroll}),this.currentIndex=r})}),this.$instance.on("beforeChange",(n,i,r,s)=>{this.zone.run(()=>{this.beforeChange.emit({event:n,slick:i,currentSlide:r,nextSlide:s}),this.currentIndex=s})}),this.$instance.on("breakpoint",(n,i,r)=>{this.zone.run(()=>{this.breakpoint.emit({event:n,slick:i,breakpoint:r})})}),this.$instance.on("destroy",(n,i)=>{this.zone.run(()=>{this.destroy.emit({event:n,slick:i}),this.initialized=!1})})}addSlide(n){this._addedSlides.push(n)}removeSlide(n){this._removedSlides.push(n)}slickGoTo(n){this.$instance.slick("slickGoTo",n)}slickNext(){this.$instance.slick("slickNext")}slickPrev(){this.$instance.slick("slickPrev")}slickPause(){this.$instance.slick("slickPause")}slickPlay(){this.$instance.slick("slickPlay")}unslick(){this.$instance&&(this.$instance.slick("unslick"),this.$instance=void 0),this.initialized=!1}ngOnChanges(n){if(this.initialized){const i=n.config;if(i.previousValue!==i.currentValue&&void 0!==i.currentValue){const r=i.currentValue.refresh,s=Object.assign({},i.currentValue);delete s.refresh,this.$instance.slick("slickSetOption",s,r)}}}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=e.VBU({type:o,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],standalone:!1,features:[e.Jv_([{provide:H.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}]),e.OA$],ngContentSelectors:be,decls:1,vars:0,template:function(i,r){1&i&&(e.NAR(),e.SdG(0))},encapsulation:2})}return o})(),ae=(()=>{class o{carousel=(0,e.WQX)(K,{host:!0});renderer=(0,e.WQX)(e.sFG);el=(0,e.WQX)(e.aKT);isServer=(0,J.Vy)((0,e.WQX)(e.Agw));ngOnInit(){this.carousel.addSlide(this),this.isServer&&this.carousel.slides.length>0&&this.renderer.setStyle(this.el,"display","none")}ngOnDestroy(){this.carousel.removeSlide(this)}static \u0275fac=function(i){return new(i||o)};static \u0275dir=e.FsC({type:o,selectors:[["","ngxSlickItem",""]],standalone:!1})}return o})(),ce=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[m.MD]})}return o})();var O=g(1780);let le=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[m.MD,O.h,m.MD]})}}return o})();var de=g(5207),Ce=g(9967),G=g(5564),C=g(4412),_=g(7643),k=function(o){return o.MaintenanceStatusUpdated="MaintenanceStatusUpdated",o}(k||{});const T=[0,2e3,1e4,3e4,null];class D{constructor(t){this._retryDelays=void 0!==t?[...t,null]:T}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}var u=g(467);let v=(()=>{class o{}return o.Authorization="Authorization",o.Cookie="Cookie",o})();class U{constructor(t,n,i){this.statusCode=t,this.statusText=n,this.content=i}}class L{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}class j extends L{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}send(t){var n=this;return(0,u.A)(function*(){let i=!0;n._accessTokenFactory&&(!n._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(i=!1,n._accessToken=yield n._accessTokenFactory()),n._setAuthorizationHeader(t);const r=yield n._innerClient.send(t);return i&&401===r.statusCode&&n._accessTokenFactory?(n._accessToken=yield n._accessTokenFactory(),n._setAuthorizationHeader(t),yield n._innerClient.send(t)):r})()}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[v.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[v.Authorization]&&delete t.headers[v.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}class I extends Error{constructor(t,n){const i=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=i}}class Z extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class E extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class ee extends Error{constructor(t,n){const i=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=i}}class pe extends Error{constructor(t,n){const i=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=i}}class ot extends Error{constructor(t,n){const i=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=i}}class We extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class rt extends Error{constructor(t,n){const i=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=i}}var a=function(o){return o[o.Trace=0]="Trace",o[o.Debug=1]="Debug",o[o.Information=2]="Information",o[o.Warning=3]="Warning",o[o.Error=4]="Error",o[o.Critical=5]="Critical",o[o.None=6]="None",o}(a||{});class te{constructor(){}log(t,n){}}te.instance=new te;class w{static isRequired(t,n){if(null==t)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,i){if(!(t in n))throw new Error(`Unknown ${i} value: ${t}.`)}}class x{static get isBrowser(){return!x.isNode&&"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return!x.isNode&&"object"==typeof self&&"importScripts"in self}static get isReactNative(){return!x.isNode&&"object"==typeof window&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&"node"===process.release.name}}function ne(o,t){let n="";return F(o)?(n=`Binary data of length ${o.byteLength}`,t&&(n+=`. Content: '${function at(o){const t=new Uint8Array(o);let n="";return t.forEach(i=>{n+=`0x${i<16?"0":""}${i.toString(16)} `}),n.substr(0,n.length-1)}(o)}'`)):"string"==typeof o&&(n=`String data of length ${o.length}`,t&&(n+=`. Content: '${o}'`)),n}function F(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&"ArrayBuffer"===o.constructor.name)}function Ge(o,t,n,i,r,s){return xe.apply(this,arguments)}function xe(){return(xe=(0,u.A)(function*(o,t,n,i,r,s){const l={},[c,d]=Y();l[c]=d,o.log(a.Trace,`(${t} transport) sending data. ${ne(r,s.logMessageContent)}.`);const p=F(r)?"arraybuffer":"text",f=yield n.post(i,{content:r,headers:{...l,...s.headers},responseType:p,timeout:s.timeout,withCredentials:s.withCredentials});o.log(a.Trace,`(${t} transport) request complete. Response status: ${f.statusCode}.`)})).apply(this,arguments)}class lt{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class ge{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const i=`[${(new Date).toISOString()}] ${a[t]}: ${n}`;switch(t){case a.Critical:case a.Error:this.out.error(i);break;case a.Warning:this.out.warn(i);break;case a.Information:this.out.info(i);break;default:this.out.log(i)}}}}function Y(){let o="X-SignalR-User-Agent";return x.isNode&&(o="User-Agent"),[o,dt("8.0.7",pt(),x.isNode?"NodeJS":"Browser",gt())]}function dt(o,t,n,i){let r="Microsoft SignalR/";const s=o.split(".");return r+=`${s[0]}.${s[1]}`,r+=` (${o}; `,r+=t&&""!==t?`${t}; `:"Unknown OS; ",r+=`${n}`,r+=i?`; ${i}`:"; Unknown Runtime Version",r+=")",r}function pt(){if(!x.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function gt(){if(x.isNode)return process.versions.node}function Pe(o){return o.stack?o.stack:o.message?o.message:`${o}`}class mt extends L{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||x.isNode){const n=require;this._jar=new(n("tough-cookie").CookieJar),this._fetchType=typeof fetch>"u"?n("node-fetch"):fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function ut(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const n=require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}send(t){var n=this;return(0,u.A)(function*(){if(t.abortSignal&&t.abortSignal.aborted)throw new E;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const i=new n._abortControllerType;let r;t.abortSignal&&(t.abortSignal.onabort=()=>{i.abort(),r=new E});let l,s=null;t.timeout&&(s=setTimeout(()=>{i.abort(),n._logger.log(a.Warning,"Timeout from HTTP request."),r=new Z},t.timeout)),""===t.content&&(t.content=void 0),t.content&&(t.headers=t.headers||{},t.headers["Content-Type"]=F(t.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{l=yield n._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:!0===t.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:i.signal})}catch(p){throw r||(n._logger.log(a.Warning,`Error from HTTP request. ${p}.`),p)}finally{s&&clearTimeout(s),t.abortSignal&&(t.abortSignal.onabort=null)}if(!l.ok){const p=yield Fe(l,"text");throw new I(p||l.statusText,l.status)}const d=yield Fe(l,t.responseType);return new U(l.status,l.statusText,d)})()}getCookieString(t){let n="";return x.isNode&&this._jar&&this._jar.getCookies(t,(i,r)=>n=r.join("; ")),n}}function Fe(o,t){let n;switch(t){case"arraybuffer":n=o.arrayBuffer();break;case"text":default:n=o.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return n}class ft extends L{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new E):t.method?t.url?new Promise((n,i)=>{const r=new XMLHttpRequest;r.open(t.method,t.url,!0),r.withCredentials=void 0===t.withCredentials||t.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===t.content&&(t.content=void 0),t.content&&(F(t.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const s=t.headers;s&&Object.keys(s).forEach(l=>{r.setRequestHeader(l,s[l])}),t.responseType&&(r.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{r.abort(),i(new E)}),t.timeout&&(r.timeout=t.timeout),r.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),r.status>=200&&r.status<300?n(new U(r.status,r.statusText,r.response||r.responseText)):i(new I(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(a.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),i(new I(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(a.Warning,"Timeout from HTTP request."),i(new Z)},r.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class _t extends L{constructor(t){if(super(),typeof fetch<"u"||x.isNode)this._httpClient=new mt(t);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new ft(t)}}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new E):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}var M=function(o){return o[o.None=0]="None",o[o.WebSockets=1]="WebSockets",o[o.ServerSentEvents=2]="ServerSentEvents",o[o.LongPolling=4]="LongPolling",o}(M||{}),z=function(o){return o[o.Text=1]="Text",o[o.Binary=2]="Binary",o}(z||{});class bt{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class Be{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,i){this._httpClient=t,this._logger=n,this._pollAbort=new bt,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}connect(t,n){var i=this;return(0,u.A)(function*(){if(w.isRequired(t,"url"),w.isRequired(n,"transferFormat"),w.isIn(n,z,"transferFormat"),i._url=t,i._logger.log(a.Trace,"(LongPolling transport) Connecting."),n===z.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,s]=Y(),l={[r]:s,...i._options.headers},c={abortSignal:i._pollAbort.signal,headers:l,timeout:1e5,withCredentials:i._options.withCredentials};n===z.Binary&&(c.responseType="arraybuffer");const d=`${t}&_=${Date.now()}`;i._logger.log(a.Trace,`(LongPolling transport) polling: ${d}.`);const p=yield i._httpClient.get(d,c);200!==p.statusCode?(i._logger.log(a.Error,`(LongPolling transport) Unexpected response code: ${p.statusCode}.`),i._closeError=new I(p.statusText||"",p.statusCode),i._running=!1):i._running=!0,i._receiving=i._poll(i._url,c)})()}_poll(t,n){var i=this;return(0,u.A)(function*(){try{for(;i._running;)try{const r=`${t}&_=${Date.now()}`;i._logger.log(a.Trace,`(LongPolling transport) polling: ${r}.`);const s=yield i._httpClient.get(r,n);204===s.statusCode?(i._logger.log(a.Information,"(LongPolling transport) Poll terminated by server."),i._running=!1):200!==s.statusCode?(i._logger.log(a.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),i._closeError=new I(s.statusText||"",s.statusCode),i._running=!1):s.content?(i._logger.log(a.Trace,`(LongPolling transport) data received. ${ne(s.content,i._options.logMessageContent)}.`),i.onreceive&&i.onreceive(s.content)):i._logger.log(a.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){i._running?r instanceof Z?i._logger.log(a.Trace,"(LongPolling transport) Poll timed out, reissuing."):(i._closeError=r,i._running=!1):i._logger.log(a.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{i._logger.log(a.Trace,"(LongPolling transport) Polling complete."),i.pollAborted||i._raiseOnClose()}})()}send(t){var n=this;return(0,u.A)(function*(){return n._running?Ge(n._logger,"LongPolling",n._httpClient,n._url,t,n._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var t=this;return(0,u.A)(function*(){t._logger.log(a.Trace,"(LongPolling transport) Stopping polling."),t._running=!1,t._pollAbort.abort();try{yield t._receiving,t._logger.log(a.Trace,`(LongPolling transport) sending DELETE request to ${t._url}.`);const n={},[i,r]=Y();n[i]=r;const s={headers:{...n,...t._options.headers},timeout:t._options.timeout,withCredentials:t._options.withCredentials};let l;try{yield t._httpClient.delete(t._url,s)}catch(c){l=c}l?l instanceof I&&t._logger.log(a.Trace,404===l.statusCode?"(LongPolling transport) A 404 response was returned from sending a DELETE request.":`(LongPolling transport) Error sending a DELETE request: ${l}`):t._logger.log(a.Trace,"(LongPolling transport) DELETE request accepted.")}finally{t._logger.log(a.Trace,"(LongPolling transport) Stop finished."),t._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(a.Trace,t),this.onclose(this._closeError)}}}class Ct{constructor(t,n,i,r){this._httpClient=t,this._accessToken=n,this._logger=i,this._options=r,this.onreceive=null,this.onclose=null}connect(t,n){var i=this;return(0,u.A)(function*(){return w.isRequired(t,"url"),w.isRequired(n,"transferFormat"),w.isIn(n,z,"transferFormat"),i._logger.log(a.Trace,"(SSE transport) Connecting."),i._url=t,i._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i._accessToken)}`),new Promise((r,s)=>{let c,l=!1;if(n===z.Text){if(x.isBrowser||x.isWebWorker)c=new i._options.EventSource(t,{withCredentials:i._options.withCredentials});else{const d=i._httpClient.getCookieString(t),p={};p.Cookie=d;const[f,b]=Y();p[f]=b,c=new i._options.EventSource(t,{withCredentials:i._options.withCredentials,headers:{...p,...i._options.headers}})}try{c.onmessage=d=>{if(i.onreceive)try{i._logger.log(a.Trace,`(SSE transport) data received. ${ne(d.data,i._options.logMessageContent)}.`),i.onreceive(d.data)}catch(p){return void i._close(p)}},c.onerror=d=>{l?i._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},c.onopen=()=>{i._logger.log(a.Information,`SSE connected to ${i._url}`),i._eventSource=c,l=!0,r()}}catch(d){return void s(d)}}else s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(t){var n=this;return(0,u.A)(function*(){return n._eventSource?Ge(n._logger,"SSE",n._httpClient,n._url,t,n._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class xt{constructor(t,n,i,r,s,l){this._logger=i,this._accessTokenFactory=n,this._logMessageContent=r,this._webSocketConstructor=s,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=l}connect(t,n){var i=this;return(0,u.A)(function*(){let r;return w.isRequired(t,"url"),w.isRequired(n,"transferFormat"),w.isIn(n,z,"transferFormat"),i._logger.log(a.Trace,"(WebSockets transport) Connecting."),i._accessTokenFactory&&(r=yield i._accessTokenFactory()),new Promise((s,l)=>{let c;t=t.replace(/^http/,"ws");const d=i._httpClient.getCookieString(t);let p=!1;if(x.isNode||x.isReactNative){const f={},[b,q]=Y();f[b]=q,r&&(f[v.Authorization]=`Bearer ${r}`),d&&(f[v.Cookie]=d),c=new i._webSocketConstructor(t,void 0,{headers:{...f,...i._headers}})}else r&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);c||(c=new i._webSocketConstructor(t)),n===z.Binary&&(c.binaryType="arraybuffer"),c.onopen=f=>{i._logger.log(a.Information,`WebSocket connected to ${t}.`),i._webSocket=c,p=!0,s()},c.onerror=f=>{let b=null;b=typeof ErrorEvent<"u"&&f instanceof ErrorEvent?f.error:"There was an error with the transport",i._logger.log(a.Information,`(WebSockets transport) ${b}.`)},c.onmessage=f=>{if(i._logger.log(a.Trace,`(WebSockets transport) data received. ${ne(f.data,i._logMessageContent)}.`),i.onreceive)try{i.onreceive(f.data)}catch(b){return void i._close(b)}},c.onclose=f=>{if(p)i._close(f);else{let b=null;b=typeof ErrorEvent<"u"&&f instanceof ErrorEvent?f.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",l(new Error(b))}}})})()}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(a.Trace,`(WebSockets transport) sending data. ${ne(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(a.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(t)||!1!==t.wasClean&&1e3===t.code?t instanceof Error?this.onclose(t):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)))}_isCloseEvent(t){return t&&"boolean"==typeof t.wasClean&&"number"==typeof t.code}}class Pt{constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,w.isRequired(t,"url"),this._logger=function ct(o){return void 0===o?new ge(a.Information):null===o?te.instance:void 0!==o.log?o:new ge(o)}(n.logger),this.baseUrl=this._resolveUrl(t),(n=n||{}).logMessageContent=void 0!==n.logMessageContent&&n.logMessageContent,"boolean"!=typeof n.withCredentials&&void 0!==n.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.withCredentials=void 0===n.withCredentials||n.withCredentials,n.timeout=void 0===n.timeout?1e5:n.timeout;let i=null,r=null;if(x.isNode){const s=require;i=s("ws"),r=s("eventsource")}!x.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:x.isNode&&!n.WebSocket&&i&&(n.WebSocket=i),!x.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:x.isNode&&!n.EventSource&&typeof r<"u"&&(n.EventSource=r),this._httpClient=new j(n.httpClient||new _t(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}start(t){var n=this;return(0,u.A)(function*(){if(w.isIn(t=t||z.Binary,z,"transferFormat"),n._logger.log(a.Debug,`Starting connection with transfer format '${z[t]}'.`),"Disconnected"!==n._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(n._connectionState="Connecting",n._startInternalPromise=n._startInternal(t),yield n._startInternalPromise,"Disconnecting"===n._connectionState){const i="Failed to start the HttpConnection before stop() was called.";return n._logger.log(a.Error,i),yield n._stopPromise,Promise.reject(new E(i))}if("Connected"!==n._connectionState){const i="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return n._logger.log(a.Error,i),Promise.reject(new E(i))}n._connectionStarted=!0})()}send(t){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new we(this.transport)),this._sendQueue.send(t))}stop(t){var n=this;return(0,u.A)(function*(){return"Disconnected"===n._connectionState?(n._logger.log(a.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===n._connectionState?(n._logger.log(a.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),n._stopPromise):(n._connectionState="Disconnecting",n._stopPromise=new Promise(i=>{n._stopPromiseResolver=i}),yield n._stopInternal(t),void(yield n._stopPromise))})()}_stopInternal(t){var n=this;return(0,u.A)(function*(){n._stopError=t;try{yield n._startInternalPromise}catch{}if(n.transport){try{yield n.transport.stop()}catch(i){n._logger.log(a.Error,`HttpConnection.transport.stop() threw error '${i}'.`),n._stopConnection()}n.transport=void 0}else n._logger.log(a.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(t){var n=this;return(0,u.A)(function*(){let i=n.baseUrl;n._accessTokenFactory=n._options.accessTokenFactory,n._httpClient._accessTokenFactory=n._accessTokenFactory;try{if(n._options.skipNegotiation){if(n._options.transport!==M.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");n.transport=n._constructTransport(M.WebSockets),yield n._startTransport(i,t)}else{let r=null,s=0;do{if(r=yield n._getNegotiationResponse(i),"Disconnecting"===n._connectionState||"Disconnected"===n._connectionState)throw new E("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(i=r.url),r.accessToken){const l=r.accessToken;n._accessTokenFactory=()=>l,n._httpClient._accessToken=l,n._httpClient._accessTokenFactory=void 0}s++}while(r.url&&s<100);if(100===s&&r.url)throw new Error("Negotiate redirection limit exceeded.");yield n._createTransport(i,n._options.transport,r,t)}n.transport instanceof Be&&(n.features.inherentKeepAlive=!0),"Connecting"===n._connectionState&&(n._logger.log(a.Debug,"The HttpConnection connected successfully."),n._connectionState="Connected")}catch(r){return n._logger.log(a.Error,"Failed to start the connection: "+r),n._connectionState="Disconnected",n.transport=void 0,n._stopPromiseResolver(),Promise.reject(r)}})()}_getNegotiationResponse(t){var n=this;return(0,u.A)(function*(){const i={},[r,s]=Y();i[r]=s;const l=n._resolveNegotiateUrl(t);n._logger.log(a.Debug,`Sending negotiation request: ${l}.`);try{const c=yield n._httpClient.post(l,{content:"",headers:{...i,...n._options.headers},timeout:n._options.timeout,withCredentials:n._options.withCredentials});if(200!==c.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${c.statusCode}'`));const d=JSON.parse(c.content);return(!d.negotiateVersion||d.negotiateVersion<1)&&(d.connectionToken=d.connectionId),d.useStatefulReconnect&&!0!==n._options._useStatefulReconnect?Promise.reject(new We("Client didn't negotiate Stateful Reconnect but the server did.")):d}catch(c){let d="Failed to complete negotiation with the server: "+c;return c instanceof I&&404===c.statusCode&&(d+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),n._logger.log(a.Error,d),Promise.reject(new We(d))}})()}_createConnectUrl(t,n){return n?t+(-1===t.indexOf("?")?"?":"&")+`id=${n}`:t}_createTransport(t,n,i,r){var s=this;return(0,u.A)(function*(){let l=s._createConnectUrl(t,i.connectionToken);if(s._isITransport(n))return s._logger.log(a.Debug,"Connection was provided an instance of ITransport, using that directly."),s.transport=n,yield s._startTransport(l,r),void(s.connectionId=i.connectionId);const c=[],d=i.availableTransports||[];let p=i;for(const f of d){const b=s._resolveTransportOrError(f,n,r,!0===p?.useStatefulReconnect);if(b instanceof Error)c.push(`${f.transport} failed:`),c.push(b);else if(s._isITransport(b)){if(s.transport=b,!p){try{p=yield s._getNegotiationResponse(t)}catch(q){return Promise.reject(q)}l=s._createConnectUrl(t,p.connectionToken)}try{return yield s._startTransport(l,r),void(s.connectionId=p.connectionId)}catch(q){if(s._logger.log(a.Error,`Failed to start the transport '${f.transport}': ${q}`),p=void 0,c.push(new ot(`${f.transport} failed: ${q}`,M[f.transport])),"Connecting"!==s._connectionState){const it="Failed to select transport before stop() was called.";return s._logger.log(a.Debug,it),Promise.reject(new E(it))}}}}return Promise.reject(c.length>0?new rt(`Unable to connect to the server with any of the available transports. ${c.join(" ")}`,c):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(t){switch(t){case M.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new xt(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case M.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Ct(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case M.LongPolling:return new Be(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){var i=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=this.features.reconnect?function(){var r=(0,u.A)(function*(s){let l=!1;if(i.features.reconnect){try{i.features.disconnected(),yield i.transport.connect(t,n),yield i.features.resend()}catch{l=!0}l&&i._stopConnection(s)}else i._stopConnection(s)});return function(s){return r.apply(this,arguments)}}():r=>this._stopConnection(r),this.transport.connect(t,n)}_resolveTransportOrError(t,n,i,r){const s=M[t.transport];if(null==s)return this._logger.log(a.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(!function wt(o,t){return!o||!!(t&o)}(n,s))return this._logger.log(a.Debug,`Skipping transport '${M[s]}' because it was disabled by the client.`),new pe(`'${M[s]}' is disabled by the client.`,s);if(!(t.transferFormats.map(c=>z[c]).indexOf(i)>=0))return this._logger.log(a.Debug,`Skipping transport '${M[s]}' because it does not support the requested transfer format '${z[i]}'.`),new Error(`'${M[s]}' does not support ${z[i]}.`);if(s===M.WebSockets&&!this._options.WebSocket||s===M.ServerSentEvents&&!this._options.EventSource)return this._logger.log(a.Debug,`Skipping transport '${M[s]}' because it is not supported in your environment.'`),new ee(`'${M[s]}' is not supported in your environment.`,s);this._logger.log(a.Debug,`Selecting transport '${M[s]}'.`);try{return this.features.reconnect=s===M.WebSockets?r:void 0,this._constructTransport(s)}catch(c){return c}}_isITransport(t){return t&&"object"==typeof t&&"connect"in t}_stopConnection(t){if(this._logger.log(a.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(a.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),t?this._logger.log(a.Error,`Connection disconnected with error '${t}'.`):this._logger.log(a.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(a.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(a.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}else this._logger.log(a.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if(!x.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(a.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const i=new URLSearchParams(n.searchParams);return i.has("negotiateVersion")||i.append("negotiateVersion",this._negotiateVersion.toString()),i.has("useStatefulReconnect")?"true"===i.get("useStatefulReconnect")&&(this._options._useStatefulReconnect=!0):!0===this._options._useStatefulReconnect&&i.append("useStatefulReconnect","true"),n.search=i.toString(),n.toString()}}class we{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new he,this._transportResult=new he,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new he),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}_sendLoop(){var t=this;return(0,u.A)(function*(){for(;;){if(yield t._sendBufferedData.promise,!t._executing){t._transportResult&&t._transportResult.reject("Connection stopped.");break}t._sendBufferedData=new he;const n=t._transportResult;t._transportResult=void 0;const i="string"==typeof t._buffer[0]?t._buffer.join(""):we._concatBuffers(t._buffer);t._buffer.length=0;try{yield t._transport.send(i),n.resolve()}catch(r){n.reject(r)}}})()}static _concatBuffers(t){const n=t.map(s=>s.byteLength).reduce((s,l)=>s+l),i=new Uint8Array(n);let r=0;for(const s of t)i.set(new Uint8Array(s),r),r+=s.byteLength;return i.buffer}}class he{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}class R{static write(t){return`${t}${R.RecordSeparator}`}static parse(t){if(t[t.length-1]!==R.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(R.RecordSeparator);return n.pop(),n}}R.RecordSeparatorCode=30,R.RecordSeparator=String.fromCharCode(R.RecordSeparatorCode);class vt{writeHandshakeRequest(t){return R.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,i;if(F(t)){const c=new Uint8Array(t),d=c.indexOf(R.RecordSeparatorCode);if(-1===d)throw new Error("Message is incomplete.");const p=d+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(c.slice(0,p))),i=c.byteLength>p?c.slice(p).buffer:null}else{const c=t,d=c.indexOf(R.RecordSeparator);if(-1===d)throw new Error("Message is incomplete.");const p=d+1;n=c.substring(0,p),i=c.length>p?c.substring(p):null}const r=R.parse(n),s=JSON.parse(r[0]);if(s.type)throw new Error("Expected a handshake response from the server.");return[i,s]}}var h=function(o){return o[o.Invocation=1]="Invocation",o[o.StreamItem=2]="StreamItem",o[o.Completion=3]="Completion",o[o.StreamInvocation=4]="StreamInvocation",o[o.CancelInvocation=5]="CancelInvocation",o[o.Ping=6]="Ping",o[o.Close=7]="Close",o[o.Ack=8]="Ack",o[o.Sequence=9]="Sequence",o}(h||{});class Mt{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new lt(this,t)}}class Ot{constructor(t,n,i){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=i}_send(t){var n=this;return(0,u.A)(function*(){const i=n._protocol.writeMessage(t);let r=Promise.resolve();if(n._isInvocationMessage(t)){n._totalMessageCount++;let s=()=>{},l=()=>{};F(i)?n._bufferedByteCount+=i.byteLength:n._bufferedByteCount+=i.length,n._bufferedByteCount>=n._bufferSize&&(r=new Promise((c,d)=>{s=c,l=d})),n._messages.push(new kt(i,n._totalMessageCount,s,l))}try{n._reconnectInProgress||(yield n._connection.send(i))}catch{n._disconnected()}yield r})()}_ack(t){let n=-1;for(let i=0;i<this._messages.length;i++){const r=this._messages[i];if(r._id<=t.sequenceId)n=i,F(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else{if(!(this._bufferedByteCount<this._bufferSize))break;r._resolver()}}-1!==n&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type===h.Sequence&&(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){t.sequenceId>this._nextReceivingSequenceId?this._connection.stop(new Error("Sequence ID greater than amount of messages we've received.")):this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}_resend(){var t=this;return(0,u.A)(function*(){const n=0!==t._messages.length?t._messages[0]._id:t._totalMessageCount+1;yield t._connection.send(t._protocol.writeMessage({type:h.Sequence,sequenceId:n}));const i=t._messages;for(const r of i)yield t._connection.send(r._message);t._reconnectInProgress=!1})()}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case h.Invocation:case h.StreamItem:case h.Completion:case h.StreamInvocation:case h.CancelInvocation:return!0;case h.Close:case h.Sequence:case h.Ping:case h.Ack:return!1}}_ackTimer(){var t=this;void 0===this._ackTimerHandle&&(this._ackTimerHandle=setTimeout((0,u.A)(function*(){try{t._reconnectInProgress||(yield t._connection.send(t._protocol.writeMessage({type:h.Ack,sequenceId:t._latestReceivedSequenceId})))}catch{}clearTimeout(t._ackTimerHandle),t._ackTimerHandle=void 0}),1e3))}}class kt{constructor(t,n,i,r){this._message=t,this._id=n,this._resolver=i,this._rejector=r}}var P=function(o){return o.Disconnected="Disconnected",o.Connecting="Connecting",o.Connected="Connected",o.Disconnecting="Disconnecting",o.Reconnecting="Reconnecting",o}(P||{});class ve{static create(t,n,i,r,s,l,c){return new ve(t,n,i,r,s,l,c)}constructor(t,n,i,r,s,l,c){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(a.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},w.isRequired(t,"connection"),w.isRequired(n,"logger"),w.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=s??3e4,this.keepAliveIntervalInMilliseconds=l??15e3,this._statefulReconnectBufferSize=c??1e5,this._logger=n,this._protocol=i,this.connection=t,this._reconnectPolicy=r,this._handshakeProtocol=new vt,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=P.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:h.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==P.Disconnected&&this._connectionState!==P.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var t=this;return(0,u.A)(function*(){if(t._connectionState!==P.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));t._connectionState=P.Connecting,t._logger.log(a.Debug,"Starting HubConnection.");try{yield t._startInternal(),x.isBrowser&&window.document.addEventListener("freeze",t._freezeEventListener),t._connectionState=P.Connected,t._connectionStarted=!0,t._logger.log(a.Debug,"HubConnection connected successfully.")}catch(n){return t._connectionState=P.Disconnected,t._logger.log(a.Debug,`HubConnection failed to start successfully because of error '${n}'.`),Promise.reject(n)}})()}_startInternal(){var t=this;return(0,u.A)(function*(){t._stopDuringStartError=void 0,t._receivedHandshakeResponse=!1;const n=new Promise((i,r)=>{t._handshakeResolver=i,t._handshakeRejecter=r});yield t.connection.start(t._protocol.transferFormat);try{let i=t._protocol.version;t.connection.features.reconnect||(i=1);const r={protocol:t._protocol.name,version:i};if(t._logger.log(a.Debug,"Sending handshake request."),yield t._sendMessage(t._handshakeProtocol.writeHandshakeRequest(r)),t._logger.log(a.Information,`Using HubProtocol '${t._protocol.name}'.`),t._cleanupTimeout(),t._resetTimeoutPeriod(),t._resetKeepAliveInterval(),yield n,t._stopDuringStartError)throw t._stopDuringStartError;!!t.connection.features.reconnect&&(t._messageBuffer=new Ot(t._protocol,t.connection,t._statefulReconnectBufferSize),t.connection.features.disconnected=t._messageBuffer._disconnected.bind(t._messageBuffer),t.connection.features.resend=()=>{if(t._messageBuffer)return t._messageBuffer._resend()}),t.connection.features.inherentKeepAlive||(yield t._sendMessage(t._cachedPingMessage))}catch(i){throw t._logger.log(a.Debug,`Hub handshake failed with error '${i}' during start(). Stopping HubConnection.`),t._cleanupTimeout(),t._cleanupPingTimer(),yield t.connection.stop(i),i}})()}stop(){var t=this;return(0,u.A)(function*(){const n=t._startPromise;t.connection.features.reconnect=!1,t._stopPromise=t._stopInternal(),yield t._stopPromise;try{yield n}catch{}})()}_stopInternal(t){if(this._connectionState===P.Disconnected)return this._logger.log(a.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===P.Disconnecting)return this._logger.log(a.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=P.Disconnecting,this._logger.log(a.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(a.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===P.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new E("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}_sendCloseMessage(){var t=this;return(0,u.A)(function*(){try{yield t._sendWithProtocol(t._createCloseMessage())}catch{}})()}stream(t,...n){const[i,r]=this._replaceStreamingParams(n),s=this._createStreamInvocation(t,n,r);let l;const c=new Mt;return c.cancelCallback=()=>{const d=this._createCancelInvocation(s.invocationId);return delete this._callbacks[s.invocationId],l.then(()=>this._sendWithProtocol(d))},this._callbacks[s.invocationId]=(d,p)=>{p?c.error(p):d&&(d.type===h.Completion?d.error?c.error(new Error(d.error)):c.complete():c.next(d.item))},l=this._sendWithProtocol(s).catch(d=>{c.error(d),delete this._callbacks[s.invocationId]}),this._launchStreams(i,l),c}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[i,r]=this._replaceStreamingParams(n),s=this._sendWithProtocol(this._createInvocation(t,n,!0,r));return this._launchStreams(i,s),s}invoke(t,...n){const[i,r]=this._replaceStreamingParams(n),s=this._createInvocation(t,n,!1,r);return new Promise((c,d)=>{this._callbacks[s.invocationId]=(f,b)=>{b?d(b):f&&(f.type===h.Completion?f.error?d(new Error(f.error)):c(f.result):d(new Error(`Unexpected message type: ${f.type}`)))};const p=this._sendWithProtocol(s).catch(f=>{d(f),delete this._callbacks[s.invocationId]});this._launchStreams(i,p)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),-1===this._methods[t].indexOf(n)&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const i=this._methods[t];if(i)if(n){const r=i.indexOf(n);-1!==r&&(i.splice(r,1),0===i.length&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const i of n)if(!this._messageBuffer||this._messageBuffer._shouldProcessMessage(i))switch(i.type){case h.Invocation:this._invokeClientMethod(i).catch(r=>{this._logger.log(a.Error,`Invoke client method threw error: ${Pe(r)}`)});break;case h.StreamItem:case h.Completion:{const r=this._callbacks[i.invocationId];if(r){i.type===h.Completion&&delete this._callbacks[i.invocationId];try{r(i)}catch(s){this._logger.log(a.Error,`Stream callback threw error: ${Pe(s)}`)}}break}case h.Ping:break;case h.Close:{this._logger.log(a.Information,"Close message received from server.");const r=i.error?new Error("Server returned an error on close: "+i.error):void 0;!0===i.allowReconnect?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}case h.Ack:this._messageBuffer&&this._messageBuffer._ack(i);break;case h.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(i);break;default:this._logger.log(a.Warning,`Invalid message type: ${i.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,i;try{[i,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(r){const s="Error parsing handshake response: "+r;this._logger.log(a.Error,s);const l=new Error(s);throw this._handshakeRejecter(l),l}if(n.error){const r="Server returned handshake error: "+n.error;this._logger.log(a.Error,r);const s=new Error(r);throw this._handshakeRejecter(s),s}return this._logger.log(a.Debug,"Server handshake complete."),this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var t=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let n=this._nextKeepAlive-(new Date).getTime();n<0&&(n=0),this._pingServerHandle=setTimeout((0,u.A)(function*(){if(t._connectionState===P.Connected)try{yield t._sendMessage(t._cachedPingMessage)}catch{t._cleanupPingTimer()}}),n)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(t){var n=this;return(0,u.A)(function*(){const i=t.target.toLowerCase(),r=n._methods[i];if(!r)return n._logger.log(a.Warning,`No client method with the name '${i}' found.`),void(t.invocationId&&(n._logger.log(a.Warning,`No result given for '${i}' method and invocation ID '${t.invocationId}'.`),yield n._sendWithProtocol(n._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null))));const s=r.slice(),l=!!t.invocationId;let c,d,p;for(const f of s)try{const b=c;c=yield f.apply(n,t.arguments),l&&c&&b&&(n._logger.log(a.Error,`Multiple results provided for '${i}'. Sending error to server.`),p=n._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),d=void 0}catch(b){d=b,n._logger.log(a.Error,`A callback for the method '${i}' threw error '${b}'.`)}p?yield n._sendWithProtocol(p):l?(d?p=n._createCompletionMessage(t.invocationId,`${d}`,null):void 0!==c?p=n._createCompletionMessage(t.invocationId,null,c):(n._logger.log(a.Warning,`No result given for '${i}' method and invocation ID '${t.invocationId}'.`),p=n._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),yield n._sendWithProtocol(p)):c&&n._logger.log(a.Error,`Result given for '${i}' method but server is not expecting a result.`)})()}_connectionClosed(t){this._logger.log(a.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new E("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===P.Disconnecting?this._completeClose(t):this._connectionState===P.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===P.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=P.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),x.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(a.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}_reconnect(t){var n=this;return(0,u.A)(function*(){const i=Date.now();let r=0,s=void 0!==t?t:new Error("Attempting to reconnect due to a unknown error."),l=n._getNextRetryDelay(r++,0,s);if(null===l)return n._logger.log(a.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void n._completeClose(t);if(n._connectionState=P.Reconnecting,n._logger.log(a.Information,t?`Connection reconnecting because of error '${t}'.`:"Connection reconnecting."),0!==n._reconnectingCallbacks.length){try{n._reconnectingCallbacks.forEach(c=>c.apply(n,[t]))}catch(c){n._logger.log(a.Error,`An onreconnecting callback called with error '${t}' threw error '${c}'.`)}if(n._connectionState!==P.Reconnecting)return void n._logger.log(a.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==l;){if(n._logger.log(a.Information,`Reconnect attempt number ${r} will start in ${l} ms.`),yield new Promise(c=>{n._reconnectDelayHandle=setTimeout(c,l)}),n._reconnectDelayHandle=void 0,n._connectionState!==P.Reconnecting)return void n._logger.log(a.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield n._startInternal(),n._connectionState=P.Connected,n._logger.log(a.Information,"HubConnection reconnected successfully."),0!==n._reconnectedCallbacks.length)try{n._reconnectedCallbacks.forEach(c=>c.apply(n,[n.connection.connectionId]))}catch(c){n._logger.log(a.Error,`An onreconnected callback called with connectionId '${n.connection.connectionId}; threw error '${c}'.`)}return}catch(c){if(n._logger.log(a.Information,`Reconnect attempt failed because of error '${c}'.`),n._connectionState!==P.Reconnecting)return n._logger.log(a.Debug,`Connection moved to the '${n._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(n._connectionState===P.Disconnecting&&n._completeClose());s=c instanceof Error?c:new Error(c.toString()),l=n._getNextRetryDelay(r++,Date.now()-i,s)}}n._logger.log(a.Information,`Reconnect retries have been exhausted after ${Date.now()-i} ms and ${r} failed attempts. Connection disconnecting.`),n._completeClose()})()}_getNextRetryDelay(t,n,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:i})}catch(r){return this._logger.log(a.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${r}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(i=>{const r=n[i];try{r(null,t)}catch(s){this._logger.log(a.Error,`Stream 'error' callback called with '${t}' threw error: ${Pe(s)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,i,r){if(i)return 0!==r.length?{arguments:n,streamIds:r,target:t,type:h.Invocation}:{arguments:n,target:t,type:h.Invocation};{const s=this._invocationId;return this._invocationId++,0!==r.length?{arguments:n,invocationId:s.toString(),streamIds:r,target:t,type:h.Invocation}:{arguments:n,invocationId:s.toString(),target:t,type:h.Invocation}}}_launchStreams(t,n){if(0!==t.length){n||(n=Promise.resolve());for(const i in t)t[i].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:r=>{let s;s=r instanceof Error?r.message:r&&r.toString?r.toString():"Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,s)))},next:r=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,r)))}})}}_replaceStreamingParams(t){const n=[],i=[];for(let r=0;r<t.length;r++){const s=t[r];if(this._isObservable(s)){const l=this._invocationId;this._invocationId++,n[l]=s,i.push(l.toString()),t.splice(r,1)}}return[n,i]}_isObservable(t){return t&&t.subscribe&&"function"==typeof t.subscribe}_createStreamInvocation(t,n,i){const r=this._invocationId;return this._invocationId++,0!==i.length?{arguments:n,invocationId:r.toString(),streamIds:i,target:t,type:h.StreamInvocation}:{arguments:n,invocationId:r.toString(),target:t,type:h.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:h.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:h.StreamItem}}_createCompletionMessage(t,n,i){return n?{error:n,invocationId:t,type:h.Completion}:{invocationId:t,result:i,type:h.Completion}}_createCloseMessage(){return{type:h.Close}}}class Tt{constructor(){this.name="json",this.version=2,this.transferFormat=z.Text}parseMessages(t,n){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===n&&(n=te.instance);const i=R.parse(t),r=[];for(const s of i){const l=JSON.parse(s);if("number"!=typeof l.type)throw new Error("Invalid payload.");switch(l.type){case h.Invocation:this._isInvocationMessage(l);break;case h.StreamItem:this._isStreamItemMessage(l);break;case h.Completion:this._isCompletionMessage(l);break;case h.Ping:case h.Close:break;case h.Ack:this._isAckMessage(l);break;case h.Sequence:this._isSequenceMessage(l);break;default:n.log(a.Information,"Unknown message type '"+l.type+"' ignored.");continue}r.push(l)}return r}writeMessage(t){return R.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if("number"!=typeof t.sequenceId)throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if("number"!=typeof t.sequenceId)throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if("string"!=typeof t||""===t)throw new Error(n)}}const $t={trace:a.Trace,debug:a.Debug,info:a.Information,information:a.Information,warn:a.Warning,warning:a.Warning,error:a.Error,critical:a.Critical,none:a.None};class Rt{configureLogging(t){if(w.isRequired(t,"logging"),function Dt(o){return void 0!==o.log}(t))this.logger=t;else if("string"==typeof t){const n=function Et(o){const t=$t[o.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${o}`)}(t);this.logger=new ge(n)}else this.logger=new ge(t);return this}withUrl(t,n){return w.isRequired(t,"url"),w.isNotEmpty(t,"url"),this.url=t,this.httpConnectionOptions="object"==typeof n?{...this.httpConnectionOptions,...n}:{...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return w.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=t?Array.isArray(t)?new D(t):t:new D,this}withServerTimeout(t){return w.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return w.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return void 0===this.httpConnectionOptions&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t?.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new Pt(this.url,t);return ve.create(n,this.logger||te.instance,this.protocol||new Tt,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}let Xe=(()=>{class o{constructor(){this._isConnected$=new C.t(!1)}get isConnected$(){return this._isConnected$.asObservable()}connectHub(n){this._isConnected$.value||(this.hubConnection=(new Rt).withUrl(`${n}notification-hub`).build(),this.hubConnection.start().then(()=>{this._isConnected$.next(!0)}).catch(i=>{this._isConnected$.next(!1),console.error("Error while starting connection: "+i)}))}listenNotification(n,i){this.hubConnection.on(n,i)}disconnectHub(){this.hubConnection&&(this._isConnected$.next(!1),this.hubConnection.stop())}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),Lt=(()=>{class o{constructor(){this.httpClient=(0,e.WQX)(_.Qq),this.signalRService=(0,e.WQX)(Xe),this.status$=new C.t({isMaintaining:!1}),this.signalRService.isConnected$.subscribe(n=>{n&&this.signalRService.listenNotification(k.MaintenanceStatusUpdated,()=>{this.getStatus()})}),this.getStatus()}getStatus(){this.httpClient.post("api/maintenance/status",null).subscribe(n=>this.status$.next(n))}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var B=g(9747),ie=g(1635);Math.pow(10,8);const Ue=Symbol.for("constructDateFrom");function Ye(o,t){return"function"==typeof o?o(t):o&&"object"==typeof o&&Ue in o?o[Ue](t):o instanceof Date?new o.constructor(t):new Date(t)}var $=g(6354),oe=g(6697),Ve=g(140),Me=g(5964),Qe=g(5558),Oe=g(8141),ue=g(9437),me=g(983),V=g(1734),A=g(5256),ke=g(1495);function Ft(o,t){if(1&o){const n=e.RV6();e.j41(0,"img",9),e.bIt("load",function(){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onLoadBox())}),e.k0s()}}function Bt(o,t){if(1&o&&(e.j41(0,"div",10),e.EFF(1),e.k0s()),2&o){const n=e.XpG(2);e.R7$(),e.SpI(" ",n.prizeDisplayText," ")}}function Nt(o,t){1&o&&(e.j41(0,"div",11),e.nrm(1,"div",12),e.k0s())}function Xt(o,t){1&o&&(e.j41(0,"div",13)(1,"div",14),e.nrm(2,"div",15)(3,"div",16),e.k0s()())}function Ht(o,t){if(1&o){const n=e.RV6();e.DNE(0,Ft,1,0,"img",3),e.nrm(1,"img",4),e.j41(2,"img",5),e.bIt("load",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.onLoadCoin())}),e.k0s(),e.DNE(3,Bt,2,1,"div",6)(4,Nt,2,0,"div",7)(5,Xt,4,0,"div",8)}if(2&o){const n=e.XpG();e.Y8G("ngIf",!n.animationFinished),e.R7$(),e.Y8G("hidden",!n.animationFinished),e.R7$(),e.Mz_("src","assets/images/prize/",n.coinSrc,".webp",e.B4B),e.R7$(),e.Y8G("ngIf",n.animationFinished&&!n.isPhysicalPrize),e.R7$(),e.Y8G("ngIf",n.isGoldPrize),e.R7$(),e.Y8G("ngIf",n.isIphonePrize)}}function Ut(o,t){if(1&o&&(e.j41(0,"div",10),e.EFF(1),e.k0s()),2&o){const n=e.XpG(2);e.R7$(),e.SpI(" ",n.prizeDisplayText," ")}}function Yt(o,t){if(1&o){const n=e.RV6();e.j41(0,"img",17),e.bIt("load",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.onLoadBox())}),e.k0s(),e.DNE(1,Ut,2,1,"div",6)}if(2&o){const n=e.XpG();e.Mz_("src","assets/images/202509/",n.isNoPrize?"try-again.webp":"prize-popup.webp","",e.B4B),e.R7$(),e.Y8G("ngIf",n.showButton)}}function Vt(o,t){if(1&o){const n=e.RV6();e.j41(0,"div",18)(1,"button",19),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.closeModal())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&o){const n=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,1,n.buttonText),"! ")}}let qe=(()=>{class o{constructor(){this.isSupremeMode=!1,this.activeModal=(0,e.WQX)(V.Lw),this.coinSrc="Coins-Intro",this.animationFinished=!1,this.showButton=!1}onLoadCoin(){setTimeout(()=>{this.coinSrc="Coin-Loop"},900)}onLoadBox(){setTimeout(()=>{this.animationFinished=!0},3800),setTimeout(()=>{this.showButton=!0},400)}get isGoldPrize(){return this.prize?.wheelAmount===ke.Y.GoldPrizeAmount}get isIphonePrize(){return this.prize?.wheelAmount===ke.Y.iphonePrizeAmount}get isPhysicalPrize(){return this.prize.wheelAmount<0}get isNoPrize(){return 0===this.prize.wheelAmount}get prizeDisplayText(){return this.isPhysicalPrize?ke.Y.PrizeNames[this.prize.wheelAmount]:this.prize.name}get buttonText(){return this.isPhysicalPrize?"redeemPrize":"okay"}closeModal(){this.activeModal.dismiss(),this.isPhysicalPrize&&window.parent.postMessage("OpenLiveChat","*")}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-prize-modal"]],inputs:{prize:"prize",isSupremeMode:"isSupremeMode"},standalone:!1,decls:5,vars:2,consts:[[1,"prize-modal"],["src","assets/images/close-white.png","alt","close",1,"btn-close",3,"click"],["class","button",4,"ngIf"],["class","prize-box","src","assets/images/prize/GiftBox-Animated.webp","alt","GiftBox-Open",3,"load",4,"ngIf"],["src","assets/images/prize/GiftBox-Open.png",1,"prize-box","loaded",3,"hidden"],["alt","Coin-Loop",1,"coin-loop",3,"load","src"],["class","prize-name",4,"ngIf"],["class","gold-prize-wrapper",4,"ngIf"],["class","iphone-prize-wrapper",4,"ngIf"],["src","assets/images/prize/GiftBox-Animated.webp","alt","GiftBox-Open",1,"prize-box",3,"load"],[1,"prize-name"],[1,"gold-prize-wrapper"],[1,"gold-prize"],[1,"iphone-prize-wrapper"],[1,"iphone-prize-container"],[1,"iphone-prize"],[1,"iphone-prize-text"],["alt","GiftBox-Open",1,"prize-box","supreme-cash",3,"load","src"],[1,"button"],[1,"btn","btn-warning",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"img",1),e.bIt("click",function(){return r.activeModal.dismiss()}),e.k0s(),e.DNE(2,Ht,6,7)(3,Yt,2,3)(4,Vt,4,3,"div",2),e.k0s()),2&i&&(e.R7$(2),e.vxM(r.isSupremeMode?3:2),e.R7$(2),e.Y8G("ngIf",r.showButton))},dependencies:[m.bT,O.D9],styles:[".prize-modal[_ngcontent-%COMP%]{min-height:814px;margin:0!important;padding:32px;border-radius:16px;position:relative}@media screen and (max-width: 768px){.prize-modal[_ngcontent-%COMP%]{min-height:650px}}.prize-modal[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:200px;left:340px;width:16px;cursor:pointer;z-index:2}@media only screen and (max-width: 1200px){.prize-modal[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{left:20%}}@media only screen and (max-width: 768px){.prize-modal[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{left:30px;top:22%}}.prize-modal[_ngcontent-%COMP%]   .prize-box[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translate(-50%);width:1400px}.prize-modal[_ngcontent-%COMP%]   .prize-box.loaded[_ngcontent-%COMP%]{width:890px;top:125px}.prize-modal[_ngcontent-%COMP%]   .prize-box.supreme-cash[_ngcontent-%COMP%]{bottom:72px;height:690px;object-fit:contain}.prize-modal[_ngcontent-%COMP%]   .prize-name[_ngcontent-%COMP%]{position:absolute;top:53%;left:52%;transform:translate(-50%);font-size:68.81px;font-weight:700;line-height:108px;text-align:center;border-radius:12px;color:#fff;bottom:314px;background-size:cover;white-space:nowrap}.prize-modal[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{left:52%;transform:translate(-50%);position:absolute;bottom:208px}.prize-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:0 6px 10px #fff9 inset;box-shadow:0 0 30.26px #ffffff80;background:#fdbb2c;padding:8px 16px;border-radius:8px;font-family:Noto Sans;font-size:16px;font-weight:700;line-height:20px;text-align:center;color:#000;cursor:pointer;animation:pulse .5s infinite ease-in-out alternate;animation-iteration-count:infinite}.coin-loop[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;width:1465px;transform:translate(-50%)}.gold-prize-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:275px;left:48%;transform:translate(-50%)}@media screen and (max-width: 767px){.gold-prize-wrapper[_ngcontent-%COMP%]{bottom:280px}}.gold-prize[_ngcontent-%COMP%]{background-size:contain;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/gold-prize-icon.1bc8bec571ab77c6.png);width:310px;height:228px;animation-duration:1s;animation-timing-function:ease-in-out;animation-name:_ngcontent-%COMP%_zoomIn}@media screen and (max-width: 767px){.gold-prize[_ngcontent-%COMP%]{width:186px;height:137px}}.iphone-prize-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:320px;left:44%;transform:translate(-50%)}@media screen and (max-width: 767px){.iphone-prize-wrapper[_ngcontent-%COMP%]{bottom:278px;transform:translate(-50%) scale(.6)}}.iphone-prize-container[_ngcontent-%COMP%]{animation-duration:1s;animation-timing-function:ease-in-out;animation-name:_ngcontent-%COMP%_zoomIn}.iphone-prize-container[_ngcontent-%COMP%]   .iphone-prize[_ngcontent-%COMP%]{background-size:contain;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/iphone16-icon.e89e02783a36423a.png);width:111px;height:189px}.iphone-prize-container[_ngcontent-%COMP%]   .iphone-prize-text[_ngcontent-%COMP%]{background-size:contain;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/iphone16-text.6bb0e28fc6b9e3ca.png);position:absolute;right:-174px;bottom:-14px;width:230px;height:181px}@keyframes _ngcontent-%COMP%_zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1;transform:scale3d(1.03,1.03,1.03)}to{transform:scaleZ(1)}}@media only screen and (max-width: 768px){.coin-loop[_ngcontent-%COMP%]{bottom:100px;left:50%;width:800px}.prize-modal[_ngcontent-%COMP%]   .prize-box[_ngcontent-%COMP%]{width:790px;bottom:132px}.prize-modal[_ngcontent-%COMP%]   .prize-box.loaded[_ngcontent-%COMP%]{top:inherit;bottom:188px;width:500px}.prize-modal[_ngcontent-%COMP%]   .prize-name[_ngcontent-%COMP%]{font-size:38px;top:36%}}@media only screen and (max-width: 768px) and (max-width: 480px){.prize-modal[_ngcontent-%COMP%]   .prize-name[_ngcontent-%COMP%]{font-size:8vw;top:35%}}@media only screen and (max-width: 768px) and (max-width: 380px){.prize-modal[_ngcontent-%COMP%]   .prize-name[_ngcontent-%COMP%]{top:33.6%}}@media only screen and (max-width: 768px){.prize-modal[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{bottom:34%}}@media only screen and (max-width: 576px){.prize-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{left:38%}}"]})}}return o})(),fe=(()=>{class o{static{this.oopsPrizeOrder=2}static{this.tapWinGoldPrizeOrder=4}}return o})();function Qt(o,t){1&o&&(e.j41(0,"div",10),e.nrm(1,"img",11),e.k0s())}function qt(o,t){1&o&&(e.j41(0,"div",12),e.nrm(1,"img",13),e.k0s())}function Jt(o,t){if(1&o&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",n.prize.name," ")}}function Kt(o,t){if(1&o){const n=e.RV6();e.j41(0,"div",15),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.activeModal.dismiss())}),e.k0s()}}let Zt=(()=>{class o{constructor(){this.activeModal=(0,e.WQX)(V.Lw),this.lang$=(0,e.WQX)(B.a).lang$.pipe((0,$.T)(n=>n.toLowerCase())),this.prizeAmountShown=!1,this.showGlow=!1}ngOnInit(){this.isGoodLuck=this.prize.order===fe.oopsPrizeOrder,setTimeout(()=>{this.prizeAmountShown=!0,this.showGlow=!0},300)}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-tap-win-prize-modal"]],inputs:{prize:"prize"},standalone:!1,decls:11,vars:11,consts:[[1,"prize-modal"],["src","assets/images/close-white.png","alt","close",1,"btn-close",3,"click"],[1,"title-banner",3,"src"],["src","assets/images/tap-win/prize-modal/Bag-min.webp",1,"prize-bag"],["class","glow-container",4,"ngIf"],["class","coin-loop-container",4,"ngIf"],[1,"prize-name-container"],["class","prize-name",4,"ngIf"],[1,"ok-button-container"],["class","ok-button",3,"click",4,"ngIf"],[1,"glow-container"],["src","assets/images/tap-win/prize-modal/Glow-min.webp",1,"glow"],[1,"coin-loop-container"],["src","assets/images/tap-win/prize-modal/floating coins-min.webp","alt","Coin-Loop",1,"coin-loop"],[1,"prize-name"],[1,"ok-button",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"img",1),e.bIt("click",function(){return r.activeModal.dismiss()}),e.k0s(),e.nrm(2,"img",2),e.nI1(3,"async"),e.nrm(4,"img",3),e.DNE(5,Qt,2,0,"div",4)(6,qt,2,0,"div",5),e.j41(7,"div",6),e.DNE(8,Jt,2,1,"div",7),e.k0s(),e.j41(9,"div",8),e.DNE(10,Kt,1,0,"div",9),e.k0s()()),2&i&&(e.R7$(2),e.FCK("src","assets/images/tap-win/prize-modal/",r.isGoodLuck?"Good-luck":"Congratulations","-",e.bMT(3,9,r.lang$),".webp",e.B4B),e.R7$(2),e.AVh("good-luck",r.isGoodLuck),e.R7$(),e.Y8G("ngIf",r.showGlow&&!r.isGoodLuck),e.R7$(),e.Y8G("ngIf",!r.isGoodLuck),e.R7$(2),e.Y8G("ngIf",r.prizeAmountShown&&!r.isGoodLuck),e.R7$(2),e.Y8G("ngIf",r.prizeAmountShown))},dependencies:[m.bT,m.Jj],styles:[".prize-modal[_ngcontent-%COMP%]{margin:0!important;padding:32px;border-radius:16px;position:relative;display:flex;justify-content:center}.prize-modal[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:73px;right:256px;width:16px;cursor:pointer;z-index:2}@media only screen and (max-width: 1200px){.prize-modal[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{right:20%}}@media only screen and (max-width: 768px){.prize-modal[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{right:0;top:25vw}}@keyframes _ngcontent-%COMP%_zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1;transform:scale3d(1.03,1.03,1.03)}to{transform:scaleZ(1)}}.prize-modal[_ngcontent-%COMP%]   .title-banner[_ngcontent-%COMP%]{position:absolute;top:88px;animation-duration:.3s;animation-timing-function:ease-in-out;animation-name:_ngcontent-%COMP%_zoomIn}@media screen and (max-width: 768px){.prize-modal[_ngcontent-%COMP%]   .title-banner[_ngcontent-%COMP%]{width:100%;top:24vw}}.prize-modal[_ngcontent-%COMP%]   .prize-bag[_ngcontent-%COMP%]{z-index:1;animation-duration:.3s;animation-timing-function:ease-in-out;animation-name:_ngcontent-%COMP%_zoomIn;margin-top:198px}.prize-modal[_ngcontent-%COMP%]   .prize-bag.good-luck[_ngcontent-%COMP%]{filter:grayscale(1)}@media screen and (max-width: 768px){.prize-modal[_ngcontent-%COMP%]   .prize-bag[_ngcontent-%COMP%]{width:100%;margin-top:36vw}}.prize-modal[_ngcontent-%COMP%]   .glow-container[_ngcontent-%COMP%]{position:absolute;top:65px;z-index:2;animation:spin 2s linear infinite}@media screen and (max-width: 768px){.prize-modal[_ngcontent-%COMP%]   .glow-container[_ngcontent-%COMP%]{top:0}.prize-modal[_ngcontent-%COMP%]   .glow-container[_ngcontent-%COMP%]   .glow[_ngcontent-%COMP%]{width:76vw}}.prize-modal[_ngcontent-%COMP%]   .glow[_ngcontent-%COMP%]{animation-duration:3s;animation-timing-function:ease-in-out;animation-fill-mode:forwards;animation-name:_ngcontent-%COMP%_glowOut}@keyframes _ngcontent-%COMP%_glowOut{0%{opacity:1;transform:scale3d(.3,.3,.3)}20%{transform:scaleZ(1)}to{opacity:0;transform:scale3d(0,0,0)}}.prize-modal[_ngcontent-%COMP%]   .prize-name-container[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-41%);bottom:120px;z-index:2}.prize-modal[_ngcontent-%COMP%]   .prize-name[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(3.29933px);backdrop-filter:blur(3.29933px);background:linear-gradient(-90deg,#fdbb2c48,#fdbb2c);font-size:68.81px;font-weight:700;line-height:97px;text-align:center;border-radius:12px;color:#fff;padding:0 22px;background-size:cover;width:400px;animation-duration:.3s;animation-timing-function:ease-in-out;animation-name:_ngcontent-%COMP%_zoomIn}.prize-modal[_ngcontent-%COMP%]   .ok-button-container[_ngcontent-%COMP%]{left:50%;transform:translate(-33%);bottom:42px;position:absolute;z-index:2}@media screen and (max-width: 768px){.prize-modal[_ngcontent-%COMP%]   .ok-button-container[_ngcontent-%COMP%]{transform:translate(-50%)}}.prize-modal[_ngcontent-%COMP%]   .ok-button[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/Button-min.54263cb82479b191.webp);border:0;font-family:Noto Sans;font-size:16px;font-weight:700;line-height:20px;text-align:center;color:#000;width:150px;height:90px;cursor:pointer;animation-duration:.4s;animation-timing-function:ease-in-out;animation-name:_ngcontent-%COMP%_zoomIn}.coin-loop-container[_ngcontent-%COMP%]{position:absolute;top:259px;left:50%;transform:translate(-50%) rotate(-10deg)}@media screen and (max-width: 768px){.coin-loop-container[_ngcontent-%COMP%]{top:50vw}}.coin-loop[_ngcontent-%COMP%]{width:740px;animation-duration:.4s;animation-delay:50ms;animation-timing-function:ease-in-out;animation-name:_ngcontent-%COMP%_zoomIn}@media only screen and (max-width: 768px){.coin-loop[_ngcontent-%COMP%]{width:100vw}.prize-modal[_ngcontent-%COMP%]   .prize-name[_ngcontent-%COMP%]{width:48vw;line-height:14vw;font-size:7vw}.prize-modal[_ngcontent-%COMP%]   .ok-button[_ngcontent-%COMP%]{font-size:12px;line-height:12px;width:130px}.prize-bag[_ngcontent-%COMP%]{width:100vw}}"]})}}return o})();var W=g(439);let re=(()=>{class o{constructor(){this.httpClient=(0,e.WQX)(_.Qq)}getCashPrizeWinnerList(n){return this.httpClient.get("api/player/cash-prize-winner",{params:{...n}})}getPlayerDepositInfo(n){return this.httpClient.get("api/player/player-deposit-info",{params:{country:n}})}getSupremeGame(n){return this.httpClient.get("api/player/supreme-game",{params:{country:n}})}claimTokenFromPoints(n){return this.httpClient.post("api/player/claim-token-from-points",{tokenLevel:n})}claimPrize(n=void 0){return this.httpClient.post("api/player/claim-prize",{level:n})}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Je=g(9769);let ye=(()=>{class o{constructor(n,i){this.el=n,this.imageLoadingService=i,i.imageLoading(n.nativeElement)}ngOnDestroy(){this.imageLoadingService.imageLoadedOrError(this.el.nativeElement)}onLoad(){this.imageLoadingService.imageLoadedOrError(this.el.nativeElement)}onError(){this.imageLoadingService.imageLoadedOrError(this.el.nativeElement)}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(e.aKT),e.rXU(Je.d))}}static{this.\u0275dir=e.FsC({type:o,selectors:[["","appImgLoading",""]],hostBindings:function(i,r){1&i&&e.bIt("load",function(){return r.onLoad()})("error",function(){return r.onError()})},standalone:!1})}}return o})();var _e=g(7673);let en=(()=>{class o{transform(n){switch(n){case"GoldBar":return(0,_e.of)("10g Gold Bar 999.9");case"IPhone":return(0,_e.of)("iPhone 16 Pro Max");default:return(0,_e.of)(n)}}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275pipe=e.EJ8({name:"prizeType",type:o,pure:!0,standalone:!1})}}return o})();const tn=o=>({$implicit:o});function nn(o,t){1&o&&e.eu8(0)}function on(o,t){if(1&o&&(e.j41(0,"div",8),e.DNE(1,nn,1,0,"ng-container",9),e.k0s()),2&o){const n=t.$implicit;e.XpG();const i=e.sdS(11);e.R7$(),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,tn,n))}}function rn(o,t){if(1&o&&(e.j41(0,"div",12),e.nrm(1,"div",13),e.j41(2,"span",14),e.EFF(3),e.k0s(),e.j41(4,"div",15)(5,"span",16),e.EFF(6),e.nI1(7,"async"),e.nI1(8,"number"),e.nI1(9,"prizeType"),e.nI1(10,"async"),e.k0s(),e.j41(11,"span",17),e.EFF(12),e.nI1(13,"date"),e.k0s()()()),2&o){const n=t.$implicit,i=e.XpG(2);e.R7$(3),e.JRh(n.accountCode),e.R7$(3),e.SpI(" ",i.isNaN(n.prize)?n.prize:+n.prize>0?e.bMT(7,3,i.currency$)+" "+e.i5U(8,5,n.prize,"1.2-2"):e.bMT(10,10,e.bMT(9,8,n.prizeType))," "),e.R7$(6),e.JRh(e.i5U(13,12,n.claimedTime,"dd/MM/yyyy"))}}function sn(o,t){if(1&o&&(e.j41(0,"div",10),e.DNE(1,rn,14,15,"div",11),e.k0s()),2&o){const n=t.$implicit;e.R7$(),e.Y8G("ngForOf",n)}}let N=class Ee{constructor(){this.utilService=(0,e.WQX)(B.a),this.playerService=(0,e.WQX)(re),this.currency$=this.utilService.currency$,this.slideConfig={slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0},this.winnersList=[],this.chunkWinnerList=[],this.chunkSize=5,this.query={pageIndex:1,pageSize:20},this.isNaN=isNaN}ngOnInit(){this.utilService.country$.pipe((0,Me.p)(t=>!!t),(0,A.s)(this)).subscribe(t=>{this.query.country=t.toUpperCase(),this.loadData()})}trackByFn(t,n){return t}refresh(){this.query.pageIndex=1,this.loadData()}loadData(){this.playerService.getCashPrizeWinnerList(this.query).pipe((0,Oe.M)(t=>{this.winnersList=t.items,this.chunkWinnerList=[];for(let n=0;n<this.winnersList.length;n+=this.chunkSize)this.chunkWinnerList.push(this.winnersList.slice(n,n+this.chunkSize))}),(0,ue.W)(t=>(t.error?.detail&&alert(t.error.detail),me.w))).subscribe()}static{this.\u0275fac=function(n){return new(n||Ee)}}static{this.\u0275cmp=e.VBU({type:Ee,selectors:[["app-winner-list"]],standalone:!1,decls:12,vars:6,consts:[["slickModal","slick-carousel"],["dataList",""],[1,"glow"],["src","assets/images/cup.webp","alt","cup","appImgLoading","",1,"cup-icon"],[1,"title"],[1,"prime-crown"],[1,"carousel",3,"config"],["ngxSlickItem","","class","slide",4,"ngFor","ngForOf","ngForTrackBy"],["ngxSlickItem","",1,"slide"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"winner-list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"user-icon"],[1,"user"],[1,"right"],[1,"prize"],[1,"date"]],template:function(n,i){1&n&&(e.nrm(0,"div",2)(1,"img",3),e.j41(2,"div",4),e.nrm(3,"div",5),e.j41(4,"span"),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"ngx-slick-carousel",6,0),e.DNE(9,on,2,4,"div",7),e.k0s(),e.DNE(10,sn,2,1,"ng-template",null,1,e.C5r)),2&n&&(e.R7$(5),e.JRh(e.bMT(6,4,"winnerList")),e.R7$(2),e.Y8G("config",i.slideConfig),e.R7$(2),e.Y8G("ngForOf",i.chunkWinnerList)("ngForTrackBy",i.trackByFn))},dependencies:[m.Sq,m.T3,K,ae,ye,m.Jj,m.QX,m.vh,O.D9,en],styles:[".cup-icon[_ngcontent-%COMP%]{position:absolute;width:123px;top:-19px;right:9px;z-index:2}.glow[_ngcontent-%COMP%]{width:200px;height:200px;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/Purple-Blur.d33bb6713259ec8f.png);background-size:cover;background-repeat:no-repeat;position:absolute;top:-55px;right:-35px;border-radius:50%}.title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:9px;margin-bottom:62px}.title[_ngcontent-%COMP%]   .prime-crown[_ngcontent-%COMP%]{width:38px;height:38px;background-size:contain;background-repeat:no-repeat;background-position:center;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/prime_crown.1dec950a987cc571.svg)}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;font-weight:700;line-height:39px;background:linear-gradient(90deg,#fca20d,#ffcd0c);-webkit-background-clip:text;-webkit-text-fill-color:transparent}@media only screen and (max-width: 1361px){.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}}@media only screen and (max-width: 576px){.cup-icon[_ngcontent-%COMP%]{width:96px;top:7px;right:7px}.glow[_ngcontent-%COMP%]{width:130px;height:130px;top:-21px;right:-15px}.title[_ngcontent-%COMP%]{margin-bottom:50px}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px;line-height:28px}}.winner-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:8px 0}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{width:32px;height:32px;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/user.07281e6a253d619e.svg)}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{flex:1;font-family:Noto Sans;font-size:16px;font-weight:700;line-height:24px;color:#fff}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]{font-family:Noto Sans;font-size:16px;font-weight:700;line-height:24px;text-align:right;background:linear-gradient(89.95deg,#fca20d 50%,#ffcd0c 99.96%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-family:Noto Sans;font-size:12px;font-weight:400;line-height:16px;text-align:right;background:#fff;-webkit-background-clip:text;-webkit-text-fill-color:transparent}@media only screen and (max-width: 576px){.winner-list[_ngcontent-%COMP%], .winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{gap:14px}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.winner-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:10px;line-height:14px}}"]})}};N=(0,ie.Cg)([(0,A.d)()],N);var an=g(3726),cn=g(9172),ln=g(3294),dn=g(253);const pn=new Map([["xl","(min-width: 1200px)"],["lg","(min-width: 992px)"],["md","(min-width: 768px)"],["sm","(min-width: 576px)"],["xs","(min-width: 0px)"]]);let Se=(()=>{class o{constructor(n){this.platformId=n,this.size$=this.isPlatformBrowser?(0,an.R)(window,"resize").pipe((0,cn.Z)(this.getScreenSize()),(0,$.T)(()=>this.getScreenSize()),(0,ln.F)(),(0,dn.t)(1)):(0,_e.of)("md")}get breakpoint$(){return this.size$}get isMobile$(){return this.breakpoint$.pipe((0,$.T)(n=>"xs"===n||"sm"===n))}get isXSmall$(){return this.breakpoint$.pipe((0,$.T)(n=>"xs"===n))}get isDesktop$(){return this.breakpoint$.pipe((0,$.T)(n=>"md"===n||"lg"===n||"xl"===n))}get isXLarge$(){return this.breakpoint$.pipe((0,$.T)(n=>"xl"===n))}get isLarge$(){return this.breakpoint$.pipe((0,$.T)(n=>"lg"===n||"xl"===n))}getScreenSize(){const[[n]]=Array.from(pn.entries()).filter(([i,r])=>this.isPlatformBrowser?window.matchMedia(r).matches:"sm"===i);return n}get isPlatformBrowser(){return(0,J.UE)(this.platformId)}static{this.\u0275fac=function(i){return new(i||o)(e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const gn=o=>({"ticket-content":!0,completed:o}),hn=o=>({ticket:!0,completed:o}),un=o=>({description:!0,completed:o}),mn=o=>({depositValue:o}),fn=o=>({"btn btn-warning":!0,completed:o}),_n=o=>({icon:!0,completed:o});let bn=(()=>{class o{constructor(){this.swapping=!1,this.deposit=new e.bkB}onDeposit(){!this.data.completed&&!this.swapping&&this.deposit.emit()}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-ticket"]],inputs:{data:"data",swapping:"swapping"},outputs:{deposit:"deposit"},standalone:!1,decls:24,vars:34,consts:[[1,"ticket-container"],[3,"ngClass"],[1,"text"],["src","assets/images/ticket.svg","alt","ticket",1,"wheel"],[1,"btn-container"],[3,"click","ngClass","disabled"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",1),e.nrm(7,"img",3),e.j41(8,"span"),e.EFF(9,"1"),e.k0s()(),e.j41(10,"p",1)(11,"span"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.EFF(14),e.nI1(15,"translate"),e.nrm(16,"br"),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"div",4)(20,"button",5),e.bIt("click",function(){return r.onDeposit()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.nrm(23,"div",1),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngClass",e.eq3(22,gn,r.data.completed)),e.R7$(3),e.JRh(e.bMT(5,11,"ticket")),e.R7$(2),e.Y8G("ngClass",e.eq3(24,hn,r.data.completed)),e.R7$(4),e.Y8G("ngClass",e.eq3(26,un,r.data.completed)),e.R7$(2),e.SpI("",e.bMT(13,13,r.data.label)," "),e.R7$(2),e.JRh(e.bMT(15,15,"deposit")),e.R7$(3),e.SpI(" ",e.i5U(18,17,"depositMin",e.eq3(28,mn,r.data.depositValue))," "),e.R7$(3),e.Y8G("ngClass",e.eq3(30,fn,r.data.completed))("disabled",r.swapping),e.R7$(),e.SpI(" ",e.bMT(22,20,"deposit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(32,_n,r.data.completed)))},dependencies:[m.YU,O.D9],styles:['.ticket-container[_ngcontent-%COMP%]{padding-top:54px;width:fit-content;position:relative;transition:all .3s}.ticket-container[_ngcontent-%COMP%]:hover{transform:translateY(-20px)}.ticket-container[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{position:relative;z-index:20}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]{width:284.5px;min-height:295px;padding-top:66px;border-radius:12px;box-shadow:10.13px 4.68px 35.15px #00000054;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/bg-ticket.b748d4cf574720bd.webp);background-size:cover;display:flex;flex-direction:column;gap:32px;align-items:center;transition:all .3s;position:relative}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,#fff 1.95%,#fff0 92.26%);position:absolute;content:"";inset:0;border-radius:12px;padding:1px;-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude}.ticket-container[_ngcontent-%COMP%]   .ticket-content.completed[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/bg-completed-ticket.ce030e14572f3bc9.png)}@media only screen and (max-width: 1200px){.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]{width:236px;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/bg-small-ticket.12b33ee77b464490.webp)}.ticket-container[_ngcontent-%COMP%]   .ticket-content.completed[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/bg-small-completed-ticket.ee326ceb6d8955bc.png)}}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:156px;display:flex;flex-direction:column;gap:6px;align-items:center}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:25px;font-weight:700;line-height:30px;color:#f4f5f6}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]{background-color:#8434df99;padding:4px 16px 4px 7px;border-radius:6px;width:75px;height:32px;display:flex;align-items:center;justify-content:space-around}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .ticket.completed[_ngcontent-%COMP%]{background-color:#59595999}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:17px}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18.71px;font-weight:400;line-height:22.79px;color:#f4f5f6}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-family:Poppins;font-size:14px;font-weight:500;line-height:21px;text-align:center;color:#ffffffbf;margin:0;transition:all .3s}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fca20d}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .description.completed[_ngcontent-%COMP%]{color:#fff6}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .description.completed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Noto Sans;font-size:16px;font-weight:700;line-height:22px;padding:6px 10px;border-radius:5px;transition:all .3s;box-shadow:0 0 30.26px #ffffff40}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   button.completed[_ngcontent-%COMP%]{background:#6c6c6c;box-shadow:0 0 30.26px #ffffff40;color:#383838;border:none}@media only screen and (max-width: 576px){.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]{gap:26px;min-height:244px;padding-bottom:32px;width:220px}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{max-width:134px}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;line-height:25px}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]{width:62px}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:19px}.ticket-container[_ngcontent-%COMP%]   .ticket-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:12px;line-height:18px}}.ticket-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:105px;height:105px;border-radius:50%;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/xiao-san.fc52a85b5e66a8e5.webp);background-size:cover;box-shadow:0 3.12px 26.5px #000000a3;position:absolute;top:0;left:50%;transform:translate(-50%);transition:all .3s}.ticket-container[_ngcontent-%COMP%]   .icon.completed[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/xiao-san-completed.a3f669a41b3aa5c3.png)}@media only screen and (max-width: 576px){.ticket-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:87px;height:87px}}']})}}return o})();var X=g(969),y=g(6864);let Ke=(()=>{class o{constructor(){this.soundEnabled=!1,this.showTriggerLayer=!1,this.spinSound=new Audio("assets/sounds/spinning sound.mp3"),this.tapSound=new Audio("assets/sounds/spinning_tap_sound.mp3"),this.winnerSound=new Audio("assets/sounds/winning sound 2.mp3"),this.initSound()}initSound(){this.soundEnabled=!0,this.spinSound.preload="auto",this.tapSound.preload="auto",this.winnerSound.preload="auto"}touchTriggerLayer(){this.winnerSound.load(),this.soundEnabled=!0,this.showTriggerLayer=!1}playSound(n){this.soundEnabled&&(!n.paused&&n.currentTime>0&&(n.currentTime=0),n.play().catch(i=>{console.error(i)}))}stopSound(n){n.pause()}stopAllSound(){this.stopSound(this.spinSound),this.stopSound(this.tapSound),this.stopSound(this.winnerSound)}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Ze=g(4018);let Cn=(()=>{class o{constructor(){this.activeModal=(0,e.WQX)(V.Lw),this.closed=new e.bkB}register(){window.parent.postMessage("GoToResgisterPage","*"),this.close()}login(){window.parent.postMessage("GoToLoginPage","*"),this.close()}close(){this.activeModal.close(!1)}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-login-modal"]],outputs:{closed:"closed"},standalone:!1,decls:16,vars:12,consts:[["role","document",1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content","bg-dark-blue"],[1,"modal-header","border-0"],["src","assets/images/close-white.png","alt","close",1,"btn-close",3,"click"],[1,"modal-body","text-center","fw-bold"],["id","pleaseLoginFirstModalLabel",1,"modal-title","text-warning",3,"innerHTML"],[1,"text","mb-3","mt-4",3,"innerHTML"],[1,"action"],["type","button","tabindex","-1",1,"btn","btn-light","w-100",3,"click"],["type","button","tabindex","-1",1,"btn","btn-warning","text-dark","fw-semibold","w-100",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),e.bIt("click",function(){return r.close()}),e.k0s()(),e.j41(4,"div",4),e.nrm(5,"div",5),e.nI1(6,"translate"),e.nrm(7,"div",6),e.nI1(8,"translate"),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return r.register()}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",9),e.bIt("click",function(){return r.login()}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("innerHTML",e.bMT(6,4,"pleaseLoginFirst"),e.npT),e.R7$(2),e.Y8G("innerHTML",e.bMT(8,6,"ifNoAccPleaseRegister"),e.npT),e.R7$(4),e.JRh(e.bMT(12,8,"register")),e.R7$(3),e.JRh(e.bMT(15,10,"login")))},dependencies:[O.D9],styles:[".bg-dark-blue[_ngcontent-%COMP%]{background-color:#19264b!important}.modal[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 10px 25px #0006;padding:35px}.modal-title[_ngcontent-%COMP%]{font-weight:600;font-size:30px;line-height:1.4;margin-bottom:20px;width:100%;text-align:center}.btn-close[_ngcontent-%COMP%]{opacity:1;width:1.5rem;height:1.5rem;background-size:1.25rem;cursor:pointer}.modal-header[_ngcontent-%COMP%]{padding:0;justify-content:end}.modal-body[_ngcontent-%COMP%]{padding:0}.text[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:1.2;text-align:center;color:#fff}.action[_ngcontent-%COMP%]{margin-top:40px;display:flex;place-content:center;place-items:center;gap:10px}.btn[_ngcontent-%COMP%]{font-weight:700;font-size:22px;text-align:center;height:60px;border-radius:10px}.btn-outline-light[_ngcontent-%COMP%]{min-width:100px;font-weight:500}.btn-warning[_ngcontent-%COMP%]{min-width:100px;font-weight:600;color:#000!important}"]})}}return o})();const xn=["contentPrize"],Pn=(o,t)=>({disabled:o,active:t}),wn=o=>({transform:o}),vn=o=>({item:!0,selected:o});function Mn(o,t){if(1&o&&e.nrm(0,"img",9)(1,"img",10),2&o){const n=e.XpG();e.FCK("src","assets/images/202509/",n.currentLevelLabel(),"/SupremeWheel ",n.currentLevelSuffix(),".png",e.B4B)}}function On(o,t){1&o&&(e.nrm(0,"img",11)(1,"img",12),e.j41(2,"div",13)(3,"video",14),e.nrm(4,"source",15),e.EFF(5," Your browser does not support the video tag. "),e.k0s()(),e.nrm(6,"img",16))}function kn(o,t){if(1&o&&(e.j41(0,"div",17)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"uppercase"),e.k0s()()),2&o){const n=e.XpG();e.muq("background-image: url('assets/images/202509/btn-spin ",n.currentLevelSuffix(),".png')"),e.AVh("can-spin",!n.insufficientTicketsShown),e.R7$(2),e.JRh(e.bMT(4,8,e.bMT(3,6,"spinNow")))}}function yn(o,t){1&o&&e.nrm(0,"img",20)}function Sn(o,t){1&o&&e.nrm(0,"img",21)}function In(o,t){1&o&&e.nrm(0,"img",22)}function zn(o,t){1&o&&e.nrm(0,"img",23)}function Tn(o,t){1&o&&e.nrm(0,"img",24)}function $n(o,t){1&o&&e.nrm(0,"img",25)}function En(o,t){if(1&o&&(e.qex(0),e.nrm(1,"img",27),e.nI1(2,"async"),e.bVm()),2&o){const n=e.XpG(3);e.R7$(),e.Mz_("src","assets/images/202509-prize/free bonus-",e.bMT(2,2,n.lang$),".png",e.B4B)}}function Rn(o,t){1&o&&e.nrm(0,"img",28)}function Dn(o,t){if(1&o&&(e.EFF(0),e.DNE(1,En,3,4,"ng-container",26)(2,Rn,1,0,"ng-template",null,1,e.C5r)),2&o){const n=e.sdS(3),i=e.XpG().$implicit,r=e.XpG();e.SpI(" ",i.name," "),e.R7$(),e.Y8G("ngIf",i.wheelAmount===r.getLargestPrizeAmountFor(r.currentLevel()))("ngIfElse",n)}}function Ln(o,t){if(1&o&&(e.j41(0,"div",18)(1,"div",19),e.nI1(2,"async"),e.DNE(3,yn,1,0,"img",20)(4,Sn,1,0,"img",21)(5,In,1,0,"img",22)(6,zn,1,0,"img",23)(7,Tn,1,0,"img",24)(8,$n,1,0,"img",25)(9,Dn,4,3),e.k0s()()),2&o){const n=t.$implicit,i=t.index,r=e.XpG();e.Y8G("ngStyle",e.eq3(7,wn,"translateY(-50%) rotateZ(calc(("+i+")* calc(360 / "+r.prizes.length+")* 1deg))")),e.R7$(),e.AVh("supreme",e.bMT(2,5,r.isSupremeMode$)),e.Y8G("ngClass",e.eq3(9,vn,r.winPrizeIndex===i&&!r.isSpinning)),e.R7$(2),e.vxM(n.wheelAmount===r.brWatchPrizeAmount?3:n.wheelAmount===r.tudorWatchPrizeAmount?4:n.wheelAmount===r.nintendoPrizeAmount?5:n.wheelAmount===r.samsungFold7PrizeAmount?6:n.wheelAmount===r.ps5PrizeAmount?7:n.wheelAmount===r.dysonHairDryerPrizeAmount?8:9)}}function jn(o,t){1&o&&(e.j41(0,"div",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"insufficientTickets")," "))}let Q=class Re{constructor(){this.prizePoolService=(0,e.WQX)(Ze._),this.playerService=(0,e.WQX)(re),this.utilService=(0,e.WQX)(B.a),this.gameSoundService=(0,e.WQX)(Ke),this.cdr=(0,e.WQX)(e.gRc),this.renderer=(0,e.WQX)(e.sFG),this.prizeCache=new Map,this.modalService=(0,e.WQX)(V.Bq),this.prizes=[],this.disabled=e.hFB.required(),this.currentLevel=(0,e.hFB)(y.q.Bronze),this.onGetPrize=new e.bkB,this.isSpinning=!1,this.isPressing=!1,this.timeRotate=7200,this.currentRotate=0,this.winPrizeIndex=-1,this.goldPrizeAmount=W.Y.GoldPrizeAmount,this.iphonePrizeAmount=W.Y.iphonePrizeAmount,this.brWatchPrizeAmount=W.Y.BRWatchPrizeAmount,this.tudorWatchPrizeAmount=W.Y.TudorWatchPrizeAmount,this.nintendoPrizeAmount=W.Y.NintendoSwitchPrizeAmount,this.samsungFold7PrizeAmount=W.Y.SamsungFold7PrizeAmount,this.ps5PrizeAmount=W.Y.PS5PrizeAmount,this.dysonHairDryerPrizeAmount=W.Y.DysonHairDryerPrizeAmount,this.isSupremeMode$=this.utilService.currentSiteInfo$.pipe((0,$.T)(t=>t.gameMode===G.U.Supreme)),this.lang$=this.utilService.lang$.pipe((0,$.T)(t=>t.toLowerCase())),this.currentLevelLabel=(0,e.EWP)(()=>y.q[this.currentLevel()]?.toLowerCase()),this.currentLevelSuffix=(0,e.EWP)(()=>y.D[this.currentLevel()]),this.insufficientTicketsShown=!1,this.isAuthenticated=!1}ngOnChanges(t){t.currentLevel&&(this.prizes=[],this.currentRotate=0,this.insufficientTicketsShown=!1,this.cdr.detectChanges(),setTimeout(()=>{this.getPrizePool(),this.renderer.setStyle(this.contentPrizeRef?.nativeElement,"transform","rotate(0deg)")}))}ngOnInit(){setTimeout(()=>{const t=document.querySelector("#PurpleLight");t&&(t.muted=!0,t.loop=!0,t.play().catch(n=>{console.error(n)}))},500)}trackByFn(t,n){return n.order}onSpin(){this.disabled()?this.utilService.isAuthenticated?this.insufficientTicketsShown=!0:this.modalService.open(Cn,{size:"xl",backdrop:"static",keyboard:!1,modalDialogClass:"prize-modal",centered:!0}):this.isSpinning||!this.prizes.length||this.isPressing||(this.isPressing=!0,this.winPrizeIndex=-1,window.parent.document.body.style.overflow="hidden",this.utilService.mobileCheck()||(window.parent.document.body.style.paddingRight="15px"),window.parent.document.scrollingElement?.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{this.gameSoundService.stopSound(this.gameSoundService.winnerSound),this.gameSoundService.playSound(this.gameSoundService.spinSound)},500),setTimeout(()=>{this.isPressing=!1,this.isSpinning=!0,this.cdr.detectChanges(),this.prizePoolService.getPlayerRandomPrize(this.currentLevel()).subscribe({next:t=>{this.handleSpinningWheel(t),setTimeout(()=>{this.playerService.claimPrize(this.currentLevel()).subscribe({next:()=>{},error:n=>{alert(n.error?.detail||"Some internal server error!")}})})},error:t=>{this.isSpinning=!1,window.parent.document.body.style.overflow="auto",window.parent.document.body.style.paddingRight="0px",this.gameSoundService.stopSound(this.gameSoundService.spinSound),alert(t.error?.detail||"Some internal server error!")}})},1e3))}handleSpinningWheel(t){const n=t.prize.order-1;this.currentRotate+=3600;const i=360/this.prizes.length;this.renderer.setStyle(this.contentPrizeRef?.nativeElement,"transform",`rotate(${this.currentRotate-n*i}deg)`),setTimeout(()=>{this.winPrizeIndex=n,window.parent.document.body.style.overflow="auto",window.parent.document.body.style.paddingRight="0px",this.cdr.detectChanges(),setTimeout(()=>{this.onGetPrize.emit(this.prizes[n]),this.gameSoundService.stopSound(this.gameSoundService.spinSound),(this.prizes[n].wheelAmount>0||this.isPhysicalPrize(this.prizes[n].wheelAmount))&&this.gameSoundService.playSound(this.gameSoundService.winnerSound),this.isSpinning=!1,this.cdr.detectChanges()},800)},this.timeRotate)}getPrizePool(){const t=this.currentLevel();if(this.prizeCache.has(t))return this.prizes=this.prizeCache.get(t),void this.cdr.detectChanges();this.utilService.getPrizePool(t).subscribe(n=>{this.prizes=n,this.prizeCache.set(t,n),this.cdr.detectChanges()})}isPhysicalPrize(t){return t<0}getLargestPrizeAmountFor(t){const n=this.prizeCache.get(t)??[];return n.length?n.reduce((i,r)=>i.wheelAmount>r.wheelAmount?i:r).wheelAmount:null}static{this.\u0275fac=function(n){return new(n||Re)}}static{this.\u0275cmp=e.VBU({type:Re,selectors:[["app-spin-wheel"]],viewQuery:function(n,i){if(1&n&&e.GBs(xn,5),2&n){let r;e.mGM(r=e.lsd())&&(i.contentPrizeRef=r.first)}},inputs:{disabled:[1,"disabled"],currentLevel:[1,"currentLevel"]},outputs:{onGetPrize:"onGetPrize"},standalone:!1,features:[e.OA$],decls:12,vars:16,consts:[["contentPrize",""],["normalCashPrize",""],[1,"spin-container"],[1,"btn-spin",3,"click","ngClass"],["class","circle supreme",3,"can-spin","style",4,"ngIf"],[1,"items-container"],[1,"content"],["class","row-item",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["class","no-ticket",4,"ngIf"],["appImgLoading","",1,"spin-wheel",2,"width","450px","height","450px",3,"src"],["src","assets/images/202506/Arrow.png","appImgLoading","",1,"arrow-1"],["src","assets/images/spin/SpinWheel.webp","appImgLoading","",1,"spin-wheel"],["src","assets/images/spin/SpinWheel-BlueLight.png","appImgLoading","",1,"blue-light"],[1,"video"],["id","PurpleLight","width","780","height","750","autoplay","","loop","","muted","","playsinline",""],["src","assets/images/spin/SpinWheel-PurpleLight.mp4","type","video/mp4"],["src","assets/images/spin/Arrow-Animated.webp","alt","Arrow-Animated","appImgLoading","",1,"arrow-icon"],[1,"circle","supreme"],[1,"row-item",3,"ngStyle"],[3,"ngClass"],["src","assets/images/202509-prize/bnr.png",1,"big-prize"],["src","assets/images/202509-prize/tpu.png",1,"big-prize"],["src","assets/images/202509-prize/ns2.png",1,"big-prize",2,"left","30px"],["src","assets/images/202509-prize/sgzf7.png",1,"big-prize"],["src","assets/images/202509-prize/ps5.png",1,"big-prize"],["src","assets/images/202509-prize/dshd.png",1,"big-prize"],[4,"ngIf","ngIfElse"],[1,"big-prize","cash-prize",3,"src"],["src","assets/images/202509-prize/prize-amount-column.png",1,"big-prize","cash-prize"],[1,"no-ticket"]],template:function(n,i){if(1&n){const r=e.RV6();e.j41(0,"div",2),e.DNE(1,Mn,2,3),e.nI1(2,"async"),e.DNE(3,On,7,0),e.j41(4,"div",3),e.bIt("click",function(){return e.eBV(r),e.Njj(i.onSpin())}),e.DNE(5,kn,5,10,"div",4),e.nI1(6,"async"),e.k0s(),e.j41(7,"div",5)(8,"div",6,0),e.DNE(10,Ln,10,11,"div",7),e.k0s()(),e.DNE(11,jn,3,3,"div",8),e.k0s()}2&n&&(e.R7$(),e.vxM(e.bMT(2,9,i.isSupremeMode$)?1:3),e.R7$(3),e.Y8G("ngClass",e.l_i(13,Pn,i.insufficientTicketsShown||i.isSpinning,i.isPressing)),e.R7$(),e.Y8G("ngIf",e.bMT(6,11,i.isSupremeMode$)),e.R7$(3),e.AVh("spinning",i.isSpinning),e.Y8G("@prizeListAnim",i.prizes.length),e.R7$(2),e.Y8G("ngForOf",i.prizes)("ngForTrackBy",i.trackByFn),e.R7$(),e.Y8G("ngIf",i.insufficientTicketsShown))},dependencies:[m.YU,m.Sq,m.bT,m.B3,ye,m.Jj,m.Pc,O.D9],styles:[".spin-container[_ngcontent-%COMP%]{width:633px;height:633px;transform:scale(.9);position:relative;display:flex;justify-content:center;align-items:center}@media only screen and (max-width: 1200px){.spin-container[_ngcontent-%COMP%]{transform:scale(.8)}}@media screen and (max-width: 768px){.spin-container[_ngcontent-%COMP%]{transform:scale(.7)}}@media only screen and (max-width: 576px){.spin-container[_ngcontent-%COMP%]{transform:scale(.5)}}.spin-wheel[_ngcontent-%COMP%]{z-index:1;position:absolute}.blue-light[_ngcontent-%COMP%]{position:absolute;z-index:1;animation:spin 1s linear infinite}.video[_ngcontent-%COMP%]{z-index:1;position:absolute;transform:scale(.55) translate(0) translateY(6px);border-radius:100%;overflow:hidden}.btn-spin[_ngcontent-%COMP%]{width:117px;height:117px;border-radius:50%;padding:4px;z-index:10;position:relative;cursor:pointer;animation-duration:1s;animation-timing-function:ease-in-out}.btn-spin.active[_ngcontent-%COMP%]{animation-name:press-button}.btn-spin.disabled[_ngcontent-%COMP%]{transform:none!important;cursor:default}.btn-spin[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:200px;height:200px;background-size:cover;background-position:center;background-repeat:no-repeat;position:absolute;top:-46px;left:-41px;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/btn-spin.d1dac292d994ac56.webp)}.btn-spin[_ngcontent-%COMP%]   .circle.can-spin[_ngcontent-%COMP%]{animation:2s linear 0s infinite normal none running _ngcontent-%COMP%_spin-pulse}.btn-spin[_ngcontent-%COMP%]   .circle.supreme[_ngcontent-%COMP%]{background-size:65%}.btn-spin[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;color:#fff;text-align:center;font-family:Inter-ExtraBold;font-size:18px;font-style:normal;font-weight:700;line-height:20px;max-width:80px;opacity:.8;letter-spacing:1px}@keyframes _ngcontent-%COMP%_spin-pulse{0%{transform:rotate(-5deg) scaleZ(1)}50%{transform:rotate(0) scale3d(1.1,1.1,1.1)}to{transform:rotate(-5deg) scaleZ(1)}}.items-container[_ngcontent-%COMP%]{position:absolute;width:calc(100% - 50px);height:calc(100% - 50px);top:25px;left:25px;border-radius:50%;z-index:2}.items-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:100%;animation-delay:1s}.items-container[_ngcontent-%COMP%]   .content.spinning[_ngcontent-%COMP%]{transition:cubic-bezier(.075,.8,.2,1) 7s}.items-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row-item[_ngcontent-%COMP%]{display:flex;position:absolute;width:80%;top:50%;left:10%;transform:translateY(-50%);justify-content:flex-end}.items-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-radius:5px;width:140px;height:49px;background-size:cover;color:#fff;font-weight:700;font-size:17px;letter-spacing:-1px;text-shadow:2px 2px 4px rgba(0,0,0,.5);display:flex;align-items:center;padding:0 20px;position:relative;text-wrap:nowrap}.items-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row-item[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{transform:scale(1.2);animation-name:winPrize;animation-duration:.5s;animation-timing-function:cubic-bezier(.42,.2,.19,.99)}.items-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row-item[_ngcontent-%COMP%]   .big-prize[_ngcontent-%COMP%]{transform:rotate(270deg) translate(0);position:absolute;left:30px;width:90%}.items-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row-item[_ngcontent-%COMP%]   .big-prize.cash-prize[_ngcontent-%COMP%]{z-index:-1}.purple-ring[_ngcontent-%COMP%]{position:absolute;transform:scale(.9);z-index:2}.arrow-icon[_ngcontent-%COMP%]{position:absolute;z-index:3;right:100px;margin-top:10px}.arrow-1[_ngcontent-%COMP%]{position:absolute;z-index:10;width:70px;right:205px}.no-ticket[_ngcontent-%COMP%]{position:absolute;padding:8px 24px;border-radius:10px;background:#4b5c8ce6;font-family:Noto Sans;font-size:20px;font-weight:700;line-height:40px;color:#fff;z-index:20;width:max-content;top:50%;left:50%;transform:translate(-50%,-50%)}@media only screen and (max-width: 768px){.no-ticket[_ngcontent-%COMP%]{padding:5px 16px;line-height:28px}.items-container[_ngcontent-%COMP%]{width:calc(100% - 36px);height:calc(100% - 36px);top:18px;left:18px}.arrow-icon[_ngcontent-%COMP%]{right:80px}}"],data:{animation:[(0,X.hZ)("prizeListAnim",[(0,X.kY)("0 => *",[(0,X.P)(".row-item",[(0,X.iF)({opacity:0}),(0,X.yc)(45,[(0,X.i0)("200ms cubic-bezier(0.35, 0, 0.25, 1)",(0,X.iF)({opacity:1}))])],{optional:!0})])])]},changeDetection:0})}};Q=(0,ie.Cg)([(0,A.d)()],Q);var An=g(1334);let Ie=(()=>{class o{constructor(n,i,r){this.el=n,this.imageLoadingService=i,this.breakpointService=r,this.cdnService=(0,e.WQX)(An.H),i.imageLoading(n.nativeElement)}ngOnChanges(){"string"==typeof this.appBackgroundImgLoading?this.fetchBackgroundImage(this.appBackgroundImgLoading):this.breakpointService.isDesktop$.subscribe(n=>{const i=this.appBackgroundImgLoading.d,r=this.appBackgroundImgLoading.m;n?(this.fetchBackgroundImage(i),r&&this.imageLoadingService.imageLoadedOrError(this.el.nativeElement)):(this.fetchBackgroundImage(r),i&&this.imageLoadingService.imageLoadedOrError(this.el.nativeElement))})}fetchBackgroundImage(n,i=1){!n||i<0?this.imageLoadingService.imageLoadedOrError(this.el.nativeElement):fetch(`${this.cdnService.getCdnPrefix()}${n}`).then(r=>{r.ok?r.blob().then(s=>{this.el.nativeElement.style.backgroundImage=`url(${window.URL.createObjectURL(s)})`}):setTimeout(()=>this.fetchBackgroundImage(n,i-1),100)}).catch(r=>{if(i<=0)throw r;setTimeout(()=>this.fetchBackgroundImage(n,i-1),100)}).finally(()=>{this.imageLoadingService.imageLoadedOrError(this.el.nativeElement)})}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(e.aKT),e.rXU(Je.d),e.rXU(Se))}}static{this.\u0275dir=e.FsC({type:o,selectors:[["","appBackgroundImgLoading",""]],inputs:{appBackgroundImgLoading:"appBackgroundImgLoading"},standalone:!1,features:[e.OA$]})}}return o})();var Wn=g(2314),Gn=g(1584);const Fn=()=>({d:"assets/images/tap-win/desktop spin-wheel base-min.webp",m:"assets/images/tap-win/mobile spin-wheel base-min.webp"}),Bn=o=>({disabled:o});function Nn(o,t){if(1&o){const n=e.RV6();e.j41(0,"div",9),e.bIt("click",function(){e.eBV(n);const r=e.XpG(4);return e.Njj(r.tapNow())}),e.k0s()}if(2&o){const n=e.XpG(3).ngIf,i=e.XpG();e.Y8G("appBackgroundImgLoading","en"===n?"assets/images/tap-win/Tap-Button-EN-min.webp":"assets/images/tap-win/Tap-Button-CN-min.webp")("ngClass",e.eq3(2,Bn,i.disabled))}}function Xn(o,t){if(1&o&&(e.qex(0),e.nrm(1,"div",7),e.DNE(2,Nn,1,4,"div",8),e.bVm()),2&o){const n=t.$implicit,i=t.index,r=e.XpG().ngIf,s=e.XpG().ngIf,l=e.XpG();e.R7$(),e.AVh("active",i===l.activeIndex),e.Y8G("appBackgroundImgLoading",l.prizeImagePath(n,r,s)),e.R7$(),e.Y8G("ngIf",4===i)}}function Hn(o,t){1&o&&(e.j41(0,"div",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"insufficientTickets")," "))}function Un(o,t){if(1&o&&(e.j41(0,"div",3),e.nrm(1,"div",4),e.nI1(2,"translate"),e.DNE(3,Xn,3,4,"ng-container",5)(4,Hn,3,3,"div",6),e.k0s()),2&o){const n=e.XpG(2);e.AVh("processing",n.processing),e.Y8G("appBackgroundImgLoading",e.lJ4(9,Fn)),e.R7$(),e.Y8G("innerHTML",e.bMT(2,7,"tapWinTitle"),e.npT),e.R7$(2),e.Y8G("ngForOf",n.prizes)("ngForTrackBy",n.trackByFn),e.R7$(),e.Y8G("ngIf",n.disabled)}}function Yn(o,t){if(1&o&&(e.j41(0,"div",1),e.DNE(1,Un,5,10,"div",2),e.nI1(2,"async"),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngIf",e.bMT(2,1,n.country$))}}let ze=class De{constructor(){this.playerService=(0,e.WQX)(re),this.utilService=(0,e.WQX)(B.a),this.decimalPipe=(0,e.WQX)(m.QX),this.gameSoundService=(0,e.WQX)(Ke),this.prizePoolService=(0,e.WQX)(Ze._),this.disabled=!1,this.onGetPrize=new e.bkB,this.lang$=this.utilService.lang$.pipe((0,$.T)(t=>t.toLowerCase())),this.country$=this.utilService.country$.pipe((0,$.T)(t=>t.toLowerCase())),this.prizes=[],this.activeIndex=-1,this.processing=!1,this.tapOrders=[0,1,2,3,5,7,11,10,9,8,6,4],this.easing=Wn(.6,.1,.25,.8),this.prevEasing=0}ngOnInit(){this.utilService.getPrizePool().subscribe(t=>{this.prizes=t})}trackByFn(t,n){return n.name}prizeImagePath(t,n,i){return`assets/images/tap-win/prize/${n}/${t.order===fe.oopsPrizeOrder?`oops_${i}`:t.order===fe.tapWinGoldPrizeOrder?`gold_${i}`:t.wheelAmount}.webp`}tapNow(){this.disabled||!this.prizes.length||this.processing||(this.processing=!0,setTimeout(()=>this.gameSoundService.playSound(this.gameSoundService.tapSound),500),setTimeout(()=>{this.gameSoundService.stopSound(this.gameSoundService.winnerSound),this.prizePoolService.getPlayerRandomPrize().subscribe({next:t=>{const n=this.tapOrders.indexOf(t.prize.order-1);this.gameSoundService.tapSound.playbackRate=1.15-.3/this.tapOrders.length*n,this.handleSpinningWheel(t),setTimeout(()=>{this.playerService.claimPrize().subscribe({next:()=>{},error:i=>{alert(i.error?.detail||"Some internal server error!")}})})},error:t=>{this.processing=!1,this.gameSoundService.stopSound(this.gameSoundService.tapSound),alert(t.error?.detail||"Some internal server error!")}})},1e3))}handleSpinningWheel(t){this.activeNextItem(t.prize.order-1)}activeNextItem(t,n=0){this.activeIndex=this.tapOrders[n%this.tapOrders.length];const i=3*this.prizes.length+this.tapOrders.indexOf(t);if(n===i)return setTimeout(()=>{this.processing=!1,this.prevEasing=0,this.activeIndex=-1},1e3),void setTimeout(()=>{this.onGetPrize.emit(this.prizes[t]),this.gameSoundService.stopSound(this.gameSoundService.tapSound),this.prizes[t].order!==fe.oopsPrizeOrder&&this.gameSoundService.playSound(this.gameSoundService.winnerSound)},1800);const r=this.easing((n+1)/i);(0,Gn.O)(200-2e3*(r-this.prevEasing),0).pipe((0,oe.s)(1)).subscribe(()=>{this.activeNextItem(t,n+1)}),this.prevEasing=r}static{this.\u0275fac=function(n){return new(n||De)}}static{this.\u0275cmp=e.VBU({type:De,selectors:[["app-tap-and-win"]],inputs:{disabled:"disabled"},outputs:{onGetPrize:"onGetPrize"},standalone:!1,decls:2,vars:3,consts:[["class","tap-win-container",4,"ngIf"],[1,"tap-win-container"],["class","game-box",3,"appBackgroundImgLoading","processing",4,"ngIf"],[1,"game-box",3,"appBackgroundImgLoading"],[1,"game-title",3,"innerHTML"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","no-ticket",4,"ngIf"],[1,"box-item",3,"appBackgroundImgLoading"],["class","tap-now",3,"appBackgroundImgLoading","ngClass","click",4,"ngIf"],[1,"tap-now",3,"click","appBackgroundImgLoading","ngClass"],[1,"no-ticket"]],template:function(n,i){1&n&&(e.DNE(0,Yn,3,3,"div",0),e.nI1(1,"async")),2&n&&e.Y8G("ngIf",e.bMT(1,1,i.lang$))},dependencies:[m.YU,m.Sq,m.bT,Ie,m.Jj,O.D9],styles:[".tap-win-container[_ngcontent-%COMP%]{width:633px;height:633px;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:30px;transform:scale(1.1)}@media only screen and (max-width: 768px){.tap-win-container[_ngcontent-%COMP%]{transform:scale(var(--game-scale));margin-top:47vw;width:100vw;height:100vw}}.game-box[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(4,1fr);flex-direction:column;justify-content:center;align-items:center;padding:83px 7.58688px 7.58688px;width:494.41px;height:509.72px;border-radius:15.1738px;margin-top:-18px;background-repeat:no-repeat;background-size:100%}@media screen and (max-width: 768px){.game-box[_ngcontent-%COMP%]{width:513.41px;height:512.72px;padding:90px 17.58688px 17.58688px}}.game-box.processing[_ngcontent-%COMP%]   .tap-now[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_tap-now-animation}.game-title[_ngcontent-%COMP%]{position:absolute;top:20px;text-align:center;color:#fff;font-weight:bolder;font-size:20px;line-height:24px;white-space:nowrap;left:50%;transform:translate(-50%)}@media only screen and (max-width: 768px){.game-title[_ngcontent-%COMP%]{top:24px}}.box-item[_ngcontent-%COMP%]{width:119.59px;height:104.13px;background-position:center;background-size:cover}.box-item.active[_ngcontent-%COMP%]{background-image:none!important}.tap-now[_ngcontent-%COMP%]{cursor:pointer;grid-column:span 2;grid-row:span 2;align-self:center;justify-self:center;width:221.66px;height:208.26px;background-repeat:no-repeat;background-position:center;background-size:contain;background-position-y:-6px;transform:scale(1.15);animation-duration:1s;animation-timing-function:ease-in-out}@keyframes _ngcontent-%COMP%_tap-now-animation{0%{transform:scale(1.15)}50%{transform:scale(.9)}to{transform:scale(1.15)}}.tap-now.disabled[_ngcontent-%COMP%]{transform:scale(1.15)!important;cursor:default}.no-ticket[_ngcontent-%COMP%]{position:absolute;padding:8px 24px;border-radius:10px;background:#492528d4;font-family:Noto Sans;font-size:20px;font-weight:700;line-height:40px;color:#fff;z-index:20;width:max-content;top:50%;left:50%;transform:translate(-50%,-50%)}"]})}};ze=(0,ie.Cg)([(0,A.d)()],ze);const et=(o,t)=>({d:o,m:t}),tt=o=>({resetDate:o}),Vn=o=>({d:o}),Qn=o=>({m:o}),nt=o=>({swap:o});function qn(o,t){if(1&o){const n=e.RV6();e.j41(0,"app-spin-wheel",36),e.bIt("onGetPrize",function(r){e.eBV(n);const s=e.XpG(2);return e.Njj(s.onGetPrize(r))}),e.k0s()}if(2&o){const n=e.XpG(2);e.Y8G("disabled",n.playerDepositInfo.spinsLeft<1)}}function Jn(o,t){if(1&o){const n=e.RV6();e.j41(0,"app-tap-and-win",36),e.bIt("onGetPrize",function(r){e.eBV(n);const s=e.XpG(2);return e.Njj(s.onGetPrize(r))}),e.k0s()}if(2&o){const n=e.XpG(2);e.Y8G("disabled",n.playerDepositInfo.spinsLeft<1)}}function Kn(o,t){if(1&o&&(e.j41(0,"div",34),e.DNE(1,qn,1,1,"app-spin-wheel",35),e.nI1(2,"async"),e.DNE(3,Jn,1,1,"app-tap-and-win",35),e.nI1(4,"async"),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngIf",e.bMT(2,2,n.gameMode$)===n.gameModeType.SpinWin),e.R7$(2),e.Y8G("ngIf",e.bMT(4,4,n.gameMode$)===n.gameModeType.TapWin)}}function Zn(o,t){if(1&o){const n=e.RV6();e.j41(0,"div",37)(1,"div",38)(2,"app-ticket",39),e.bIt("deposit",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.onDeposit(0))}),e.k0s()(),e.j41(3,"div",40)(4,"app-ticket",39),e.bIt("deposit",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.onDeposit(1))}),e.k0s()()()}if(2&o){const n=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(6,nt,n.swapping)),e.R7$(),e.Y8G("data",n.dailyMissions[0])("swapping",n.swapping),e.R7$(),e.Y8G("ngClass",e.eq3(8,nt,n.swapping)),e.R7$(),e.Y8G("data",n.dailyMissions[1])("swapping",n.swapping)}}let Te=class Le{constructor(){this.titleTemplate=e.hFB.required(),this.isMaintaining=e.hFB.required(),this.modalService=(0,e.WQX)(V.Bq),this.isXLarge$=(0,e.WQX)(Se).isXLarge$,this.isXSmall$=(0,e.WQX)(Se).isXSmall$,this.utilService=(0,e.WQX)(B.a),this.playerService=(0,e.WQX)(re),this.decimalPipe=(0,e.WQX)(m.QX),this.country$=this.utilService.country$,this.gameMode$=this.utilService.currentSiteInfo$.pipe((0,$.T)(t=>t.gameMode)),this.gameModeType=G.U,this.isXLarge=!1,this.isXSmall=!1,this.swapping=!1,this.subscriptions=[],this.dailyMissions=[],this.currency$=this.utilService.currency$,this.lang$=this.utilService.lang$.pipe((0,$.T)(t=>t.toLowerCase())),this.maxPrize$=this.utilService.maxPrizePool$,this.playerDepositInfo={}}ngOnInit(){this.loadPlayerDepositInfo().subscribe(),this.subscriptions.push(this.isXLarge$.subscribe(t=>{this.isXLarge=t,this.onChangeScreen()})),this.subscriptions.push(this.isXSmall$.subscribe(t=>{this.isXSmall=t,t?(document.documentElement.style.setProperty("--left-ticket-start-left","10px"),document.documentElement.style.setProperty("--left-ticket-start-top","0px"),document.documentElement.style.setProperty("--right-ticket-start-left","121px"),document.documentElement.style.setProperty("--right-ticket-start-top","244px")):(document.documentElement.style.setProperty("--left-ticket-start-left","50px"),document.documentElement.style.setProperty("--left-ticket-start-top","-34px"),document.documentElement.style.setProperty("--right-ticket-start-left","320px"),document.documentElement.style.setProperty("--right-ticket-start-top","0px"),this.onChangeScreen())}))}onChangeScreen(){this.isXSmall||(this.isXLarge?document.documentElement.style.setProperty("--right-ticket-start-left","320px"):document.documentElement.style.setProperty("--right-ticket-start-left","232px"))}onShowTermsAndConditions(){this.utilService.showTermsAndConditions(this.playerDepositInfo.eventStartTime,this.playerDepositInfo.eventEndTime)}onGetPrize(t){this.loadPlayerDepositInfo().subscribe(),this.winnerListComponent.refresh(),this.gameMode$.pipe((0,oe.s)(1)).subscribe(n=>{this.modalService.open(n===G.U.TapWin?Zt:qe,{size:"xl",backdrop:"static",keyboard:!1,modalDialogClass:"prize-modal",centered:!0}).componentInstance.prize=t})}onDeposit(t,n=!0){n&&this.utilService.httpReferral$.pipe((0,oe.s)(1)).subscribe(i=>{window.parent.postMessage("GoToDepositPage","*")}),1===t||this.dailyMissions[1].completed?this.dailyMissions[t].completed=!0:(this.swapping=!0,setTimeout(()=>{this.swapping=!1,this.dailyMissions[t].completed=!0;const[i,r]=this.dailyMissions;this.dailyMissions[0]=r,this.dailyMissions[1]=i},1950))}get completedMissions(){return this.dailyMissions.filter(t=>t.completed).length}onScroll(t){t.scrollIntoView({behavior:"smooth"})}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadPlayerDepositInfo(){return this.country$.pipe((0,oe.s)(1),(0,Ve.v)(this.utilService.currentSiteInfo$.pipe((0,A.s)(this))),(0,Me.p)(([t,n])=>!!n.id),(0,Qe.n)(([t,n])=>this.playerService.getPlayerDepositInfo(t?.toUpperCase()).pipe((0,Oe.M)(i=>{this.playerDepositInfo=i,this.playerDepositInfo.totalDeposit=this.playerDepositInfo.siteAccumulateDeposit>this.playerDepositInfo.totalDeposit?this.playerDepositInfo.totalDeposit:this.playerDepositInfo.siteAccumulateDeposit,this.resetDate=function Gt(o,t,n){const i=function Wt(o,t){return Ye(t||o,o)}(o,n?.in);return isNaN(t)?Ye(n?.in||o,NaN):(t&&i.setDate(i.getDate()+t),i)}(new Date(i.eventEndTime),1),this.dailyMissions=[{completed:i.hasReachedDailyMinDeposit,ticket:n.token,label:"singleText",depositValue:`${n.currency}${this.decimalPipe.transform(n.minDeposit,"1.2-2")}`},{completed:i.totalDeposit>=n.accumulateDeposit,ticket:n.extraToken,label:"accumulativeText",depositValue:`${n.currency}${this.decimalPipe.transform(n.accumulateDeposit,"1.2-2")}`}],this.dailyMissions[0].completed&&!this.dailyMissions[1].completed&&setTimeout(()=>{this.onDeposit(0,!1)},100)}),(0,ue.W)(i=>(i.error?.detail&&alert(i.error.detail),me.w)))))}static{this.\u0275fac=function(n){return new(n||Le)}}static{this.\u0275cmp=e.VBU({type:Le,selectors:[["app-spin-and-win"]],viewQuery:function(n,i){if(1&n&&e.GBs(N,7),2&n){let r;e.mGM(r=e.lsd())&&(i.winnerListComponent=r.first)}},inputs:{titleTemplate:[1,"titleTemplate"],isMaintaining:[1,"isMaintaining"]},standalone:!1,decls:67,vars:72,consts:[["dailyMission",""],[1,"hero",3,"appBackgroundImgLoading"],[1,"top",3,"appBackgroundImgLoading"],[3,"ngTemplateOutlet"],[1,"tickets-reset"],["src","assets/images/bell icon.png","alt","bell"],[1,"bottom",3,"appBackgroundImgLoading"],[1,"XiaoSan","d-none","d-md-block",3,"appBackgroundImgLoading"],["src","assets/images/arrow.webp","alt","arrow",1,"arrow"],[1,"content"],["src","assets/images/spin/arrow.webp","alt","arrow",1,"arrow-icon","d-block","d-md-none"],[1,"left"],["type","button",1,"redeem-btn",3,"click"],["type","button",1,"terms-btn",3,"click"],[1,"right"],[1,"my-ticket"],[1,"ticket"],[1,"bg-ticket"],["src","assets/images/ticket.webp","alt","ticket",1,"ticket-icon"],[2,"position","relative"],[1,"left-ticket"],["src","assets/images/tap-win/bell_icon.webp","alt","bell"],[1,"bg-yellow"],["class","game-container",4,"ngIf"],[1,"mascot-m","d-block","d-md-none",3,"appBackgroundImgLoading"],[1,"fortune"],[1,"daily-mission-board"],[1,"background"],[1,"title"],[1,"mission-icon"],["src","assets/images/charm_circle-tick.svg","alt","tick icon","appImgLoading",""],["class","cards",4,"ngIf"],[1,"mission-reset"],[1,"winner-container"],[1,"game-container"],[3,"disabled","onGetPrize",4,"ngIf"],[3,"onGetPrize","disabled"],[1,"cards"],[1,"card-left",3,"ngClass"],[3,"deposit","data","swapping"],[1,"card-right",3,"ngClass"]],template:function(n,i){if(1&n){const r=e.RV6();e.j41(0,"div",1),e.nI1(1,"async"),e.nI1(2,"async"),e.j41(3,"div",2),e.nI1(4,"async"),e.nI1(5,"async"),e.eu8(6,3),e.j41(7,"div",4),e.nrm(8,"img",5),e.EFF(9),e.nI1(10,"date"),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"div",6),e.nI1(13,"async"),e.nrm(14,"div",7),e.nI1(15,"async"),e.nrm(16,"img",8),e.j41(17,"div",9),e.nrm(18,"img",10),e.j41(19,"div",11)(20,"button",12),e.bIt("click",function(){e.eBV(r);const l=e.sdS(49);return e.Njj(i.onScroll(l))}),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"button",13),e.bIt("click",function(){return e.eBV(r),e.Njj(i.onShowTermsAndConditions())}),e.EFF(24),e.nI1(25,"translate"),e.k0s()(),e.j41(26,"div",14)(27,"span",15),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"div",16),e.nrm(31,"div",17)(32,"img",18),e.k0s(),e.j41(33,"div",19)(34,"span",20),e.EFF(35),e.nI1(36,"translate"),e.nI1(37,"number"),e.k0s(),e.j41(38,"div",4),e.nrm(39,"img",21),e.EFF(40),e.nI1(41,"date"),e.nI1(42,"translate"),e.k0s()()()(),e.nrm(43,"div",22),e.k0s(),e.DNE(44,Kn,5,6,"div",23),e.nrm(45,"div",24),e.nI1(46,"async"),e.k0s(),e.j41(47,"div",25)(48,"div",26,0),e.nrm(50,"div",27),e.j41(51,"div",28)(52,"div",11),e.nrm(53,"div",29),e.j41(54,"span"),e.EFF(55),e.nI1(56,"translate"),e.k0s()(),e.j41(57,"div",16),e.nrm(58,"img",30),e.j41(59,"span"),e.EFF(60),e.k0s()()(),e.DNE(61,Zn,5,10,"div",31),e.j41(62,"div",32),e.EFF(63),e.nI1(64,"translate"),e.k0s()(),e.j41(65,"div",33),e.nrm(66,"app-winner-list"),e.k0s()()}2&n&&(e.Y8G("appBackgroundImgLoading",e.l_i(58,et,e.bMT(1,18,i.gameMode$)===i.gameModeType.TapWin?"assets/images/tap-win/main backround - dekstop ( top )-min.webp":"",e.bMT(2,20,i.gameMode$)===i.gameModeType.TapWin?"assets/images/tap-win/main background - mobile-min.webp":"")),e.R7$(3),e.Y8G("appBackgroundImgLoading",e.l_i(61,et,e.bMT(4,22,i.gameMode$)===i.gameModeType.SpinWin?"assets/images/Fortune-Wheel-Game.webp":"",e.bMT(5,24,i.gameMode$)===i.gameModeType.SpinWin?"assets/images/Fortune-Wheel-Game-mobile.png":"")),e.R7$(3),e.Y8G("ngTemplateOutlet",i.titleTemplate()),e.R7$(3),e.SpI(" ",e.i5U(11,29,"ticketsResetOn",e.eq3(64,tt,e.i5U(10,26,i.resetDate,"dd/MM/yyyy")))," "),e.R7$(3),e.Y8G("appBackgroundImgLoading",e.bMT(13,32,i.gameMode$)===i.gameModeType.SpinWin?"assets/images/bg-hero-bottom.webp":""),e.R7$(2),e.Y8G("appBackgroundImgLoading",e.eq3(66,Vn,e.bMT(15,34,i.gameMode$)===i.gameModeType.TapWin?"assets/images/tap-win/CNY_Pose03 2-min.webp":"assets/images/mascot.webp")),e.R7$(7),e.SpI(" ",e.bMT(22,36,"redeemTickets")," "),e.R7$(3),e.SpI(" ",e.bMT(25,38,"termsAndConditions")," "),e.R7$(4),e.JRh(e.bMT(29,40,"myTickets")),e.R7$(7),e.Lme("",e.bMT(36,42,"ticketLeft"),": ",e.bMT(37,44,i.playerDepositInfo.spinsLeft),""),e.R7$(5),e.SpI(" ",e.i5U(42,49,"ticketsResetOn",e.eq3(68,tt,e.i5U(41,46,i.resetDate,"dd/MM/yyyy")))," "),e.R7$(4),e.Y8G("ngIf",!i.isMaintaining()),e.R7$(),e.Y8G("appBackgroundImgLoading",e.eq3(70,Qn,e.bMT(46,52,i.gameMode$)===i.gameModeType.TapWin?"assets/images/tap-win/CNY_Pose03 2-min.webp":"assets/images/202502/mascot-m.png")),e.R7$(10),e.JRh(e.bMT(56,54,"dailyMissionBoard")),e.R7$(5),e.SpI("",i.completedMissions,"/2"),e.R7$(),e.Y8G("ngIf",i.dailyMissions.length>1),e.R7$(2),e.SpI("*",e.bMT(64,56,"missionsReset"),""))},dependencies:[m.YU,m.bT,m.T3,bn,N,Q,ye,Ie,ze,m.Jj,m.QX,m.vh,O.D9],styles:['.hero[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;position:relative;background-size:cover}@media only screen and (max-width: 768px){.hero[_ngcontent-%COMP%]{background-position:top}}.hero[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{height:444px;background-size:cover;padding-top:69px;position:relative}@media only screen and (max-width: 768px){.hero[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding-top:30px;height:700px;overflow:hidden;background-position:center}}@media only screen and (max-width: 576px){.hero[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{height:630px}}.hero[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .coin-icon[_ngcontent-%COMP%]{position:absolute}.hero[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .coin-icon.coin-1[_ngcontent-%COMP%]{width:96px;height:97px;top:-37px;left:-46px;transform:rotate(-36.12deg)}.hero[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .coin-icon.coin-2[_ngcontent-%COMP%]{width:107px;height:125px;top:46.5px;left:452px;mix-blend-mode:screen}.hero[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .coin-icon.coin-3[_ngcontent-%COMP%]{width:40px;height:40px;top:-13px;right:0;transform:rotate(47deg)}.hero[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .coin-icon.bg-yellow[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/bg-yellow.49567ab3e7a901b9.png);background-size:cover;width:1444.95px;height:611.57px;top:-128.64px;left:-32.26px;opacity:.7px;mix-blend-mode:screen}.hero[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .coin-icon.bg-1[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/13.0aea0d3b48c2b4bf.png);background-size:cover;width:100%;height:100%;top:0;mix-blend-mode:screen}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{height:227px;background-size:cover;padding-bottom:24px;display:flex;flex-direction:column;justify-content:flex-end;position:relative;padding-left:67px}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .XiaoSan[_ngcontent-%COMP%]{background-size:contain;background-repeat:no-repeat;position:absolute;left:28px;bottom:123px;height:412px;width:530px}@media only screen and (max-width: 1200px){.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .XiaoSan[_ngcontent-%COMP%]{height:348px}}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{position:absolute}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{position:absolute;width:62px;height:60px;left:0;box-shadow:0 0 74.7px #fdbb2c93;bottom:72px}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:end;gap:10px;position:relative;z-index:30}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;justify-content:flex-end}@media screen and (max-width: 768px){.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-top:20px;gap:10px}}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .redeem-btn[_ngcontent-%COMP%]{padding:25.91px 33.22px;border-radius:10px;background:#fdbb2c;color:#000;box-shadow:0 12px 10px #ffffff80 inset;cursor:pointer;font-family:Noto Sans;font-size:24px;font-weight:700;line-height:32.69px;border:none;white-space:nowrap}@media screen and (min-width: 768px){.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .redeem-btn[_ngcontent-%COMP%]{min-width:280px}}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .terms-btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;background:#131d3969;font-size:14px;font-weight:400;line-height:17.05px;text-align:center;color:#fff9;cursor:pointer;border:none;white-space:nowrap}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;position:relative;align-items:center}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .my-ticket[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:24.36px;color:#fca20d;text-align:center;position:relative;z-index:1}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]{width:100px;height:89px;background-color:#28083499;position:relative;z-index:1;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/bg-my-ticket-with-border.564f11a91db9e2db.webp);background-size:cover;border-radius:8px}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   .bg-ticket[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/bg-my-ticket.f66278cff7f8aa55.webp);background-position:center;width:100%;height:100%;filter:brightness(.4);z-index:0;position:absolute;mix-blend-mode:exclusion;border-radius:8px}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   .ticket-icon[_ngcontent-%COMP%]{width:108.11px;height:108.11px;top:-15px;left:4px;position:absolute}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{width:170.74px;height:145.94px;top:-10.49px;left:-42px;position:absolute;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/bg-my-ticket.f66278cff7f8aa55.webp);background-size:cover}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .left-ticket[_ngcontent-%COMP%]{border-radius:10px;background:#8434df99;font-size:14.26px;font-weight:400;line-height:14.94px;color:#f4f5f6;padding:12px 10px;text-align:center;display:block;white-space:nowrap;min-width:84px}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .bg-yellow[_ngcontent-%COMP%]{background:linear-gradient(270deg,#fdbb2c8f -5.03%,#fdbb2c00 96.22%);width:60%;height:100%;position:absolute;right:0;top:0}@media only screen and (max-width: 768px){.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{position:absolute;bottom:12px;padding:0 2px;background:none!important;z-index:101}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .XiaoSan[_ngcontent-%COMP%], .hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .bg.bg-1[_ngcontent-%COMP%], .hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .bg-yellow[_ngcontent-%COMP%], .hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:none}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{align-items:center;flex-direction:row-reverse;gap:6px}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{width:95px;margin-top:-5px;transform:rotate(180deg);box-shadow:0 0 74.7px #fdbb2c93}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .redeem-btn[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px;line-height:16px;border-radius:5px}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .terms-btn[_ngcontent-%COMP%]{padding:4px 8px;font-size:12px;line-height:14px;border-radius:5px}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{align-items:center}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .my-ticket[_ngcontent-%COMP%]{font-size:12px;line-height:14px}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]{width:45px;height:45px}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   .ticket-icon[_ngcontent-%COMP%]{width:58px;height:58px;top:-5px;left:0}.hero[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .left-ticket[_ngcontent-%COMP%]{padding:5px;font-size:12px;line-height:14px}}.hero[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{position:absolute;height:100%;right:0;top:0;z-index:20}@media only screen and (max-width: 1200px){.hero[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{height:70%;top:0;right:-20px}}@media only screen and (max-width: 768px){.hero[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{height:auto;right:auto;left:50%;transform:translate(-50%);top:6vw}}@media only screen and (max-width: 576px){.hero[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{top:0}}@media only screen and (max-width: 768px){.hero[_ngcontent-%COMP%]{border-radius:0}}.big-rebate[_ngcontent-%COMP%]{position:absolute;left:-20px;bottom:390px}@media screen and (max-width: 767px){.big-rebate[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);top:80px;bottom:auto}}.big-rebate[_ngcontent-%COMP%]   .big-rebate-bg[_ngcontent-%COMP%]{background-size:contain;background-repeat:no-repeat}.big-rebate[_ngcontent-%COMP%]   .big-rebate-bg.en[_ngcontent-%COMP%]{height:179px;width:537px}.big-rebate[_ngcontent-%COMP%]   .big-rebate-bg.cn[_ngcontent-%COMP%]{height:175px;width:504px;margin-left:35px}@media screen and (max-width: 767px){.big-rebate[_ngcontent-%COMP%]   .big-rebate-bg.en[_ngcontent-%COMP%]{height:42vw;width:126vw}.big-rebate[_ngcontent-%COMP%]   .big-rebate-bg.cn[_ngcontent-%COMP%]{height:38vw;width:100vw;margin-left:0}}.big-rebate[_ngcontent-%COMP%]   .big-rebate-box-bg[_ngcontent-%COMP%]{background-size:contain;background-repeat:no-repeat;position:relative;margin:-28px auto 0;height:88px;width:310px}@media screen and (max-width: 767px){.big-rebate[_ngcontent-%COMP%]   .big-rebate-box-bg[_ngcontent-%COMP%]{margin-top:-6vw;height:19vw;width:66vw}}.big-rebate[_ngcontent-%COMP%]   .big-rebate-box-bg[_ngcontent-%COMP%]:before, .big-rebate[_ngcontent-%COMP%]   .big-rebate-box-bg[_ngcontent-%COMP%]:after{content:"";background-size:contain;background-repeat:no-repeat;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/coin.d64eba0d6020eca0.png);display:block;position:absolute;top:10px;width:64px;height:64px}@media screen and (max-width: 767px){.big-rebate[_ngcontent-%COMP%]   .big-rebate-box-bg[_ngcontent-%COMP%]:before, .big-rebate[_ngcontent-%COMP%]   .big-rebate-box-bg[_ngcontent-%COMP%]:after{top:3vw;width:12vw;height:12vw}}.big-rebate[_ngcontent-%COMP%]   .big-rebate-box-bg[_ngcontent-%COMP%]:before{left:-32px}@media screen and (max-width: 767px){.big-rebate[_ngcontent-%COMP%]   .big-rebate-box-bg[_ngcontent-%COMP%]:before{left:-6vw}}.big-rebate[_ngcontent-%COMP%]   .big-rebate-box-bg[_ngcontent-%COMP%]:after{right:-32px}@media screen and (max-width: 767px){.big-rebate[_ngcontent-%COMP%]   .big-rebate-box-bg[_ngcontent-%COMP%]:after{right:-6vw}}.mascot-m[_ngcontent-%COMP%]{position:absolute;width:90vw;height:70vw;right:-42vw;bottom:-12vw;transform:rotate(12deg);background-size:cover;z-index:100}@media screen and (max-width: 576px){.mascot-m[_ngcontent-%COMP%]{right:-38vw;bottom:-7vw}}.fortune[_ngcontent-%COMP%]{margin-top:19px;padding-bottom:93px;display:flex;justify-content:space-between;gap:20px}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]{flex:1;padding-top:16px;position:relative;margin-right:45px}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .mission-icon[_ngcontent-%COMP%]{width:38px;height:38px;background-size:contain;background-repeat:no-repeat;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/mingcute_board-line.97e167170fc436ae.svg)}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;width:358.82px;height:358.82px;top:19px;left:50%;transform:translate(-50%);border-radius:50%;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/Purple-Blur.d33bb6713259ec8f.png);background-position:center;background-repeat:no-repeat;background-size:contain}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:11px}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;font-weight:700;line-height:39px;color:#fca20d}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;border-radius:72px;padding:6.5px 19.5px;background:#8031e17d}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Noto Sans;font-size:20px;font-weight:700;line-height:27.24px;color:#fff}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{margin-top:62px;display:flex;position:relative;height:349px}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card-left[_ngcontent-%COMP%]{position:absolute;transform:rotate(var(--left-ticket-rotate));top:var(--left-ticket-start-top);left:var(--left-ticket-start-left);z-index:var(--left-ticket-z-index)}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card-left.swap[_ngcontent-%COMP%]{animation-name:swap-left-ticket;animation-duration:2s;animation-timing-function:ease-in-out}@media only screen and (max-width: 576px){.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card-left.swap[_ngcontent-%COMP%]{animation-name:swap-small-left-ticket}}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card-right[_ngcontent-%COMP%]{transform:rotate(var(--right-ticket-rotate));position:absolute;top:var(--right-ticket-start-top);left:var(--right-ticket-start-left)}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card-right.swap[_ngcontent-%COMP%]{animation-name:swap-right-ticket;animation-duration:2s;animation-timing-function:ease-in-out}@media only screen and (max-width: 576px){.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card-right.swap[_ngcontent-%COMP%]{animation-name:swap-small-right-ticket}}@media only screen and (max-width: 768px){.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{justify-content:center}}@media only screen and (max-width: 576px){.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{margin-top:12px;height:574px}}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .mission-reset[_ngcontent-%COMP%]{font-family:Noto Sans;font-size:12px;font-weight:400;line-height:16.34px;text-align:center;color:#fff6;padding-top:32px}@media only screen and (max-width: 576px){.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .mission-reset[_ngcontent-%COMP%]{padding-top:16px;font-size:14px;line-height:19px}}@media only screen and (max-width: 768px){.fortune[_ngcontent-%COMP%]{flex-direction:column;gap:43px;margin:23px 0;padding:0 16px}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]{padding-top:0;margin-right:0}}@media only screen and (max-width: 576px){.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{gap:8px}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;line-height:24px}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]{gap:8px;padding:6px 12px}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px}.fortune[_ngcontent-%COMP%]   .daily-mission-board[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:19px}}.fortune[_ngcontent-%COMP%]   .winner-container[_ngcontent-%COMP%]{width:484px;max-width:484px;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/winner-list-bg.4a5bf774e96a46de.webp);background-size:cover;border-radius:16px;padding:27px 35px 20px;position:relative}.fortune[_ngcontent-%COMP%]   .winner-container[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,#fff 1.95%,#fff0 92.26%);position:absolute;content:"";inset:0;border-radius:16px;padding:1px;-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude}@media only screen and (max-width: 1361px){.fortune[_ngcontent-%COMP%]   .winner-container[_ngcontent-%COMP%]{padding:26px 25px 20px;width:338px;max-width:338px;background-position:center;background-position-y:-1px;background-repeat:no-repeat}}@media only screen and (max-width: 768px){.fortune[_ngcontent-%COMP%]   .winner-container[_ngcontent-%COMP%]{width:100%;max-width:100%;background:radial-gradient(166.2% 134.68% at 2.13% 0%,#1b0537,#31006cfd 32.63%,#400e86da 41.71%,#813dbd00)}}.top[_ngcontent-%COMP%]   .tickets-reset[_ngcontent-%COMP%]{text-align:center;margin-top:16px}@media screen and (max-width: 767px){.top[_ngcontent-%COMP%]   .tickets-reset[_ngcontent-%COMP%]{display:flex;justify-content:center}}.bottom[_ngcontent-%COMP%]   .tickets-reset[_ngcontent-%COMP%]{position:absolute;left:115px;top:8px}@media screen and (min-width: 768px){.bottom[_ngcontent-%COMP%]   .tickets-reset[_ngcontent-%COMP%]{display:flex;width:320px}}.tickets-reset[_ngcontent-%COMP%]{color:#fff;display:none;gap:6px;font-size:14px}.tickets-reset[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px}']})}};Te=(0,ie.Cg)([(0,A.d)()],Te);var ei=g(2456);const ti=(o,t)=>({currency:o,depositAmountPerPoint:t}),ni=(o,t)=>({d:o,m:t});function ii(o,t){if(1&o){const n=e.RV6();e.j41(0,"div",30)(1,"app-spin-wheel",31),e.bIt("onGetPrize",function(r){e.eBV(n);const s=e.XpG(2);return e.Njj(s.onGetPrize(r))}),e.k0s()()}if(2&o){const n=e.XpG(2);e.R7$(),e.Y8G("disabled",n.supremeGame.tickets[n.currentLevel]<1)("currentLevel",n.currentLevel)}}function oi(o,t){if(1&o&&(e.j41(0,"div",35),e.EFF(1),e.k0s()),2&o){const n=e.XpG().$index,i=e.XpG(2);e.R7$(),e.JRh(i.supremeGame.tickets[n])}}function ri(o,t){1&o&&(e.j41(0,"div",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"enterZone")," "))}function si(o,t){if(1&o){const n=e.RV6();e.j41(0,"div",32),e.bIt("click",function(){const r=e.eBV(n).$index,s=e.XpG(2);return e.Njj(s.switchLevel(r))}),e.DNE(1,oi,2,1,"div",33)(2,ri,3,3,"div",34),e.k0s()}if(2&o){const n=t.$implicit,i=t.$index,r=e.XpG(2);e.AVh("disabled",n.level!==r.currentLevel)("has-tickets",r.supremeGame.tickets[i]),e.R7$(),e.Y8G("ngIf",r.supremeGame.tickets[i]),e.R7$(),e.Y8G("ngIf",n.level!==r.currentLevel&&!r.isSpinning)}}function ai(o,t){if(1&o&&(e.j41(0,"div",19)(1,"div",20),e.eu8(2,21),e.k0s(),e.nrm(3,"div",22),e.DNE(4,ii,2,2,"div",23),e.j41(5,"div",24)(6,"div",25),e.nrm(7,"div"),e.j41(8,"div",26),e.Z7z(9,si,3,6,"div",27,e.Vm6),e.j41(11,"div",28),e.eu8(12,21),e.k0s()()()(),e.j41(13,"div",29),e.eu8(14,21),e.k0s()()),2&o){const n=e.XpG(),i=e.sdS(2);e.Y8G("appBackgroundImgLoading",e.l_i(9,ni,"assets/images/202509/"+n.currentLevelLabel+"/Fortune Wheel Game "+n.currentLevelSuffix+".png","assets/images/202509/"+n.currentLevelLabel+"/bg-m "+n.currentLevelSuffix+".png")),e.R7$(2),e.Y8G("ngTemplateOutlet",n.titleTemplate()),e.R7$(),e.Y8G("appBackgroundImgLoading","assets/images/202506/XiaoSan.png"),e.R7$(),e.Y8G("ngIf",!n.isMaintaining()),e.R7$(3),e.ZvI("level-indicator ",n.currentLevelLabel,""),e.R7$(2),e.Dyx(n.levels),e.R7$(3),e.Y8G("ngTemplateOutlet",i),e.R7$(2),e.Y8G("ngTemplateOutlet",i)}}function ci(o,t){1&o&&(e.j41(0,"span"),e.EFF(1," Zone"),e.k0s())}function li(o,t){if(1&o&&(e.j41(0,"div")(1,"div",37)(2,"div",38)(3,"span",39),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.DNE(6,ci,2,0,"span",40),e.nI1(7,"async"),e.k0s(),e.j41(8,"div",41),e.nrm(9,"div",42),e.EFF(10),e.nI1(11,"translate"),e.k0s()()()),2&o){let n;const i=e.XpG();e.ZvI("current-level ",i.currentLevelLabel,""),e.R7$(4),e.JRh(e.bMT(5,7,null!==(n=i.currentLevelLabel)&&void 0!==n?n:"")),e.R7$(2),e.Y8G("ngIf","en"===e.bMT(7,9,i.lang$)),e.R7$(4),e.Lme(" ",e.bMT(11,11,"ticketLeft"),": ",i.supremeGame.tickets[i.currentLevel]," ")}}function di(o,t){if(1&o){const n=e.RV6();e.j41(0,"div",14),e.nrm(1,"div",43),e.j41(2,"div",44)(3,"div",45),e.EFF(4),e.nI1(5,"lowercase"),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",46),e.bIt("click",function(){const r=e.eBV(n).$index,s=e.XpG();return e.Njj(s.onLevelClick(r))}),e.nrm(8,"div",47),e.EFF(9),e.nI1(10,"number"),e.nI1(11,"translate"),e.k0s()()()}if(2&o){const n=t.$implicit,i=t.$index,r=e.XpG();e.R7$(4),e.JRh(e.bMT(6,8,e.bMT(5,6,n.label))),e.R7$(3),e.AVh("disabled",2===r.supremeGame.todayEarnedTokens||r.supremeGame.tokenPoints[i]>r.supremeGame.totalPoints||!r.supremeGame.tokenPoints[i]||n.isProcessing||r.isSpinning),e.R7$(2),e.E5c(" ",r.supremeGame.tokenPoints[i]>0?"-":"","",e.bMT(10,10,r.supremeGame.tokenPoints[i]),"",e.bMT(11,12,"pts")," ")}}let $e=class je{constructor(){this.titleTemplate=e.hFB.required(),this.isMaintaining=e.hFB.required(),this.winnerListComponent=e.ebz.required(N),this.spinWheel=(0,e.ebz)(Q),this.modalService=(0,e.WQX)(V.Bq),this.utilService=(0,e.WQX)(B.a),this.playerService=(0,e.WQX)(re),this.translateService=(0,e.WQX)(O.c$),this.country$=this.utilService.country$,this.currency$=this.utilService.currency$,this.lang$=this.utilService.lang$.pipe((0,$.T)(t=>t.toLowerCase())),this.currentLevel=y.q.Bronze,this.supremeGame={tickets:[0,0,0],totalPoints:0,todayEarnedTokens:0,depositAmountPerPoint:0,tokenPoints:[0,0,0]},this.levels=[{level:y.q.Bronze,label:y.q[y.q.Bronze],isProcessing:!1},{level:y.q.Silver,label:y.q[y.q.Silver],isProcessing:!1},{level:y.q.Gold,label:y.q[y.q.Gold],isProcessing:!1}]}ngOnInit(){this.loadSupremeGame().subscribe(),this.currentLevelLabel=y.q[this.currentLevel].toLowerCase(),this.currentLevelSuffix=y.D[this.currentLevel]}onGetPrize(t){this.loadSupremeGame().subscribe(),this.winnerListComponent().refresh();const n=this.modalService.open(qe,{size:"xl",backdrop:"static",keyboard:!1,modalDialogClass:"prize-modal",centered:!0});n.componentInstance.prize=t,n.componentInstance.isSupremeMode=!0}testOpenPrizeModal(){this.onGetPrize({name:"MYR 3888",wheelAmount:W.Y.GoldPrizeAmount,order:99})}onLevelClick(t){if(this.levels[t].isProcessing||this.isSpinning)return;const n=this.modalService.open(ei.d,{size:"lg",backdrop:"static",keyboard:!1,centered:!0});this.utilService.showModalBackdrop(n),n.componentInstance.title="areYouSureWantToPurchase",n.componentInstance.message=this.translateService.instant("thisActionWillDeduct",{points:this.supremeGame.tokenPoints[t]}),n.componentInstance.primaryButtonText="modal.yes",n.componentInstance.secondaryButtonText="modal.cancel",n.result.then(i=>{i&&(this.levels[t].isProcessing=!0,this.playerService.claimTokenFromPoints(t).pipe((0,A.s)(this),(0,ue.W)(r=>(this.levels[t].isProcessing=!1,r.error?.detail&&this.utilService.showDialogModal({title:"Error",message:r.error.detail,primaryButtonText:"OK"}),me.w))).subscribe(()=>{this.levels[t].isProcessing=!1,this.switchLevel(t),this.loadSupremeGame().subscribe(),this.utilService.showDialogModal({title:"purchaseComplete",icon:"assets/images/icon/green-check.svg",message:"purchaseCompleteMessage",primaryButtonText:"modal.backToGame"})}))},i=>{})}switchLevel(t){this.isSpinning||(this.currentLevel=this.levels[t].level,this.currentLevelLabel=y.q[this.currentLevel].toLowerCase(),this.currentLevelSuffix=y.D[this.currentLevel])}get isSpinning(){return this.spinWheel()?.isSpinning}onShowTermsAndConditions(){this.utilService.showTermsAndConditions(this.supremeGame.eventStartTime,this.supremeGame.eventEndTime)}loadSupremeGame(){return this.country$.pipe((0,oe.s)(1),(0,Ve.v)(this.utilService.currentSiteInfo$.pipe((0,A.s)(this))),(0,Me.p)(([t,n])=>!!n.id),(0,Qe.n)(([t,n])=>this.playerService.getSupremeGame(t?.toUpperCase()).pipe((0,Oe.M)(i=>{this.supremeGame=i}),(0,ue.W)(i=>(i.error?.detail&&alert(i.error.detail),me.w)))))}static{this.\u0275fac=function(n){return new(n||je)}}static{this.\u0275cmp=e.VBU({type:je,selectors:[["app-supreme-spin"]],viewQuery:function(n,i){1&n&&(e.wEZ(i.winnerListComponent,N,5),e.wEZ(i.spinWheel,Q,5)),2&n&&e.NyB(2)},inputs:{titleTemplate:[1,"titleTemplate"],isMaintaining:[1,"isMaintaining"]},standalone:!1,decls:37,vars:26,consts:[["levelInfoTmp",""],["class","wrapper",3,"appBackgroundImgLoading",4,"ngIf"],[1,"fortune"],[1,"daily-mission-board","p-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],[1,"mission-icon"],[1,"mission-text"],[1,"progress"],[1,"progress-icon"],[1,"daily-info","absolute","left-1/2","-translate-x-1/2"],[1,"your-points","absolute","left-1/2","-translate-x-1/2"],[1,"points"],[1,"level-missions","absolute","left-1/2","-translate-x-1/2","mt-6"],[1,"level-item","flex","items-center","mt-2"],[1,"winner-container","p-6"],[1,"flex","justify-center","width-full"],["type","button",1,"terms-btn"],[3,"click"],[1,"wrapper",3,"appBackgroundImgLoading"],[1,"titlebar"],[3,"ngTemplateOutlet"],[1,"XiaoSan",3,"appBackgroundImgLoading"],["class","game-container",4,"ngIf"],[1,"level-container","absolute","left-1/2","-translate-x-1/2"],[1,"level-scaling"],[1,"level-selection"],[1,"level",3,"disabled","has-tickets"],[1,"hidden","md:block"],[1,"block","md:hidden","absolute","bottom-0","w-full"],[1,"game-container"],[3,"onGetPrize","disabled","currentLevel"],[1,"level",3,"click"],["class","noti absolute right-5 top-2",4,"ngIf"],["class","enter-zone absolute top-3/4 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center justify-center",4,"ngIf"],[1,"noti","absolute","right-5","top-2"],[1,"enter-zone","absolute","top-3/4","left-1/2","-translate-x-1/2","-translate-y-1/2","flex","items-center","justify-center"],[1,"flex","flex-col","items-center","text-center","md:ml-10"],[1,"current-level-label"],[1,"capitalize"],[4,"ngIf"],[1,"ticket-left","flex","items-center","justify-center"],[1,"ticket-icon"],[1,"level-spin"],[1,"level-bar","flex","items-center","justify-between"],[1,"level-title"],[1,"level-btn",3,"click"],[1,"cart-icon"]],template:function(n,i){if(1&n){const r=e.RV6();e.DNE(0,ai,15,12,"div",1)(1,li,12,13,"ng-template",null,0,e.C5r),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),e.nrm(7,"div",6),e.j41(8,"span",7),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",8),e.nrm(12,"div",9),e.j41(13,"span"),e.EFF(14),e.k0s()()(),e.j41(15,"div",10),e.EFF(16),e.nI1(17,"async"),e.nI1(18,"number"),e.nI1(19,"translate"),e.k0s(),e.j41(20,"div",11),e.EFF(21),e.nI1(22,"translate"),e.nrm(23,"br"),e.j41(24,"span",12),e.EFF(25),e.nI1(26,"number"),e.k0s()(),e.j41(27,"div",13),e.Z7z(28,di,12,14,"div",14,e.Vm6),e.k0s()(),e.j41(30,"div",15),e.nrm(31,"app-winner-list"),e.k0s()(),e.j41(32,"div",16)(33,"button",17)(34,"span",18),e.bIt("click",function(){return e.eBV(r),e.Njj(i.onShowTermsAndConditions())}),e.EFF(35),e.nI1(36,"translate"),e.k0s()()()}2&n&&(e.Y8G("ngIf",i.currentLevelLabel),e.R7$(9),e.JRh(e.bMT(10,7,"dailyMissionBoard")),e.R7$(5),e.SpI("",i.supremeGame.todayEarnedTokens,"/2"),e.R7$(2),e.SpI(" ",e.i5U(19,14,"pointsReset",e.l_i(23,ti,e.bMT(17,9,i.currency$),e.i5U(18,11,i.supremeGame.depositAmountPerPoint,"1.2-2")))," "),e.R7$(5),e.SpI(" ",e.bMT(22,17,"yourPoints"),""),e.R7$(4),e.JRh(e.bMT(26,19,i.supremeGame.totalPoints)),e.R7$(3),e.Dyx(i.levels),e.R7$(7),e.JRh(e.bMT(36,21,"termsAndConditions")))},dependencies:[m.bT,m.T3,N,Q,Ie,m.Jj,m.GH,m.QX,O.D9],styles:['.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:16px;height:674px;overflow:hidden;position:relative;background-size:cover;transition:background-image .1s ease-in-out}@media screen and (min-width: 768px){.wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:0;width:100%;height:125px;opacity:.76;background:linear-gradient(0deg,#293bb7bf 15.22%,#293bb700 90.94%)}}@media only screen and (max-width: 767px){.wrapper[_ngcontent-%COMP%]{border-radius:0;background-position:center;height:auto;min-height:168vw}}.titlebar[_ngcontent-%COMP%]{position:absolute;top:50px;z-index:0}@media only screen and (max-width: 767px){.titlebar[_ngcontent-%COMP%]{top:0;left:0;width:100%;text-align:center}.titlebar[_ngcontent-%COMP%]     .title{padding:8px 0;width:100%}.titlebar[_ngcontent-%COMP%]     .title:before{background:linear-gradient(90deg,#fdbb2c00 -46.54%,#fdbb2cab 50.28%,#fdbb2c00 153.08%),#0515579c}}.XiaoSan[_ngcontent-%COMP%]{background-size:contain;background-repeat:no-repeat;position:absolute;width:470.174px;height:470.174px;transform:rotate(5.778deg);top:176px;left:605.71px}@media screen and (max-width: 767px){.XiaoSan[_ngcontent-%COMP%]{left:auto;width:75vw;height:75vw;top:106vw;right:-10vw}}.game-container[_ngcontent-%COMP%]{margin-top:-40px}@media screen and (max-width: 767px){.game-container[_ngcontent-%COMP%]{margin-top:24vw;margin-bottom:24vw}.game-container[_ngcontent-%COMP%]     .spin-container{transform:scale(calc(var(--game-scale) * .75));height:125vw}}.level-container[_ngcontent-%COMP%]{bottom:0}@media only screen and (max-width: 767px){.level-container[_ngcontent-%COMP%]{bottom:auto;top:15vw}.level-container[_ngcontent-%COMP%]   .level-scaling[_ngcontent-%COMP%]{transform:scale(calc(var(--game-scale) * .95))}}.level-indicator[_ngcontent-%COMP%]{width:51.864px;height:73.416px;position:absolute;top:-30px;background-repeat:no-repeat;background-size:contain;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/level-indicator.2b97b3358bb42e3e.png);z-index:4;transition:left .3s ease-in-out}.level-indicator.bronze[_ngcontent-%COMP%]{left:73px}.level-indicator.silver[_ngcontent-%COMP%]{left:248px}@media screen and (max-width: 767px){.level-indicator.silver[_ngcontent-%COMP%]{left:240px}}.level-indicator.gold[_ngcontent-%COMP%]{left:415px}@media screen and (max-width: 767px){.level-indicator.gold[_ngcontent-%COMP%]{left:396px}}.level-selection[_ngcontent-%COMP%]{position:relative;width:748px;height:124px;bottom:0;border-top-left-radius:16px;border-top-right-radius:16px;border:1px solid #B49BFF;border-bottom:0;overflow:hidden;background:radial-gradient(189.62% 238.27% at 50% -51.47%,#1b053785,#31006c85 19.54%,#4310896b 45.37%,#400e8670 60.9%,#813dbd00);color:#fff}@media screen and (max-width: 767px){.level-selection[_ngcontent-%COMP%]{width:489px;border-radius:16px;box-shadow:0 12px 29.3px #051557c9}}.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{position:absolute;top:0;height:124px;width:100%;background-repeat:no-repeat;background-size:contain}@media screen and (min-width: 768px){.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]:hover.disabled:before{content:none}}.level-selection[_ngcontent-%COMP%]   .level.disabled[_ngcontent-%COMP%]{cursor:pointer}.level-selection[_ngcontent-%COMP%]   .level.disabled[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:inherit;filter:grayscale(100%)}.level-selection[_ngcontent-%COMP%]   .level.disabled[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:1}.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]:nth-child(1){background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/brone-map%20b.6d18b72f08d19cce.png);width:196px;left:0;z-index:3}.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]:nth-child(1)   .enter-zone[_ngcontent-%COMP%]{left:46%}@media screen and (max-width: 767px){.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]:nth-child(1){left:-8px}}.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]:nth-child(2){background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/silver-map%20s.783dde4c55756f5a.png);width:253px;left:112px;z-index:2}.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]:nth-child(2)   .enter-zone[_ngcontent-%COMP%]{left:55%}@media screen and (max-width: 767px){.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]:nth-child(2){left:98px}}.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]:nth-child(3){background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/gold-map%20g.03a138f786bcb87f.png);width:260px;left:278px;z-index:1}.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]:nth-child(3)   .enter-zone[_ngcontent-%COMP%]{left:51%}@media screen and (max-width: 767px){.level-selection[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]:nth-child(3)   .noti[_ngcontent-%COMP%]{right:55px}}.level-selection[_ngcontent-%COMP%]   .enter-zone[_ngcontent-%COMP%]{width:90px;height:28px;border-radius:8px;border:1px solid #FFF;background:linear-gradient(180deg,#ffcd0c40 -191.07%,#fca20d 130.36%);color:#fff;text-shadow:0px 2.17px 2.604px rgba(5,21,87,.31);font-size:14px;font-style:normal;font-weight:700;line-height:normal;cursor:pointer}.level-selection[_ngcontent-%COMP%]   .enter-zone[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#ffcd0c00 -191.07%,#fca20dcc 130.36%)}.level-selection[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]{display:flex;width:31.103px;height:31.103px;padding:4.25px 10.941px 3.853px 10.162px;justify-content:center;align-items:center;flex-shrink:0;border-radius:6911.147px;background:#fc5d0d}.current-level[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:265px;height:100%;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;color:#fff}.current-level.bronze[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/level-bg%20b.9ca1011fd4373f97.png)}.current-level.silver[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/level-bg%20s.9ca1011fd4373f97.png)}.current-level.gold[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/level-bg%20g.9ca1011fd4373f97.png)}@media screen and (max-width: 767px){.current-level[_ngcontent-%COMP%]{position:relative;width:100%;padding:12px}.current-level.bronze[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/level-bg-m%20b.fef4b0f70a6ed997.png)}.current-level.silver[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/level-bg-m%20s.fef4b0f70a6ed997.png)}.current-level.gold[_ngcontent-%COMP%]{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/level-bg-m%20g.fef4b0f70a6ed997.png)}}.current-level-label[_ngcontent-%COMP%]{font-weight:700;font-size:33.21px;line-height:100%;letter-spacing:0%;text-align:center}@media screen and (max-width: 767px){.current-level-label[_ngcontent-%COMP%]{font-size:28px}}.ticket-left[_ngcontent-%COMP%]{width:300px;height:36.988px;border:1.451px solid rgba(255,255,255,.5);opacity:.8;background:linear-gradient(90deg,#fdbb2c00,#fdbb2c94);margin-top:5px}@media screen and (max-width: 767px){.ticket-left[_ngcontent-%COMP%]{width:200px;margin-top:8px;height:30.142px;position:relative;border:none;background:radial-gradient(40.86% 123% at 50% 50%,#fdbb2c94,#fdbb2c00)}.ticket-left[_ngcontent-%COMP%]:before, .ticket-left[_ngcontent-%COMP%]:after{content:"";width:50%;position:absolute;inset:0;padding:1px;-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;z-index:2;pointer-events:none}.ticket-left[_ngcontent-%COMP%]:before{background:linear-gradient(270deg,#fff,#fff0);padding-right:0}.ticket-left[_ngcontent-%COMP%]:after{background:linear-gradient(90deg,#fff,#fff0);padding-left:0;left:auto;right:0}}.ticket-icon[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:8px;background-repeat:no-repeat;background-size:cover;background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/ticket.3f510b902f7dd8ad.svg)}.fortune[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:space-between;gap:20px}@media screen and (max-width: 767px){.fortune[_ngcontent-%COMP%]{margin:0;padding:10px;flex-direction:column}}.daily-mission-board[_ngcontent-%COMP%]{position:relative;width:676px;height:660px;border-radius:16px;overflow:hidden;background:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/daily-mission.d2048aa0638f5a74.png) no-repeat center/cover}@media screen and (max-width: 767px){.daily-mission-board[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 480px){.daily-mission-board[_ngcontent-%COMP%]{height:560px}.daily-mission-board[_ngcontent-%COMP%]   .mission-text[_ngcontent-%COMP%]{font-size:22px}.daily-mission-board[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:auto;height:36px;padding:5px 12px}.daily-mission-board[_ngcontent-%COMP%]   .your-points[_ngcontent-%COMP%]{font-size:40px}.daily-mission-board[_ngcontent-%COMP%]   .your-points[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{font-size:105.509px}.daily-mission-board[_ngcontent-%COMP%]   .level-missions[_ngcontent-%COMP%]{top:310px}.daily-mission-board[_ngcontent-%COMP%]   .level-missions[_ngcontent-%COMP%]   .level-spin[_ngcontent-%COMP%]{width:55px;height:60px}.daily-mission-board[_ngcontent-%COMP%]   .level-missions[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]{padding-left:28px;height:42.988px}.daily-mission-board[_ngcontent-%COMP%]   .level-missions[_ngcontent-%COMP%]   .level-title[_ngcontent-%COMP%]{font-size:26px}.daily-mission-board[_ngcontent-%COMP%]   .level-missions[_ngcontent-%COMP%]   .level-btn[_ngcontent-%COMP%]{font-size:13.744px;width:134px;height:32px;padding:2.791px 12.543px}}.daily-mission-board[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;padding:2px;border-radius:16px;background:linear-gradient(180deg,#ffe16c,#ffe26c00);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;z-index:2;pointer-events:none}.mission-icon[_ngcontent-%COMP%]{width:23px;height:21px;background:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/mission-icon.cfcd4056e487d9a7.svg) no-repeat center/contain}.mission-text[_ngcontent-%COMP%]{font-size:32px;font-style:normal;font-weight:700;line-height:normal;background:linear-gradient(90deg,#fca20d,#ffcd0c);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.progress[_ngcontent-%COMP%]{display:flex;width:112px;height:40px;padding:8px 16px;justify-content:center;align-items:center;gap:16px;flex-shrink:0;border-radius:72px;background:#fca20d5e;color:#fff;font-size:20px;font-style:normal;font-weight:700;line-height:normal}.progress-icon[_ngcontent-%COMP%]{width:25px;height:25px;background:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/charm_circle-tick.291ee5e1d82bd7f3.svg) no-repeat center/contain}.daily-info[_ngcontent-%COMP%]{height:47.448px;white-space:nowrap;padding:11px;border-radius:16px 16px 0 0;top:100px;background:linear-gradient(180deg,#fdbb2c94 -25.4%,#97701a00);color:#ffffffd9;text-align:center;font-family:NotoSans;font-size:12px;font-style:normal;font-weight:400;line-height:normal}.daily-info[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;padding:1px;border-radius:16px 16px 0 0;background:linear-gradient(180deg,#fff,#fff0);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;z-index:2;pointer-events:none}@media screen and (max-width: 767px){.daily-info[_ngcontent-%COMP%]{font-size:10px}}.your-points[_ngcontent-%COMP%]{height:281px;border-radius:281px;top:140px;color:#fff;font-size:48.503px;font-style:normal;font-weight:500;line-height:normal;text-align:center;white-space:nowrap}.your-points[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#ffcd0c47;filter:blur(97.8892440796px);z-index:-1;pointer-events:none}.your-points[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{font-size:125.509px;font-style:normal;font-weight:700;line-height:normal;background:linear-gradient(90deg,#fca20d,#ffcd0c);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.level-missions[_ngcontent-%COMP%]{top:340px}.level-missions[_ngcontent-%COMP%]   .level-item[_ngcontent-%COMP%]:nth-child(1)   .level-spin[_ngcontent-%COMP%]{background:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/spin.1c1ecb8b47740dd0.png) no-repeat center/contain}.level-missions[_ngcontent-%COMP%]   .level-item[_ngcontent-%COMP%]:nth-child(2)   .level-spin[_ngcontent-%COMP%]{background:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/spin.be3d27e6c91469e6.png) no-repeat center/contain}.level-missions[_ngcontent-%COMP%]   .level-item[_ngcontent-%COMP%]:nth-child(3)   .level-spin[_ngcontent-%COMP%]{background:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/spin.5e05d22211085635.png) no-repeat center/contain}.level-missions[_ngcontent-%COMP%]   .level-spin[_ngcontent-%COMP%]{width:75px;height:75px;z-index:1}.level-missions[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]{width:432.963px;max-width:432.963px;height:50.988px;border:2px solid rgba(255,255,255,0);margin-left:-15px;padding-left:42px;position:relative}@media screen and (max-width: 767px){.level-missions[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]{width:70vw}}.level-missions[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;padding:1px;background:linear-gradient(90deg,#fff,#fff0);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;pointer-events:none}.level-missions[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;opacity:.8;background:linear-gradient(270deg,#fdbb2c00,#fdbb2c94);z-index:-1}.level-missions[_ngcontent-%COMP%]   .level-title[_ngcontent-%COMP%]{font-size:33.211px;font-style:normal;font-weight:700;line-height:normal;background:linear-gradient(90deg,#fca20d,#ffcd0c);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-transform:capitalize}.level-missions[_ngcontent-%COMP%]   .level-btn[_ngcontent-%COMP%]{display:flex;width:140px;height:39px;padding:14.791px 20.543px;justify-content:center;align-items:center;gap:8.217px;flex-shrink:0;border-radius:6.574px;background:#fdbb2c;box-shadow:0 2.474px 14.3px #00000040,0 2.889px 6.185px #ffffff80 inset;color:#000;text-align:center;font-size:14.844px;font-style:normal;font-weight:700;line-height:normal;white-space:nowrap;cursor:pointer}.level-missions[_ngcontent-%COMP%]   .level-btn[_ngcontent-%COMP%]:hover{background:#ffcd0c}.level-missions[_ngcontent-%COMP%]   .level-btn.disabled[_ngcontent-%COMP%]{background:#a6a6a6;cursor:not-allowed;pointer-events:none}.level-missions[_ngcontent-%COMP%]   .level-btn.disabled[_ngcontent-%COMP%]:hover{background:#a6a6a6}.level-missions[_ngcontent-%COMP%]   .cart-icon[_ngcontent-%COMP%]{min-width:24px;height:24px;background:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/cart-outline.3fb484a0a4c761ef.svg) no-repeat center/contain}@media screen and (max-width: 767px){.level-missions[_ngcontent-%COMP%]   .cart-icon[_ngcontent-%COMP%]{min-width:20px}}.winner-container[_ngcontent-%COMP%]{position:relative;width:412px;height:660px;border-top-left-radius:16px;border-top-right-radius:16px;background:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/winner-list.ee7742081c0e7cf9.png) no-repeat center/cover}@media screen and (max-width: 767px){.winner-container[_ngcontent-%COMP%]{width:100%;height:560px}}.winner-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;padding:2px;border-radius:16px;background:linear-gradient(180deg,#ffe16c,#ffe26c00);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;z-index:2;pointer-events:none}.winner-container[_ngcontent-%COMP%]     div.glow{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/Glow.0b666b663d023f0f.svg);width:149.813px;height:149.813px;top:-40px;right:-2px}.winner-container[_ngcontent-%COMP%]     div.title span{font-size:32px}.winner-container[_ngcontent-%COMP%]     div.title .prime-crown{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/prime_crown.1e524198aa139fa9.svg)}.winner-container[_ngcontent-%COMP%]     .user-icon{background-image:url(https://cdn.jsdelivr.net/gh/uwn33/u3spincdn@0.10/user.ac5571270581c6f4.svg)!important}.terms-btn[_ngcontent-%COMP%]{min-height:40px;font-weight:700;font-size:16px;line-height:26px;text-align:center;color:#000;padding-left:25px;padding-right:25px;margin-bottom:30px;border-radius:6px;background-color:#fdbb2c}.terms-btn[_ngcontent-%COMP%]:hover{color:#212529;background-color:#e0a800;cursor:pointer;opacity:.7}@media screen and (max-width: 767px){.terms-btn[_ngcontent-%COMP%]{font-size:15.344px}}']})}};function pi(o,t){if(1&o&&e.nrm(0,"app-spin-and-win",3),2&o){const n=e.XpG(),i=e.sdS(5);e.Y8G("titleTemplate",i)("isMaintaining",n.isMaintaining())}}function gi(o,t){if(1&o&&e.nrm(0,"app-supreme-spin",3),2&o){const n=e.XpG(),i=e.sdS(5);e.Y8G("titleTemplate",i)("isMaintaining",n.isMaintaining())}}function hi(o,t){1&o&&(e.j41(0,"div",4),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"titleSeptTheme")," "))}function ui(o,t){1&o&&(e.j41(0,"div",5)(1,"div",6),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&o&&(e.R7$(2),e.SpI("\u23f3 ",e.bMT(3,1,"maintenanceContent"),""))}$e=(0,ie.Cg)([(0,A.d)()],$e);const mi=[{path:"",component:(()=>{class o{constructor(){this.utilService=(0,e.WQX)(B.a),this.signalRService=(0,e.WQX)(Xe),this.maintenanceService=(0,e.WQX)(Lt),this.isMaintaining=(0,e.vPA)(!1),this.currency$=this.utilService.currency$,this.isNormalGameMode$=this.utilService.isGameMode$(G.U.SpinWin,G.U.TapWin),this.isSupremeGameMode$=this.utilService.isGameMode$(G.U.Supreme)}ngOnInit(){this.signalRService.connectHub(`${Ce.c.apiUrl}${window.location.pathname}`),this.maintenanceService.status$.subscribe(i=>{this.isMaintaining()&&i.isMaintaining!==this.isMaintaining()&&window.location.reload(),this.isMaintaining.set(i.isMaintaining)});const n=()=>{document.documentElement.style.setProperty("--parent-inner-height",window.parent.innerHeight+"px"),document.documentElement.style.setProperty("--game-scale",window.parent.innerWidth/633*1.2+"")};n(),window.parent.addEventListener("resize",()=>{n()}),typeof ResizeObserver<"u"?new ResizeObserver(()=>{this.setParentIframeHeight()}).observe(document.body):setTimeout(()=>{this.setParentIframeHeight()},1e3)}setParentIframeHeight(){window.frameElement&&(window.frameElement.style.height=`${document.body.scrollHeight}px`)}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-game-portal"]],standalone:!1,decls:7,vars:7,consts:[["title",""],[3,"titleTemplate","isMaintaining",4,"ngIf"],["class","maintenance-notice",4,"ngIf"],[3,"titleTemplate","isMaintaining"],[1,"title"],[1,"maintenance-notice"],[1,"maintenance-content"]],template:function(i,r){1&i&&(e.DNE(0,pi,1,2,"app-spin-and-win",1),e.nI1(1,"async"),e.DNE(2,gi,1,2,"app-supreme-spin",1),e.nI1(3,"async"),e.DNE(4,hi,3,3,"ng-template",null,0,e.C5r)(6,ui,4,3,"div",2)),2&i&&(e.Y8G("ngIf",e.bMT(1,3,r.isNormalGameMode$)),e.R7$(2),e.Y8G("ngIf",e.bMT(3,5,r.isSupremeGameMode$)),e.R7$(4),e.Y8G("ngIf",r.isMaintaining()))},dependencies:[m.bT,Te,$e,m.Jj,O.D9],styles:['.title[_ngcontent-%COMP%]{font-family:NotoSans;position:relative;z-index:1;font-weight:400;width:fit-content;padding:8px 44px;font-size:30px;line-height:37px;color:#fff}@media only screen and (max-width: 768px){.title[_ngcontent-%COMP%]{padding:8px 53px 7px 17px;font-size:20px;line-height:24px}}@media only screen and (max-width: 500px){.title[_ngcontent-%COMP%]{padding-right:36px}}.title[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#fdbb2c00,#fdbb2c93 30% 70%,#fdbb2c00);z-index:-1;opacity:80%}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#fdbb2c}.maintenance-notice[_ngcontent-%COMP%]{position:absolute;background:#0000007a;width:100%;height:100%;right:0;z-index:1020;display:flex;flex-direction:column;align-items:center;top:50%;left:50%;transform:translate(-50%,-50%)}.maintenance-content[_ngcontent-%COMP%]{padding:8px 24px;border-radius:10px;background:#492528d4;font-family:Noto Sans;font-size:20px;font-weight:700;line-height:40px;color:#fff;z-index:20;width:max-content;margin-top:250px}@media screen and (max-width: 768px){.maintenance-content[_ngcontent-%COMP%]{max-width:62vw;font-size:3vw;padding:2vw 5vw;line-height:6vw;text-align:center;text-wrap:balance}}']})}}return o})()}];let fi=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[de.iI.forChild(mi),de.iI]})}}return o})(),_i=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[m.MD,le,fi,ce,O.h]})}}return o})()}}]);